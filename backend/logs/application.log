2025-06-13 00:00:02,760 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications/unread-count
2025-06-13 00:00:02,761 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-06-13 00:00:02,762 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0OTc0NzM2MSwiZXhwIjoxNzQ5ODMzNzYxfQ.BqviXklEAzHlByLg1aalvS3y9P_vi-heJqtjYnVnvotZEmOZ-LDjNFz3Yd5_Bt06wDsUGnHnBeJOCWs9P1OQHA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:02,762 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0OTc0NzM2MSwiZXhwIjoxNzQ5ODMzNzYxfQ.BqviXklEAzHlByLg1aalvS3y9P_vi-heJqtjYnVnvotZEmOZ-LDjNFz3Yd5_Bt06wDsUGnHnBeJOCWs9P1OQHA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:02,763 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?page=0&size=10&currentUserId=1
2025-06-13 00:00:02,763 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications/unread-count?currentUserId=1
2025-06-13 00:00:02,763 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:02,763 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:02,764 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:02,764 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:02,764 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-06-13 00:00:02,765 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-06-13 00:00:02,765 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:02,765 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:02,765 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:02,765 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:02,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?page=0&size=10&currentUserId=1
2025-06-13 00:00:02,766 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications/unread-count?currentUserId=1
2025-06-13 00:00:02,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:02,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:02,768 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:02,768 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:02,769 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:02,769 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:02,769 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:02,769 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:02,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-06-13 00:00:02,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:00:02,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:02,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:02,771 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:02,771 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=8ms
2025-06-13 00:00:02,772 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:02,772 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=9ms
2025-06-13 00:00:04,006 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:00:04,006 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:00:04,006 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:00:32,755 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:00:32,755 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications/unread-count
2025-06-13 00:00:32,758 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0OTc0NzM2MSwiZXhwIjoxNzQ5ODMzNzYxfQ.BqviXklEAzHlByLg1aalvS3y9P_vi-heJqtjYnVnvotZEmOZ-LDjNFz3Yd5_Bt06wDsUGnHnBeJOCWs9P1OQHA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:32,758 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0OTc0NzM2MSwiZXhwIjoxNzQ5ODMzNzYxfQ.BqviXklEAzHlByLg1aalvS3y9P_vi-heJqtjYnVnvotZEmOZ-LDjNFz3Yd5_Bt06wDsUGnHnBeJOCWs9P1OQHA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:32,758 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=1
2025-06-13 00:00:32,758 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications/unread-count?currentUserId=1
2025-06-13 00:00:32,758 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:32,758 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:32,759 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:32,759 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:32,759 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-06-13 00:00:32,759 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-06-13 00:00:32,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:32,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:32,760 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:32,760 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:32,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=1
2025-06-13 00:00:32,761 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications/unread-count?currentUserId=1
2025-06-13 00:00:32,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:32,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:32,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:32,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:32,763 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:32,763 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:32,763 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:32,763 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:32,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:00:32,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-06-13 00:00:32,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:32,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:32,764 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:32,764 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=6ms
2025-06-13 00:00:32,765 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:32,765 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=7ms
2025-06-13 00:00:34,021 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:00:34,021 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:00:34,021 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:00:40,988 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/top
2025-06-13 00:00:40,988 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0OTc0NzM2MSwiZXhwIjoxNzQ5ODMzNzYxfQ.BqviXklEAzHlByLg1aalvS3y9P_vi-heJqtjYnVnvotZEmOZ-LDjNFz3Yd5_Bt06wDsUGnHnBeJOCWs9P1OQHA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:40,988 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/top?limit=6&currentUserId=1
2025-06-13 00:00:40,988 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:40,990 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:40,990 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-06-13 00:00:40,991 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:40,991 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:40,992 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/top?limit=6&currentUserId=1
2025-06-13 00:00:40,994 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-06-13 00:00:40,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:40,996 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [19]
2025-06-13 00:00:40,997 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:40,997 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [10]
2025-06-13 00:00:40,998 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:40,998 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [14]
2025-06-13 00:00:40,999 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:40,999 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [16]
2025-06-13 00:00:41,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,000 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [18]
2025-06-13 00:00:41,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,001 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-06-13 00:00:41,001 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:41,001 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:41,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,002 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [27]
2025-06-13 00:00:41,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,003 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [35]
2025-06-13 00:00:41,003 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,003 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [31]
2025-06-13 00:00:41,003 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,004 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-06-13 00:00:41,005 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,005 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [40]
2025-06-13 00:00:41,006 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:41,006 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=18ms
2025-06-13 00:00:41,007 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/top
2025-06-13 00:00:41,007 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0OTc0NzM2MSwiZXhwIjoxNzQ5ODMzNzYxfQ.BqviXklEAzHlByLg1aalvS3y9P_vi-heJqtjYnVnvotZEmOZ-LDjNFz3Yd5_Bt06wDsUGnHnBeJOCWs9P1OQHA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:41,007 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/top?limit=6&currentUserId=1
2025-06-13 00:00:41,007 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:41,008 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:41,008 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-06-13 00:00:41,009 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:41,009 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:41,010 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/top?limit=6&currentUserId=1
2025-06-13 00:00:41,010 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-06-13 00:00:41,011 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,012 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [19]
2025-06-13 00:00:41,013 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,013 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [10]
2025-06-13 00:00:41,014 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,014 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [14]
2025-06-13 00:00:41,014 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,014 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [16]
2025-06-13 00:00:41,015 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,015 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [18]
2025-06-13 00:00:41,016 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,016 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [25]
2025-06-13 00:00:41,017 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:41,017 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:41,018 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,018 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [27]
2025-06-13 00:00:41,019 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,019 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [35]
2025-06-13 00:00:41,020 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,020 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [31]
2025-06-13 00:00:41,020 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,021 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [36]
2025-06-13 00:00:41,021 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,021 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [40]
2025-06-13 00:00:41,022 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:41,022 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=15ms
2025-06-13 00:00:41,023 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products/top
2025-06-13 00:00:41,023 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0OTc0NzM2MSwiZXhwIjoxNzQ5ODMzNzYxfQ.BqviXklEAzHlByLg1aalvS3y9P_vi-heJqtjYnVnvotZEmOZ-LDjNFz3Yd5_Bt06wDsUGnHnBeJOCWs9P1OQHA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:41,023 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products/top?limit=6&currentUserId=1
2025-06-13 00:00:41,023 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:41,025 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:41,025 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-06-13 00:00:41,026 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:41,026 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:41,027 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products/top?limit=6&currentUserId=1
2025-06-13 00:00:41,028 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-06-13 00:00:41,029 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,029 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [19]
2025-06-13 00:00:41,031 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,031 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [10]
2025-06-13 00:00:41,031 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,031 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [14]
2025-06-13 00:00:41,031 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,031 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [16]
2025-06-13 00:00:41,031 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:41,031 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [18]
2025-06-13 00:00:41,034 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,034 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [25]
2025-06-13 00:00:41,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:41,035 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:41,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,035 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [27]
2025-06-13 00:00:41,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,035 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [35]
2025-06-13 00:00:41,038 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,038 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [31]
2025-06-13 00:00:41,040 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,040 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [36]
2025-06-13 00:00:41,040 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_12_0_,
        reviews0_.id as id1_12_0_,
        reviews0_.id as id1_12_1_,
        reviews0_.anonymous as anonymou2_12_1_,
        reviews0_.comment as comment3_12_1_,
        reviews0_.created_at as created_4_12_1_,
        reviews0_.product_id as product_8_12_1_,
        reviews0_.rating as rating5_12_1_,
        reviews0_.title as title6_12_1_,
        reviews0_.updated_at as updated_7_12_1_,
        reviews0_.user_id as user_id9_12_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-06-13 00:00:41,041 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [40]
2025-06-13 00:00:41,041 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:41,041 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=18ms
2025-06-13 00:00:44,337 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: POST /auth/signin
2025-06-13 00:00:44,338 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, content-length=41, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,338 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing POST /auth/signin
2025-06-13 00:00:44,338 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,339 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:00:44,339 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured POST /auth/signin
2025-06-13 00:00:44,344 INFO com.example.tmdt.controller.AuthController [http-nio-8080-exec-8] Attempting to authenticate user: admin
2025-06-13 00:00:44,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,346 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,420 DEBUG org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-8] Authenticated user
2025-06-13 00:00:44,420 INFO com.example.tmdt.controller.AuthController [http-nio-8080-exec-8] User admin successfully authenticated with roles: [ROLE_ADMIN]
2025-06-13 00:00:44,421 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,421 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=83ms
2025-06-13 00:00:44,424 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: POST /auth/signin
2025-06-13 00:00:44,424 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, content-length=41, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,424 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing POST /auth/signin
2025-06-13 00:00:44,424 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,425 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:00:44,425 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured POST /auth/signin
2025-06-13 00:00:44,425 INFO com.example.tmdt.controller.AuthController [http-nio-8080-exec-3] Attempting to authenticate user: admin
2025-06-13 00:00:44,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,426 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,427 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,428 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,497 DEBUG org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2025-06-13 00:00:44,498 INFO com.example.tmdt.controller.AuthController [http-nio-8080-exec-3] User admin successfully authenticated with roles: [ROLE_ADMIN]
2025-06-13 00:00:44,498 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,498 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=74ms
2025-06-13 00:00:44,532 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-6] REQUEST: GET /chat
2025-06-13 00:00:44,532 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-6] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=UbV0AmSTgkILHc2jehTzbQ==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:00:44,532 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-6] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:00:44,532 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,533 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,533 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,534 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,534 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,535 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-6] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:00:44,536 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,536 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-6] RESPONSE: Status=101, Time=4ms
2025-06-13 00:00:44,537 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] WebSocket connection established: 3a87d507-6940-b4b9-156e-6300a6e72f33
2025-06-13 00:00:44,538 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] Remote address: /[0:0:0:0:0:0:0:1]:56860
2025-06-13 00:00:44,538 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:00:44,542 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /admin/dashboard
2025-06-13 00:00:44,542 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,542 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /admin/dashboard?currentUserId=3
2025-06-13 00:00:44,542 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,542 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications
2025-06-13 00:00:44,542 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:00:44,543 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,543 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,543 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:00:44,543 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,543 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,543 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,544 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,544 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,544 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,547 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,547 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,547 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,548 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,548 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /admin/dashboard?currentUserId=3
2025-06-13 00:00:44,548 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:00:44,549 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getDashboardSummary(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:00:44,549 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,549 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,549 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getDashboardSummary(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:00:44,549 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-4] Getting active chat sessions
2025-06-13 00:00:44,549 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-4] Getting active chat sessions from repository
2025-06-13 00:00:44,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,550 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        count(*) as col_0_0_ 
    from
        users user0_
2025-06-13 00:00:44,550 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:00:44,550 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-7] REQUEST: GET /chat
2025-06-13 00:00:44,550 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-7] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=POEaEKKRW1SroH+T/VBrTw==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:00:44,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:00:44,550 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-7] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:00:44,550 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,551 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:44,551 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:44,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        count(*) as col_0_0_ 
    from
        orders order0_
2025-06-13 00:00:44,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:00:44,551 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,551 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,551 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-4] Found 1 active sessions
2025-06-13 00:00:44,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,552 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,552 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,552 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=9ms
2025-06-13 00:00:44,553 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,553 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=10ms
2025-06-13 00:00:44,553 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:00:44,553 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,554 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,554 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-7] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:00:44,554 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,554 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:00:44,554 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,554 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        count(*) as col_0_0_ 
    from
        products product0_
2025-06-13 00:00:44,554 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:00:44,554 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,555 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,555 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-7] RESPONSE: Status=101, Time=5ms
2025-06-13 00:00:44,555 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,555 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,555 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] WebSocket connection established: 1583be7b-77f3-b576-95c4-cda36d568b19
2025-06-13 00:00:44,555 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] Remote address: /[0:0:0:0:0:0:0:1]:56861
2025-06-13 00:00:44,555 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:00:44,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        order0_.id as id1_7_,
        order0_.actual_delivery_date as actual_d2_7_,
        order0_.billing_address as billing_3_7_,
        order0_.coupon_id as coupon_21_7_,
        order0_.created_at as created_4_7_,
        order0_.discount_amount as discount5_7_,
        order0_.estimated_delivery_date as estimate6_7_,
        order0_.notes as notes7_7_,
        order0_.payment_method as payment_8_7_,
        order0_.payment_status as payment_9_7_,
        order0_.phone_number as phone_n10_7_,
        order0_.recipient_name as recipie11_7_,
        order0_.refund_status as refund_12_7_,
        order0_.shipper_id as shipper13_7_,
        order0_.shipping_address as shippin14_7_,
        order0_.shipping_fee as shippin15_7_,
        order0_.status as status16_7_,
        order0_.total_amount as total_a17_7_,
        order0_.tracking_number as trackin18_7_,
        order0_.updated_at as updated19_7_,
        order0_.user_id as user_id20_7_ 
    from
        orders order0_
2025-06-13 00:00:44,556 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,556 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,556 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,556 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:00:44,557 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,557 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,557 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,557 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:44,557 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-10] Getting active chat sessions
2025-06-13 00:00:44,558 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-10] Getting active chat sessions from repository
2025-06-13 00:00:44,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,558 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:00:44,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,559 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:00:44,559 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:00:44,559 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,560 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:44,560 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-10] Found 1 active sessions
2025-06-13 00:00:44,560 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:44,560 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,561 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,561 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749747644561,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:00:44,561 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=8ms
2025-06-13 00:00:44,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:00:44,561 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] Admin connected: admin (3), Session ID: 3a87d507-6940-b4b9-156e-6300a6e72f33
2025-06-13 00:00:44,561 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] Admin sessions after connection: [3]
2025-06-13 00:00:44,561 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,561 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:00:44,561 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] Sending active users to admin: 0 users
2025-06-13 00:00:44,561 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-06-13 00:00:44,562 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:00:44,562 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,562 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,562 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,562 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,562 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:00:44,563 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,563 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=9ms
2025-06-13 00:00:44,563 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,563 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,563 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications
2025-06-13 00:00:44,564 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,564 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:00:44,564 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,564 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:00:44,564 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,565 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,565 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,565 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,565 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [7]
2025-06-13 00:00:44,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,566 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,567 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:00:44,567 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,567 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,567 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,567 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,568 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,567 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,568 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Getting active chat sessions
2025-06-13 00:00:44,568 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [9]
2025-06-13 00:00:44,568 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-9] Getting active chat sessions from repository
2025-06-13 00:00:44,568 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:00:44,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:00:44,569 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,569 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:00:44,569 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [10]
2025-06-13 00:00:44,569 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,569 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,569 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,570 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Found 1 active sessions
2025-06-13 00:00:44,570 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [11]
2025-06-13 00:00:44,570 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,570 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:44,570 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,570 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=8ms
2025-06-13 00:00:44,570 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:00:44,571 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [12]
2025-06-13 00:00:44,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:00:44,571 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,571 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [13]
2025-06-13 00:00:44,572 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,572 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [14]
2025-06-13 00:00:44,573 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,573 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=9ms
2025-06-13 00:00:44,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,573 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [15]
2025-06-13 00:00:44,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,575 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [16]
2025-06-13 00:00:44,575 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,575 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [17]
2025-06-13 00:00:44,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,576 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [18]
2025-06-13 00:00:44,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [19]
2025-06-13 00:00:44,577 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [20]
2025-06-13 00:00:44,578 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [21]
2025-06-13 00:00:44,580 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,581 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [22]
2025-06-13 00:00:44,582 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,582 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [23]
2025-06-13 00:00:44,583 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,583 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-06-13 00:00:44,583 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749747644583,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:00:44,583 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] Admin connected: admin (3), Session ID: 1583be7b-77f3-b576-95c4-cda36d568b19
2025-06-13 00:00:44,583 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] Admin sessions after connection: [3]
2025-06-13 00:00:44,583 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:00:44,583 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] Sending active users to admin: 0 users
2025-06-13 00:00:44,583 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,584 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:00:44,584 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-06-13 00:00:44,584 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,584 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,584 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,584 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,585 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-06-13 00:00:44,585 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,585 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,585 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,585 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,586 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,586 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [27]
2025-06-13 00:00:44,586 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,587 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:00:44,587 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [28]
2025-06-13 00:00:44,587 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,588 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:00:44,588 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-2] Getting active chat sessions
2025-06-13 00:00:44,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,588 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-2] Getting active chat sessions from repository
2025-06-13 00:00:44,588 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-06-13 00:00:44,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:00:44,588 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:00:44,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,589 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [30]
2025-06-13 00:00:44,589 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-2] Found 1 active sessions
2025-06-13 00:00:44,590 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,590 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=6ms
2025-06-13 00:00:44,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitem0_.id as id1_6_0_,
        order1_.id as id1_7_1_,
        orderitem0_.order_id as order_id6_6_0_,
        orderitem0_.price as price2_6_0_,
        orderitem0_.product_id as product_7_6_0_,
        orderitem0_.product_image_url as product_3_6_0_,
        orderitem0_.product_name as product_4_6_0_,
        orderitem0_.quantity as quantity5_6_0_,
        order1_.actual_delivery_date as actual_d2_7_1_,
        order1_.billing_address as billing_3_7_1_,
        order1_.coupon_id as coupon_21_7_1_,
        order1_.created_at as created_4_7_1_,
        order1_.discount_amount as discount5_7_1_,
        order1_.estimated_delivery_date as estimate6_7_1_,
        order1_.notes as notes7_7_1_,
        order1_.payment_method as payment_8_7_1_,
        order1_.payment_status as payment_9_7_1_,
        order1_.phone_number as phone_n10_7_1_,
        order1_.recipient_name as recipie11_7_1_,
        order1_.refund_status as refund_12_7_1_,
        order1_.shipper_id as shipper13_7_1_,
        order1_.shipping_address as shippin14_7_1_,
        order1_.shipping_fee as shippin15_7_1_,
        order1_.status as status16_7_1_,
        order1_.total_amount as total_a17_7_1_,
        order1_.tracking_number as trackin18_7_1_,
        order1_.updated_at as updated19_7_1_,
        order1_.user_id as user_id20_7_1_ 
    from
        order_items orderitem0_ 
    inner join
        orders order1_ 
            on orderitem0_.order_id=order1_.id
2025-06-13 00:00:44,591 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,592 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:44,593 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,593 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,595 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,595 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:00:44,596 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-06-13 00:00:44,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,598 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [19]
2025-06-13 00:00:44,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,599 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [10]
2025-06-13 00:00:44,599 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,600 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [14]
2025-06-13 00:00:44,600 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,601 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [16]
2025-06-13 00:00:44,602 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,602 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [18]
2025-06-13 00:00:44,604 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,604 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=62ms
2025-06-13 00:00:44,604 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /admin/dashboard
2025-06-13 00:00:44,604 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:44,604 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /admin/dashboard?currentUserId=3
2025-06-13 00:00:44,604 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:44,605 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:44,606 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:44,606 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:44,607 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,608 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /admin/dashboard?currentUserId=3
2025-06-13 00:00:44,608 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getDashboardSummary(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:00:44,608 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getDashboardSummary(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:00:44,609 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        count(*) as col_0_0_ 
    from
        users user0_
2025-06-13 00:00:44,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        count(*) as col_0_0_ 
    from
        orders order0_
2025-06-13 00:00:44,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        count(*) as col_0_0_ 
    from
        products product0_
2025-06-13 00:00:44,611 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        order0_.id as id1_7_,
        order0_.actual_delivery_date as actual_d2_7_,
        order0_.billing_address as billing_3_7_,
        order0_.coupon_id as coupon_21_7_,
        order0_.created_at as created_4_7_,
        order0_.discount_amount as discount5_7_,
        order0_.estimated_delivery_date as estimate6_7_,
        order0_.notes as notes7_7_,
        order0_.payment_method as payment_8_7_,
        order0_.payment_status as payment_9_7_,
        order0_.phone_number as phone_n10_7_,
        order0_.recipient_name as recipie11_7_,
        order0_.refund_status as refund_12_7_,
        order0_.shipper_id as shipper13_7_,
        order0_.shipping_address as shippin14_7_,
        order0_.shipping_fee as shippin15_7_,
        order0_.status as status16_7_,
        order0_.total_amount as total_a17_7_,
        order0_.tracking_number as trackin18_7_,
        order0_.updated_at as updated19_7_,
        order0_.user_id as user_id20_7_ 
    from
        orders order0_
2025-06-13 00:00:44,612 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,612 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:44,612 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,614 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:00:44,614 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,615 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,615 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,616 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-06-13 00:00:44,616 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,616 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:00:44,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,617 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:00:44,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,618 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [7]
2025-06-13 00:00:44,618 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,618 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:00:44,618 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,619 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [9]
2025-06-13 00:00:44,619 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,619 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [10]
2025-06-13 00:00:44,619 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,620 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [11]
2025-06-13 00:00:44,620 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,620 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [12]
2025-06-13 00:00:44,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,621 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [13]
2025-06-13 00:00:44,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,622 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [14]
2025-06-13 00:00:44,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,623 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [15]
2025-06-13 00:00:44,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,623 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [16]
2025-06-13 00:00:44,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [17]
2025-06-13 00:00:44,625 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [18]
2025-06-13 00:00:44,625 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [19]
2025-06-13 00:00:44,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [20]
2025-06-13 00:00:44,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [21]
2025-06-13 00:00:44,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,627 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [22]
2025-06-13 00:00:44,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,628 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [23]
2025-06-13 00:00:44,628 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,628 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-06-13 00:00:44,629 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,629 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [25]
2025-06-13 00:00:44,630 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,630 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [26]
2025-06-13 00:00:44,630 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,631 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [27]
2025-06-13 00:00:44,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,631 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [28]
2025-06-13 00:00:44,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,632 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [29]
2025-06-13 00:00:44,632 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        refundrequ0_.id as id1_10_0_,
        refundrequ0_.additional_info as addition2_10_0_,
        refundrequ0_.admin_notes as admin_no3_10_0_,
        refundrequ0_.created_at as created_4_10_0_,
        refundrequ0_.order_id as order_id8_10_0_,
        refundrequ0_.reason as reason5_10_0_,
        refundrequ0_.status as status6_10_0_,
        refundrequ0_.updated_at as updated_7_10_0_ 
    from
        refund_requests refundrequ0_ 
    where
        refundrequ0_.order_id=?
2025-06-13 00:00:44,632 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [30]
2025-06-13 00:00:44,633 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        orderitem0_.id as id1_6_0_,
        order1_.id as id1_7_1_,
        orderitem0_.order_id as order_id6_6_0_,
        orderitem0_.price as price2_6_0_,
        orderitem0_.product_id as product_7_6_0_,
        orderitem0_.product_image_url as product_3_6_0_,
        orderitem0_.product_name as product_4_6_0_,
        orderitem0_.quantity as quantity5_6_0_,
        order1_.actual_delivery_date as actual_d2_7_1_,
        order1_.billing_address as billing_3_7_1_,
        order1_.coupon_id as coupon_21_7_1_,
        order1_.created_at as created_4_7_1_,
        order1_.discount_amount as discount5_7_1_,
        order1_.estimated_delivery_date as estimate6_7_1_,
        order1_.notes as notes7_7_1_,
        order1_.payment_method as payment_8_7_1_,
        order1_.payment_status as payment_9_7_1_,
        order1_.phone_number as phone_n10_7_1_,
        order1_.recipient_name as recipie11_7_1_,
        order1_.refund_status as refund_12_7_1_,
        order1_.shipper_id as shipper13_7_1_,
        order1_.shipping_address as shippin14_7_1_,
        order1_.shipping_fee as shippin15_7_1_,
        order1_.status as status16_7_1_,
        order1_.total_amount as total_a17_7_1_,
        order1_.tracking_number as trackin18_7_1_,
        order1_.updated_at as updated19_7_1_,
        order1_.user_id as user_id20_7_1_ 
    from
        order_items orderitem0_ 
    inner join
        orders order1_ 
            on orderitem0_.order_id=order1_.id
2025-06-13 00:00:44,633 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,634 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:44,634 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,634 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:44,635 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:44,636 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:00:44,637 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-06-13 00:00:44,638 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,638 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [19]
2025-06-13 00:00:44,638 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,639 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [10]
2025-06-13 00:00:44,639 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,639 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [14]
2025-06-13 00:00:44,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,640 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [16]
2025-06-13 00:00:44,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-06-13 00:00:44,642 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [18]
2025-06-13 00:00:44,643 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:44,643 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=39ms
2025-06-13 00:00:45,987 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /users
2025-06-13 00:00:45,987 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons
2025-06-13 00:00:45,988 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:45,988 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:45,988 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /users?currentUserId=3
2025-06-13 00:00:45,988 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons?currentUserId=3
2025-06-13 00:00:45,988 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:45,988 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:45,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:45,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:45,990 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:45,990 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:45,990 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:45,990 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:45,991 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:45,991 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:45,992 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons?currentUserId=3
2025-06-13 00:00:45,992 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /users?currentUserId=3
2025-06-13 00:00:45,992 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:00:45,993 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:00:45,993 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting all coupons
2025-06-13 00:00:45,993 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:00:45,995 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:45,996 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=404, Time=8ms
2025-06-13 00:00:45,996 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:45,996 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /error?currentUserId=3
2025-06-13 00:00:45,996 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:45,996 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:00:45,996 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /error?currentUserId=3
2025-06-13 00:00:45,996 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:45,997 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:45,997 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:45,997 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=9ms
2025-06-13 00:00:45,998 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /users
2025-06-13 00:00:45,998 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /coupons
2025-06-13 00:00:45,998 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:45,998 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:00:45,998 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /users?currentUserId=3
2025-06-13 00:00:45,998 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /coupons?currentUserId=3
2025-06-13 00:00:45,998 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:45,998 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:45,999 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:45,999 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:00:46,000 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:46,000 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:00:46,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:46,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:00:46,001 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:46,001 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:00:46,001 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /coupons?currentUserId=3
2025-06-13 00:00:46,001 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /users?currentUserId=3
2025-06-13 00:00:46,002 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:00:46,002 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:00:46,002 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-10] Getting all coupons
2025-06-13 00:00:46,002 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:46,002 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=404, Time=4ms
2025-06-13 00:00:46,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:00:46,003 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /error?currentUserId=3
2025-06-13 00:00:46,003 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:00:46,003 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:00:46,003 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /error?currentUserId=3
2025-06-13 00:00:46,003 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:46,003 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:00:46,004 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:00:46,005 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:00:46,005 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=7ms
2025-06-13 00:01:00,012 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [pool-1-thread-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date<?
2025-06-13 00:01:00,012 TRACE org.hibernate.type.descriptor.sql.BasicBinder [pool-1-thread-1] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:01:00,013 TRACE org.hibernate.type.descriptor.sql.BasicBinder [pool-1-thread-1] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:01:00.011073300]
2025-06-13 00:01:00,013 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [pool-1-thread-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.end_date<?
2025-06-13 00:01:00,014 TRACE org.hibernate.type.descriptor.sql.BasicBinder [pool-1-thread-1] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:01:00,014 TRACE org.hibernate.type.descriptor.sql.BasicBinder [pool-1-thread-1] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:01:00.011073300]
2025-06-13 00:01:04,026 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:01:04,026 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:01:04,026 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:01:14,786 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-06-13 00:01:14,787 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:01:14,787 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:01:14,787 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:01:14,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:01:14,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:01:14,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:01:14,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:01:14,790 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:01:14,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:01:14,791 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:01:14,792 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:01:14,792 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:01:14,792 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:01:14,793 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:01:14,794 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:01:14,794 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=7ms
2025-06-13 00:01:34,033 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:01:34,033 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:01:34,033 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:01:44,766 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications
2025-06-13 00:01:44,766 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:01:44,766 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:01:44,766 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:01:44,768 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:01:44,768 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:01:44,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:01:44,769 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:01:44,770 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:01:44,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:01:44,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:01:44,771 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:01:44,771 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:01:44,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:01:44,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:01:44,772 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:01:44,773 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=7ms
2025-06-13 00:02:04,044 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:02:04,045 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:02:04,045 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:02:14,549 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-06-13 00:02:14,550 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:14,550 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:02:14,550 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:14,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:14,551 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:14,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:14,552 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:14,554 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:02:14,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:02:14,555 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:14,556 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:02:14,556 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:02:14,556 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:02:14,556 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:14,557 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:14,558 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=8ms
2025-06-13 00:02:16,851 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] WebSocket connection closed: 1583be7b-77f3-b576-95c4-cda36d568b19 with status CloseStatus[code=1001, reason=null]
2025-06-13 00:02:16,851 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-10] WebSocket connection closed: 3a87d507-6940-b4b9-156e-6300a6e72f33 with status CloseStatus[code=1001, reason=null]
2025-06-13 00:02:16,851 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Admin disconnected: 3
2025-06-13 00:02:16,851 WARN com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-10] Could not identify session type for closed WebSocket session: 3a87d507-6940-b4b9-156e-6300a6e72f33
2025-06-13 00:02:17,349 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons
2025-06-13 00:02:17,350 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,350 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons?currentUserId=3
2025-06-13 00:02:17,350 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,350 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /users
2025-06-13 00:02:17,351 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,351 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /users?currentUserId=3
2025-06-13 00:02:17,351 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,354 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /users?currentUserId=3
2025-06-13 00:02:17,354 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons?currentUserId=3
2025-06-13 00:02:17,354 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:02:17,354 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:02:17,354 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting all coupons
2025-06-13 00:02:17,355 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,355 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=404, Time=4ms
2025-06-13 00:02:17,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:02:17,355 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /error?currentUserId=3
2025-06-13 00:02:17,355 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,355 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:02:17,355 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /error?currentUserId=3
2025-06-13 00:02:17,355 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:02:17,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:02:17,358 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /users
2025-06-13 00:02:17,358 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,359 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /users?currentUserId=3
2025-06-13 00:02:17,359 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,359 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,359 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=9ms
2025-06-13 00:02:17,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,360 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons
2025-06-13 00:02:17,360 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,360 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons?currentUserId=3
2025-06-13 00:02:17,360 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,361 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /users?currentUserId=3
2025-06-13 00:02:17,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,362 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons?currentUserId=3
2025-06-13 00:02:17,362 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,362 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=404, Time=4ms
2025-06-13 00:02:17,363 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /error?currentUserId=3
2025-06-13 00:02:17,363 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:02:17,363 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,363 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:02:17,363 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:02:17,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /error?currentUserId=3
2025-06-13 00:02:17,363 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all coupons
2025-06-13 00:02:17,363 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:02:17,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:02:17,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:02:17,367 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,367 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=7ms
2025-06-13 00:02:17,391 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-5] REQUEST: GET /chat
2025-06-13 00:02:17,392 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-5] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=VdMCwGZb1DPt1E+g6gtsZg==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:02:17,392 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-5] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:02:17,392 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,393 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,393 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,394 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:02:17,394 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,395 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications
2025-06-13 00:02:17,395 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,395 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,395 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,395 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:02:17,395 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,395 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,396 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-5] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:02:17,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,396 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,397 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,397 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,397 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,397 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,398 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-5] RESPONSE: Status=101, Time=6ms
2025-06-13 00:02:17,398 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-5] WebSocket connection established: 27777b7f-fae2-cca9-6d6d-b539e49b0027
2025-06-13 00:02:17,398 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-5] Remote address: /[0:0:0:0:0:0:0:1]:56900
2025-06-13 00:02:17,398 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-5] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:02:17,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:02:17,399 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,399 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,399 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Getting active chat sessions
2025-06-13 00:02:17,399 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-9] Getting active chat sessions from repository
2025-06-13 00:02:17,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:02:17,399 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:02:17,400 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:02:17,401 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Found 1 active sessions
2025-06-13 00:02:17,401 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:02:17,401 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:02:17,401 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,401 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=6ms
2025-06-13 00:02:17,401 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:02:17,402 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,402 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:02:17,402 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,402 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,402 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,403 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,403 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=8ms
2025-06-13 00:02:17,403 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,405 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,405 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,405 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,406 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-2] Getting active chat sessions
2025-06-13 00:02:17,406 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-2] Getting active chat sessions from repository
2025-06-13 00:02:17,406 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:02:17,406 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:02:17,407 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-2] Found 1 active sessions
2025-06-13 00:02:17,408 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,408 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=6ms
2025-06-13 00:02:17,410 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-1] REQUEST: GET /chat
2025-06-13 00:02:17,410 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-1] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=n65bIN5UEbCICeNgiVb8og==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:02:17,410 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-1] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:02:17,410 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,411 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,412 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,412 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,413 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-1] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:02:17,414 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,414 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-1] RESPONSE: Status=101, Time=4ms
2025-06-13 00:02:17,414 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] WebSocket connection established: b4b7d44a-abfe-9fba-5912-dd6abab8640a
2025-06-13 00:02:17,414 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Remote address: /[0:0:0:0:0:0:0:1]:56902
2025-06-13 00:02:17,414 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:02:17,445 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749747737444,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:02:17,445 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] Admin connected: admin (3), Session ID: 27777b7f-fae2-cca9-6d6d-b539e49b0027
2025-06-13 00:02:17,445 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] Admin sessions after connection: [3]
2025-06-13 00:02:17,445 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:02:17,446 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] Sending active users to admin: 0 users
2025-06-13 00:02:17,446 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:02:17,446 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,446 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,446 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,447 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,450 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,450 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,450 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,450 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-5] Getting active chat sessions
2025-06-13 00:02:17,450 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-5] Getting active chat sessions from repository
2025-06-13 00:02:17,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:02:17,451 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:02:17,452 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-5] Found 1 active sessions
2025-06-13 00:02:17,453 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,453 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=7ms
2025-06-13 00:02:17,467 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749747737467,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:02:17,467 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] Admin connected: admin (3), Session ID: b4b7d44a-abfe-9fba-5912-dd6abab8640a
2025-06-13 00:02:17,467 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] Admin sessions after connection: [3]
2025-06-13 00:02:17,468 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:02:17,468 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] Sending active users to admin: 0 users
2025-06-13 00:02:17,468 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:02:17,468 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:17,468 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,468 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:17,471 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:17,471 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:17,472 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:17,473 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:17,473 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:02:17,474 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,474 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:02:17,474 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Getting active chat sessions
2025-06-13 00:02:17,474 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-8] Getting active chat sessions from repository
2025-06-13 00:02:17,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:02:17,475 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:02:17,476 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Found 1 active sessions
2025-06-13 00:02:17,477 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:17,477 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=9ms
2025-06-13 00:02:34,060 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:02:34,060 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:02:34,060 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:02:47,393 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-06-13 00:02:47,393 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:02:47,394 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:02:47,394 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:02:47,395 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:02:47,395 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:02:47,395 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:02:47,396 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:47,396 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:02:47,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:02:47,397 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:47,398 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:02:47,398 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:02:47,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:02:47,399 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:02:47,400 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:02:47,400 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=6ms
2025-06-13 00:03:04,062 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:03:04,062 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:03:04,062 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:03:17,419 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications
2025-06-13 00:03:17,422 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:03:17,422 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:03:17,422 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:03:17,422 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:03:17,422 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:03:17,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:03:17,424 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:03:17,424 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:03:17,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:03:17,424 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:03:17,424 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:03:17,424 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:03:17,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:03:17,424 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:03:17,424 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:03:17,424 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=2ms
2025-06-13 00:03:34,065 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:03:34,065 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:03:34,065 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:03:47,395 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:03:47,395 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:03:47,395 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:03:47,395 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:03:47,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:03:47,396 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:03:47,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:03:47,398 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:03:47,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:03:47,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:03:47,398 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:03:47,400 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:03:47,400 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:03:47,400 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:03:47,400 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:03:47,401 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:03:47,401 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=6ms
2025-06-13 00:04:04,076 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:04:04,076 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:04:04,076 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:04:17,402 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-06-13 00:04:17,402 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:04:17,404 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:04:17,404 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:04:17,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:04:17,406 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:04:17,406 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:04:17,406 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:04:17,407 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:04:17,408 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:04:17,408 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:04:17,409 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:04:17,409 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:04:17,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:04:17,410 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:04:17,411 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:04:17,411 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=7ms
2025-06-13 00:04:34,081 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:04:34,081 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:04:34,081 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:04:47,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications
2025-06-13 00:04:47,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:04:47,782 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:04:47,782 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:04:47,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:04:47,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:04:47,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:04:47,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:04:47,786 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:04:47,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:04:47,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:04:47,788 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:04:47,788 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:04:47,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:04:47,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:04:47,790 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:04:47,790 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=8ms
2025-06-13 00:05:04,092 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:05:04,093 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:05:04,093 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:05:17,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:05:17,781 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:05:17,781 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:05:17,781 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:05:17,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:05:17,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:05:17,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:05:17,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:17,785 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:05:17,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:05:17,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:17,787 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:05:17,787 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:05:17,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:05:17,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:17,789 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:05:17,789 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=8ms
2025-06-13 00:05:34,107 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:05:34,107 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-06-13 00:05:34,107 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:05:34,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /coupons
2025-06-13 00:05:34,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /users
2025-06-13 00:05:34,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:05:34,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:05:34,793 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /coupons?currentUserId=3
2025-06-13 00:05:34,793 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /users?currentUserId=3
2025-06-13 00:05:34,793 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:05:34,793 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:05:34,794 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:05:34,794 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:05:34,796 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:05:34,796 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:05:34,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:05:34,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:05:34,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:34,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:34,798 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /coupons?currentUserId=3
2025-06-13 00:05:34,798 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /users?currentUserId=3
2025-06-13 00:05:34,798 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:05:34,798 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:05:34,798 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-5] Getting all coupons
2025-06-13 00:05:34,799 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:05:34,799 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:05:34,799 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=404, Time=6ms
2025-06-13 00:05:34,800 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /error?currentUserId=3
2025-06-13 00:05:34,800 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:05:34,800 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:05:34,800 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /error?currentUserId=3
2025-06-13 00:05:34,800 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:05:34,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:05:34,801 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:05:34,802 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:05:34,802 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=9ms
2025-06-13 00:05:44,750 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@5350b684: (connection has passed maxLifetime)
2025-06-13 00:05:44,751 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection closer] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:05:47,384 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@6697d8fe: (connection has passed maxLifetime)
2025-06-13 00:05:47,384 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection closer] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:05:47,785 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-06-13 00:05:47,785 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:05:47,785 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:05:47,785 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:05:47,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:05:47,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:05:47,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:05:47,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:47,789 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:05:47,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:05:47,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:47,791 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:05:47,791 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:05:47,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:05:47,792 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:05:47,793 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:05:47,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=8ms
2025-06-13 00:05:51,030 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@7a7497bc: (connection has passed maxLifetime)
2025-06-13 00:05:51,031 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection closer] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:05:51,545 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@28b1deed: (connection has passed maxLifetime)
2025-06-13 00:05:51,548 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5815379
2025-06-13 00:05:56,973 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@6170bf39: (connection has passed maxLifetime)
2025-06-13 00:05:56,978 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27a67e5e
2025-06-13 00:06:04,120 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:06:04,120 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:06:04,120 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:06:10,286 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] WebSocket connection closed: b4b7d44a-abfe-9fba-5912-dd6abab8640a with status CloseStatus[code=1001, reason=null]
2025-06-13 00:06:10,286 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] WebSocket connection closed: 27777b7f-fae2-cca9-6d6d-b539e49b0027 with status CloseStatus[code=1001, reason=null]
2025-06-13 00:06:10,287 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] Admin disconnected: 3
2025-06-13 00:06:10,287 WARN com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] Could not identify session type for closed WebSocket session: 27777b7f-fae2-cca9-6d6d-b539e49b0027
2025-06-13 00:06:11,142 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons
2025-06-13 00:06:11,142 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,142 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /users
2025-06-13 00:06:11,143 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons?currentUserId=3
2025-06-13 00:06:11,143 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,143 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,143 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /users?currentUserId=3
2025-06-13 00:06:11,143 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,148 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27b3f3a0
2025-06-13 00:06:11,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /users?currentUserId=3
2025-06-13 00:06:11,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons?currentUserId=3
2025-06-13 00:06:11,149 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:06:11,149 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:06:11,150 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting all coupons
2025-06-13 00:06:11,151 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,151 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=404, Time=8ms
2025-06-13 00:06:11,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:06:11,151 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /error?currentUserId=3
2025-06-13 00:06:11,151 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,151 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:06:11,151 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /error?currentUserId=3
2025-06-13 00:06:11,153 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:06:11,154 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:06:11,155 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /users
2025-06-13 00:06:11,155 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,155 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /users?currentUserId=3
2025-06-13 00:06:11,155 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,156 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,156 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=13ms
2025-06-13 00:06:11,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,156 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,157 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons
2025-06-13 00:06:11,157 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,157 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons?currentUserId=3
2025-06-13 00:06:11,157 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,158 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,159 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /users?currentUserId=3
2025-06-13 00:06:11,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,160 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,160 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=404, Time=5ms
2025-06-13 00:06:11,160 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons?currentUserId=3
2025-06-13 00:06:11,160 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /error?currentUserId=3
2025-06-13 00:06:11,160 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,160 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:06:11,160 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /error?currentUserId=3
2025-06-13 00:06:11,160 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:06:11,161 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:06:11,161 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all coupons
2025-06-13 00:06:11,161 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:06:11,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:06:11,165 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:06:11,166 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,167 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=10ms
2025-06-13 00:06:11,202 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-8] REQUEST: GET /chat
2025-06-13 00:06:11,203 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-8] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=5UjAjSHAj02+sgXZqQqtsQ==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:06:11,203 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-8] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:06:11,203 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,204 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,204 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,206 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,207 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-8] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:06:11,208 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,208 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-8] RESPONSE: Status=101, Time=5ms
2025-06-13 00:06:11,209 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] WebSocket connection established: 04c80ceb-69d9-5ec1-29e5-523c08366f61
2025-06-13 00:06:11,209 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] Remote address: /[0:0:0:0:0:0:0:1]:56943
2025-06-13 00:06:11,209 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-8] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:06:11,210 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:06:11,210 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,211 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,211 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications
2025-06-13 00:06:11,211 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,211 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,211 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:06:11,211 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,212 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,212 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,213 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,213 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,214 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,214 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,215 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:06:11,215 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,215 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,215 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,216 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Getting active chat sessions
2025-06-13 00:06:11,216 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:06:11,216 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-9] Getting active chat sessions from repository
2025-06-13 00:06:11,216 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,216 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:06:11,216 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:06:11,218 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Found 1 active sessions
2025-06-13 00:06:11,219 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:06:11,219 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,219 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:06:11,219 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=8ms
2025-06-13 00:06:11,219 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:06:11,220 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,220 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:06:11,221 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,221 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-9] REQUEST: GET /chat
2025-06-13 00:06:11,221 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,221 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-9] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=sjmxiFwFGf7dLyppI+uE4A==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:06:11,221 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-9] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:06:11,221 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,221 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,221 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,221 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=10ms
2025-06-13 00:06:11,222 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,222 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,222 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,222 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,223 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,223 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,223 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,223 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,224 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,224 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-9] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:06:11,224 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,225 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,225 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-2] Getting active chat sessions
2025-06-13 00:06:11,225 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-2] Getting active chat sessions from repository
2025-06-13 00:06:11,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:06:11,225 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,226 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-9] RESPONSE: Status=101, Time=4ms
2025-06-13 00:06:11,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:06:11,226 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] WebSocket connection established: 899cc9ae-932a-af3b-7d28-328cc678b1c4
2025-06-13 00:06:11,226 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] Remote address: /[0:0:0:0:0:0:0:1]:56944
2025-06-13 00:06:11,226 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-9] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:06:11,227 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-2] Found 1 active sessions
2025-06-13 00:06:11,227 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,227 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=6ms
2025-06-13 00:06:11,274 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749747971274,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:06:11,274 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Admin connected: admin (3), Session ID: 04c80ceb-69d9-5ec1-29e5-523c08366f61
2025-06-13 00:06:11,274 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Admin sessions after connection: [3]
2025-06-13 00:06:11,275 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:06:11,275 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Sending active users to admin: 0 users
2025-06-13 00:06:11,276 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:06:11,276 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,276 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,276 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,277 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,277 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,278 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,281 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,282 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,282 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,283 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Getting active chat sessions
2025-06-13 00:06:11,283 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-8] Getting active chat sessions from repository
2025-06-13 00:06:11,283 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:06:11,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:06:11,284 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Found 1 active sessions
2025-06-13 00:06:11,285 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,285 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=9ms
2025-06-13 00:06:11,305 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-10] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749747971305,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:06:11,305 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-10] Admin connected: admin (3), Session ID: 899cc9ae-932a-af3b-7d28-328cc678b1c4
2025-06-13 00:06:11,305 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-10] Admin sessions after connection: [3]
2025-06-13 00:06:11,305 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-10] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:06:11,306 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-10] Sending active users to admin: 0 users
2025-06-13 00:06:11,307 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:06:11,307 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:11,308 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,308 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:11,309 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:11,309 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:11,310 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:11,316 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:11,319 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:06:11,321 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,322 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:06:11,322 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-5] Getting active chat sessions
2025-06-13 00:06:11,323 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-5] Getting active chat sessions from repository
2025-06-13 00:06:11,323 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:06:11,323 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:06:11,325 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-5] Found 1 active sessions
2025-06-13 00:06:11,327 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:11,328 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=21ms
2025-06-13 00:06:34,129 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:06:34,129 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:06:34,129 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:06:41,212 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications
2025-06-13 00:06:41,213 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:06:41,213 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:06:41,213 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:06:41,214 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:06:41,215 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:06:41,216 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:06:41,216 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:41,218 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:06:41,218 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:06:41,219 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:41,220 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:06:41,220 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:06:41,221 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:06:41,221 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:06:41,222 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:06:41,222 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=9ms
2025-06-13 00:07:04,139 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:07:04,139 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:07:04,139 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:07:11,209 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:07:11,210 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:11,210 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:07:11,210 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:11,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:11,212 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:11,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:11,213 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:11,214 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:07:11,215 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:11,215 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:11,216 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:07:11,216 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:07:11,217 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:07:11,217 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:11,219 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:11,219 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=9ms
2025-06-13 00:07:24,589 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: OPTIONS /admin/users
2025-06-13 00:07:24,589 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,589 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: OPTIONS /admin/users
2025-06-13 00:07:24,591 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: OPTIONS /coupons/active
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: OPTIONS /coupons/active
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /admin/users
2025-06-13 00:07:24,592 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,592 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /admin/users?currentUserId=3
2025-06-13 00:07:24,594 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:24,595 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons/active
2025-06-13 00:07:24,596 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,596 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:24,596 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:07:24,596 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:24,596 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:24,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:24,597 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:24,597 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:24,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,598 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:24,598 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /admin/users?currentUserId=3
2025-06-13 00:07:24,599 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:24,599 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:07:24,599 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:24,600 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:24,600 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:24,600 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting all active coupons
2025-06-13 00:07:24,603 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:07:24,604 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:07:24,604 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:07:24,604 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:07:24.601490300]
2025-06-13 00:07:24,605 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,605 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:07:24,605 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,605 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:07:24,605 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:24,606 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:24,606 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,606 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:24,607 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:24,607 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,607 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=11ms
2025-06-13 00:07:24,607 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:24,608 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /coupons/active
2025-06-13 00:07:24,608 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,609 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,609 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:07:24,609 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:24,609 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:07:24,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:24,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,611 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:24,611 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:24,612 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,612 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:24,613 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:07:24,613 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:24,613 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=21ms
2025-06-13 00:07:24,614 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:24,614 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:24,615 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-4] Getting all active coupons
2025-06-13 00:07:24,615 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /admin/users
2025-06-13 00:07:24,615 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:24,615 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:07:24,615 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /admin/users?currentUserId=3
2025-06-13 00:07:24,616 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:24,616 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:07:24,616 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:07:24.615332]
2025-06-13 00:07:24,616 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:24,617 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:24,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:24,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,618 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:24,618 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:24,619 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:24,619 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /admin/users?currentUserId=3
2025-06-13 00:07:24,619 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=10ms
2025-06-13 00:07:24,619 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:24,619 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:24,620 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:07:24,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,622 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:07:24,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,623 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:07:24,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:24,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:24,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:07:24,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:24,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:24,627 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:24,627 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=12ms
2025-06-13 00:07:30,652 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: OPTIONS /admin/users/5/coupons
2025-06-13 00:07:30,653 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=PUT, access-control-request-headers=authorization,content-type, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:30,653 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:07:30,654 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: PUT /admin/users/5/coupons
2025-06-13 00:07:30,656 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, content-length=19, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:30,656 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:07:30,656 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:30,658 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:30,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:30,659 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,659 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:30,660 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:07:30,662 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:30,663 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:30,663 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:30,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:30,667 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:07:30,668 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:07:30,675 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:07:30,676 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:07:30,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [2] as [TIMESTAMP] - [2025-06-12T23:55:27]
2025-06-13 00:07:30,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:07:30,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:07:30,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:07:30,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [6] as [TIMESTAMP] - [2025-07-12T16:54:41]
2025-06-13 00:07:30,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [7] as [TIMESTAMP] - [2025-07-12T16:54:41.411]
2025-06-13 00:07:30,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:07:30,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:07:30,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [10] as [NUMERIC] - [240000.00]
2025-06-13 00:07:30,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [11] as [TIMESTAMP] - [2025-06-12T16:54:41]
2025-06-13 00:07:30,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:07:30,679 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:07:30.673606600]
2025-06-13 00:07:30,679 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:07:30,684 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [15] as [BIGINT] - [5]
2025-06-13 00:07:30,684 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [16] as [BIGINT] - [8]
2025-06-13 00:07:30,701 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:30,701 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=45ms
2025-06-13 00:07:30,705 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /admin/users
2025-06-13 00:07:30,705 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:30,705 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /admin/users?currentUserId=3
2025-06-13 00:07:30,705 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:30,706 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:30,706 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:30,707 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,707 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:30,708 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /admin/users?currentUserId=3
2025-06-13 00:07:30,709 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:30,709 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:07:30,709 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:07:30,711 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,711 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:07:30,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,712 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:07:30,713 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,713 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:30,715 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:30,715 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:07:30,716 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:30,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:30,718 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:30,718 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=13ms
2025-06-13 00:07:34,153 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:07:34,153 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:07:34,153 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:07:41,205 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:07:41,206 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:41,206 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:07:41,206 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:41,207 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:41,207 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:41,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:41,209 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:41,210 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:07:41,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:41,211 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:41,212 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:07:41,212 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:07:41,213 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:07:41,213 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:41,214 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:41,215 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=9ms
2025-06-13 00:07:41,517 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /coupons
2025-06-13 00:07:41,518 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:41,518 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /coupons?currentUserId=3
2025-06-13 00:07:41,518 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:41,518 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /users
2025-06-13 00:07:41,518 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:41,518 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /users?currentUserId=3
2025-06-13 00:07:41,518 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:41,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:41,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:41,519 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:41,520 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:41,520 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:41,520 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:41,521 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:41,521 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:41,524 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /users?currentUserId=3
2025-06-13 00:07:41,524 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /coupons?currentUserId=3
2025-06-13 00:07:41,524 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:41,525 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:41,525 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-8] Getting all coupons
2025-06-13 00:07:41,526 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:41,526 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:07:41,527 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=404, Time=9ms
2025-06-13 00:07:41,527 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /error?currentUserId=3
2025-06-13 00:07:41,527 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:41,527 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:07:41,527 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /error?currentUserId=3
2025-06-13 00:07:41,528 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:41,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:41,530 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /users
2025-06-13 00:07:41,530 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:41,530 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:41,530 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /users?currentUserId=3
2025-06-13 00:07:41,530 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:41,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:41,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:41,530 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:41,530 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:41,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:41,534 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:41,534 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:41,534 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=16ms
2025-06-13 00:07:41,535 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /coupons
2025-06-13 00:07:41,535 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:41,536 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /coupons?currentUserId=3
2025-06-13 00:07:41,537 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:41,537 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /users?currentUserId=3
2025-06-13 00:07:41,538 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:41,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:41,538 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=404, Time=8ms
2025-06-13 00:07:41,538 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:41,538 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /error?currentUserId=3
2025-06-13 00:07:41,538 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:41,538 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:07:41,539 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /error?currentUserId=3
2025-06-13 00:07:41,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:41,539 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:41,539 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:41,541 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /coupons?currentUserId=3
2025-06-13 00:07:41,542 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:41,542 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:41,542 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-5] Getting all coupons
2025-06-13 00:07:41,543 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:07:41,545 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:41,546 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:41,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:41,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:41,553 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:41,553 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=18ms
2025-06-13 00:07:45,428 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] WebSocket connection closed: 899cc9ae-932a-af3b-7d28-328cc678b1c4 with status CloseStatus[code=1001, reason=null]
2025-06-13 00:07:45,428 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-5] WebSocket connection closed: 04c80ceb-69d9-5ec1-29e5-523c08366f61 with status CloseStatus[code=1001, reason=null]
2025-06-13 00:07:45,429 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Admin disconnected: 3
2025-06-13 00:07:45,429 WARN com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-5] Could not identify session type for closed WebSocket session: 04c80ceb-69d9-5ec1-29e5-523c08366f61
2025-06-13 00:07:46,087 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /coupons
2025-06-13 00:07:46,087 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,088 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /users
2025-06-13 00:07:46,088 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /coupons?currentUserId=3
2025-06-13 00:07:46,088 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,088 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,088 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /users?currentUserId=3
2025-06-13 00:07:46,088 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,091 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,091 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,091 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,091 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,092 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,092 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,095 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /coupons?currentUserId=3
2025-06-13 00:07:46,095 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /users?currentUserId=3
2025-06-13 00:07:46,096 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:46,096 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:46,096 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-4] Getting all coupons
2025-06-13 00:07:46,097 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=404, Time=10ms
2025-06-13 00:07:46,098 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /error?currentUserId=3
2025-06-13 00:07:46,098 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,098 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:07:46,098 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:07:46,099 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /error?currentUserId=3
2025-06-13 00:07:46,100 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,100 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:46,101 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /users
2025-06-13 00:07:46,101 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:46,101 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,101 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /users?currentUserId=3
2025-06-13 00:07:46,101 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:46,102 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,102 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:46,104 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,104 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,104 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,104 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=16ms
2025-06-13 00:07:46,105 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons
2025-06-13 00:07:46,105 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,106 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons?currentUserId=3
2025-06-13 00:07:46,106 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,106 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /users?currentUserId=3
2025-06-13 00:07:46,107 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,107 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,107 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,107 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=404, Time=6ms
2025-06-13 00:07:46,108 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /error?currentUserId=3
2025-06-13 00:07:46,108 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,108 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:07:46,108 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /error?currentUserId=3
2025-06-13 00:07:46,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,109 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,109 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,110 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons?currentUserId=3
2025-06-13 00:07:46,110 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:46,111 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:07:46,111 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all coupons
2025-06-13 00:07:46,111 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:07:46,113 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:46,113 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:07:46,115 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:46,115 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:07:46,117 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,117 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=12ms
2025-06-13 00:07:46,138 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-4] REQUEST: GET /chat
2025-06-13 00:07:46,138 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-4] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=uq7qGvN5jQG/dXPeSl8svQ==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:07:46,138 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-4] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:07:46,138 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,140 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,141 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,142 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-4] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:07:46,143 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,143 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:07:46,143 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-4] RESPONSE: Status=101, Time=5ms
2025-06-13 00:07:46,143 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,144 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,144 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:07:46,144 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,144 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,144 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:07:46,144 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,144 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] WebSocket connection established: 475b4dfa-9a90-e079-cf00-eec98058eb9e
2025-06-13 00:07:46,144 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] Remote address: /[0:0:0:0:0:0:0:1]:57004
2025-06-13 00:07:46,144 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-4] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:07:46,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:07:46,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,148 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,148 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,149 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Getting active chat sessions
2025-06-13 00:07:46,149 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-9] Getting active chat sessions from repository
2025-06-13 00:07:46,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:07:46,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:07:46,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:07:46,150 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-9] Found 1 active sessions
2025-06-13 00:07:46,150 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:07:46,151 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:07:46,151 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,151 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=7ms
2025-06-13 00:07:46,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:07:46,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,152 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:07:46,152 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,152 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,152 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,152 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,152 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=8ms
2025-06-13 00:07:46,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,154 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,155 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,155 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,155 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,155 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-6] Getting active chat sessions
2025-06-13 00:07:46,157 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-6] Getting active chat sessions from repository
2025-06-13 00:07:46,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:07:46,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:07:46,159 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-6] Found 1 active sessions
2025-06-13 00:07:46,160 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-3] REQUEST: GET /chat
2025-06-13 00:07:46,160 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-3] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=D1COq4+bzJH0lhdhvZay6Q==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-06-13 00:07:46,160 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-3] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:07:46,160 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,160 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,160 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=8ms
2025-06-13 00:07:46,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,162 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,164 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-3] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:07:46,165 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,165 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-3] RESPONSE: Status=101, Time=5ms
2025-06-13 00:07:46,165 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] WebSocket connection established: 703ed0fb-d168-0152-b7d1-89bf48ed8570
2025-06-13 00:07:46,165 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] Remote address: /[0:0:0:0:0:0:0:1]:57006
2025-06-13 00:07:46,165 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-3] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA
2025-06-13 00:07:46,199 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749748066199,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:07:46,199 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] Admin connected: admin (3), Session ID: 475b4dfa-9a90-e079-cf00-eec98058eb9e
2025-06-13 00:07:46,199 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] Admin sessions after connection: [3]
2025-06-13 00:07:46,199 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:07:46,200 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-7] Sending active users to admin: 0 users
2025-06-13 00:07:46,200 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:07:46,201 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,201 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,201 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,202 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,203 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,204 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,205 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,205 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,206 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,206 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Getting active chat sessions
2025-06-13 00:07:46,206 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-8] Getting active chat sessions from repository
2025-06-13 00:07:46,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:07:46,207 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:07:46,208 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Found 1 active sessions
2025-06-13 00:07:46,208 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,209 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=8ms
2025-06-13 00:07:46,223 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] Received message: {"type":"ADMIN_CONNECT","adminId":"3","adminName":"admin","timestamp":1749748066223,"role":"ADMIN","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA","senderType":"ADMIN"}
2025-06-13 00:07:46,223 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] Admin connected: admin (3), Session ID: 703ed0fb-d168-0152-b7d1-89bf48ed8570
2025-06-13 00:07:46,223 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] Admin sessions after connection: [3]
2025-06-13 00:07:46,223 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] Sent CONNECTION_ESTABLISHED to admin: 3
2025-06-13 00:07:46,223 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-6] Sending active users to admin: 0 users
2025-06-13 00:07:46,224 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /api/chat/sessions/active
2025-06-13 00:07:46,224 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:07:46,224 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,224 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:07:46,227 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:07:46,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:07:46,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:07:46,230 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:07:46,232 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /api/chat/sessions/active?currentUserId=3
2025-06-13 00:07:46,234 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,234 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.ChatController.getActiveChatSessions(); target is of class [com.example.tmdt.controller.ChatController]
2025-06-13 00:07:46,234 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-7] Getting active chat sessions
2025-06-13 00:07:46,234 INFO com.example.tmdt.service.ChatService [http-nio-8080-exec-7] Getting active chat sessions from repository
2025-06-13 00:07:46,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        chatsessio0_.id as id1_3_,
        chatsessio0_.ended_at as ended_at2_3_,
        chatsessio0_.last_message as last_mes3_3_,
        chatsessio0_.started_at as started_4_3_,
        chatsessio0_.status as status5_3_,
        chatsessio0_.unread_count as unread_c6_3_,
        chatsessio0_.user_id as user_id7_3_,
        chatsessio0_.user_name as user_nam8_3_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.status=? 
    order by
        chatsessio0_.started_at desc
2025-06-13 00:07:46,235 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [ACTIVE]
2025-06-13 00:07:46,236 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-7] Found 1 active sessions
2025-06-13 00:07:46,237 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:07:46,237 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=13ms
2025-06-13 00:08:04,161 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:08:04,161 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:08:04,161 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:08:06,431 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons/active
2025-06-13 00:08:06,431 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /admin/users
2025-06-13 00:08:06,431 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:08:06,431 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:08:06,431 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /admin/users?currentUserId=3
2025-06-13 00:08:06,431 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:08:06,432 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:08:06,432 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:08:06,433 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:08:06,433 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:08:06,433 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:08:06,433 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:08:06,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:06,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:06,435 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:08:06,435 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /admin/users?currentUserId=3
2025-06-13 00:08:06,435 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:08:06,435 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:08:06,435 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:08:06,435 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:08:06,435 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting all active coupons
2025-06-13 00:08:06,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:08:06,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:08:06,436 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:08:06,436 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:08:06.436917500]
2025-06-13 00:08:06,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:08:06,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:08:06,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:08:06,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:08:06,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:08:06,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:08:06,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:08:06,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:06,439 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:08:06,439 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=8ms
2025-06-13 00:08:06,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:08:06,440 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /coupons/active
2025-06-13 00:08:06,440 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:08:06,440 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:08:06,440 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:08:06,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,441 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:08:06,441 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:08:06,441 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:08:06,442 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:08:06,442 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,442 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=11ms
2025-06-13 00:08:06,442 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:06,442 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /admin/users
2025-06-13 00:08:06,442 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:08:06,443 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /admin/users?currentUserId=3
2025-06-13 00:08:06,443 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:08:06,443 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:08:06,443 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:08:06,443 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:08:06,443 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-4] Getting all active coupons
2025-06-13 00:08:06,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:08:06,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:08:06,443 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:08:06,444 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:08:06,444 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:08:06.443910900]
2025-06-13 00:08:06,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,446 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:06,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:08:06,447 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /admin/users?currentUserId=3
2025-06-13 00:08:06,447 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:08:06,447 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:08:06,447 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:08:06,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:08:06,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:08:06,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:08:06,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,448 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:08:06,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:08:06,448 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=8ms
2025-06-13 00:08:06,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:08:06,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:08:06,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:06,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,451 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:08:06,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:06,451 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:08:06,452 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:08:06,453 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=11ms
2025-06-13 00:08:16,759 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:08:16,759 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:08:16,759 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:08:16,759 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:08:16,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:08:16,761 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:08:16,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:16,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:16,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:08:16,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:08:16,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:16,764 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:08:16,764 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:08:16,764 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:08:16,764 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:16,765 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:08:16,765 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=6ms
2025-06-13 00:08:34,176 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:08:34,176 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:08:34,176 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:08:46,779 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:08:46,779 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:08:46,779 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:08:46,779 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:08:46,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:08:46,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:08:46,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:08:46,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:46,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:08:46,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:08:46,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:46,786 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:08:46,786 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:08:46,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:08:46,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:08:46,788 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:08:46,788 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=9ms
2025-06-13 00:09:04,191 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:09:04,191 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:09:04,191 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:09:16,781 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: OPTIONS /notifications
2025-06-13 00:09:16,781 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:09:16,781 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:09:16,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /notifications
2025-06-13 00:09:16,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:09:16,782 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:09:16,782 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:09:16,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:09:16,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:09:16,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:09:16,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:09:16,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:09:16,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:09:16,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:09:16,789 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:09:16,789 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:09:16,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:09:16,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:09:16,790 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:09:16,790 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=8ms
2025-06-13 00:09:34,201 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:09:34,201 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:09:34,201 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:09:46,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /notifications
2025-06-13 00:09:46,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:09:46,779 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:09:46,779 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:09:46,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:09:46,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:09:46,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:09:46,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:09:46,781 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:09:46,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:09:46,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:09:46,783 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:09:46,783 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:09:46,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:09:46,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:09:46,786 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:09:46,786 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=7ms
2025-06-13 00:10:04,214 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:10:04,214 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:10:04,214 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:10:16,784 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-06-13 00:10:16,784 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:10:16,784 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:10:16,784 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:10:16,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:10:16,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:10:16,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:10:16,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:10:16,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:10:16,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:10:16,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:10:16,789 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:10:16,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:10:16,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:10:16,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:10:16,791 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:10:16,791 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=7ms
2025-06-13 00:10:34,230 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:10:34,230 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:10:34,230 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:10:46,772 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications
2025-06-13 00:10:46,772 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:10:46,772 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:10:46,772 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:10:46,773 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:10:46,773 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:10:46,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:10:46,774 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:10:46,775 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:10:46,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:10:46,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:10:46,777 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:10:46,777 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:10:46,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:10:46,778 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:10:46,779 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:10:46,779 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=7ms
2025-06-13 00:11:04,232 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:11:04,232 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:11:04,232 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:11:16,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:11:16,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:11:16,781 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:11:16,781 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:11:16,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:11:16,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:11:16,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:11:16,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:11:16,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:11:16,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:11:16,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:11:16,785 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:11:16,785 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:11:16,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:11:16,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:11:16,787 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:11:16,787 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=7ms
2025-06-13 00:11:34,237 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:11:34,237 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:11:34,237 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:11:34,238 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@27b3f3a0: (connection has passed idleTimeout)
2025-06-13 00:11:34,239 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection closer] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:11:51,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-06-13 00:11:51,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:11:51,778 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:11:51,778 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:11:51,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:11:51,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:11:51,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:11:51,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:11:51,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:11:51,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:11:51,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:11:51,785 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:11:51,785 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:11:51,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:11:51,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:11:51,787 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:11:51,787 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=9ms
2025-06-13 00:12:04,244 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:12:04,246 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:12:04,246 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:12:16,472 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:12:16,472 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:16,472 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:12:16,472 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:16,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:16,475 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:16,476 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:16,477 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:16,478 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:12:16,479 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:16,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:16,482 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:12:16,482 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:12:16,482 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:12:16,483 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:16,484 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:16,484 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=12ms
2025-06-13 00:12:19,244 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-06-13 00:12:19,244 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@376b6d7d]]
2025-06-13 00:12:19,245 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-06-13 00:12:19,266 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] WebSocket connection closed: 475b4dfa-9a90-e079-cf00-eec98058eb9e with status CloseStatus[code=1001, reason=The web application is stopping]
2025-06-13 00:12:19,266 WARN com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Could not identify session type for closed WebSocket session: 475b4dfa-9a90-e079-cf00-eec98058eb9e
2025-06-13 00:12:19,266 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] WebSocket connection closed: 703ed0fb-d168-0152-b7d1-89bf48ed8570 with status CloseStatus[code=1001, reason=The web application is stopping]
2025-06-13 00:12:19,267 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Admin disconnected: 3
2025-06-13 00:12:19,297 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 00:12:19,300 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-06-13 00:12:19,300 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - Before shutdown stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:12:19,301 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@5815379: (connection evicted)
2025-06-13 00:12:19,301 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@27a67e5e: (connection evicted)
2025-06-13 00:12:19,301 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)
2025-06-13 00:12:19,301 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-06-13 00:12:21,854 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2025-06-13 00:12:21,883 INFO org.springframework.boot.StartupInfoLogger [main] Starting TmdtApplication using Java 17.0.12 on MyPC with PID 3564 (E:\tmdt\TMDT\backend\target\classes started by leloi in E:\tmdt\TMDT\backend)
2025-06-13 00:12:21,884 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-06-13 00:12:22,453 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 00:12:22,524 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 65 ms. Found 16 JPA repository interfaces.
2025-06-13 00:12:23,037 DEBUG com.zaxxer.hikari.HikariConfig [main] Driver class com.mysql.cj.jdbc.Driver found in Thread context class loader jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa
2025-06-13 00:12:23,081 DEBUG com.zaxxer.hikari.HikariConfig [main] HikariPool-1 - configuration:
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] allowPoolSuspension................................false
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] autoCommit................................true
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] catalog................................none
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionInitSql................................none
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionTestQuery................................"SELECT 1"
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionTimeout................................10000
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSource................................none
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceClassName................................none
2025-06-13 00:12:23,083 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceJNDI................................none
2025-06-13 00:12:23,084 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceProperties................................{password=<masked>}
2025-06-13 00:12:23,084 DEBUG com.zaxxer.hikari.HikariConfig [main] driverClassName................................"com.mysql.cj.jdbc.Driver"
2025-06-13 00:12:23,084 DEBUG com.zaxxer.hikari.HikariConfig [main] exceptionOverrideClassName................................none
2025-06-13 00:12:23,084 DEBUG com.zaxxer.hikari.HikariConfig [main] healthCheckProperties................................{}
2025-06-13 00:12:23,084 DEBUG com.zaxxer.hikari.HikariConfig [main] healthCheckRegistry................................none
2025-06-13 00:12:23,085 DEBUG com.zaxxer.hikari.HikariConfig [main] idleTimeout................................300000
2025-06-13 00:12:23,085 DEBUG com.zaxxer.hikari.HikariConfig [main] initializationFailTimeout................................1
2025-06-13 00:12:23,085 DEBUG com.zaxxer.hikari.HikariConfig [main] isolateInternalQueries................................false
2025-06-13 00:12:23,085 DEBUG com.zaxxer.hikari.HikariConfig [main] jdbcUrl................................jdbc:mysql://192.168.1.4:3306/tmdt?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&connectTimeout=30000&socketTimeout=60000&autoReconnect=true
2025-06-13 00:12:23,085 DEBUG com.zaxxer.hikari.HikariConfig [main] keepaliveTime................................0
2025-06-13 00:12:23,085 DEBUG com.zaxxer.hikari.HikariConfig [main] leakDetectionThreshold................................0
2025-06-13 00:12:23,085 DEBUG com.zaxxer.hikari.HikariConfig [main] maxLifetime................................600000
2025-06-13 00:12:23,086 DEBUG com.zaxxer.hikari.HikariConfig [main] maximumPoolSize................................5
2025-06-13 00:12:23,086 DEBUG com.zaxxer.hikari.HikariConfig [main] metricRegistry................................none
2025-06-13 00:12:23,086 DEBUG com.zaxxer.hikari.HikariConfig [main] metricsTrackerFactory................................none
2025-06-13 00:12:23,086 DEBUG com.zaxxer.hikari.HikariConfig [main] minimumIdle................................2
2025-06-13 00:12:23,086 DEBUG com.zaxxer.hikari.HikariConfig [main] password................................<masked>
2025-06-13 00:12:23,086 DEBUG com.zaxxer.hikari.HikariConfig [main] poolName................................"HikariPool-1"
2025-06-13 00:12:23,086 DEBUG com.zaxxer.hikari.HikariConfig [main] readOnly................................false
2025-06-13 00:12:23,087 DEBUG com.zaxxer.hikari.HikariConfig [main] registerMbeans................................false
2025-06-13 00:12:23,087 DEBUG com.zaxxer.hikari.HikariConfig [main] scheduledExecutor................................none
2025-06-13 00:12:23,087 DEBUG com.zaxxer.hikari.HikariConfig [main] schema................................none
2025-06-13 00:12:23,087 DEBUG com.zaxxer.hikari.HikariConfig [main] threadFactory................................internal
2025-06-13 00:12:23,087 DEBUG com.zaxxer.hikari.HikariConfig [main] transactionIsolation................................default
2025-06-13 00:12:23,087 DEBUG com.zaxxer.hikari.HikariConfig [main] username................................"webuser"
2025-06-13 00:12:23,087 DEBUG com.zaxxer.hikari.HikariConfig [main] validationTimeout................................5000
2025-06-13 00:12:23,087 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-06-13 00:12:23,230 DEBUG com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@12fcb2c3
2025-06-13 00:12:23,232 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-06-13 00:12:23,304 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 00:12:23,333 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2025-06-13 00:12:23,333 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2025-06-13 00:12:23,337 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ba8cc5e
2025-06-13 00:12:23,337 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection adder] HikariPool-1 - After adding stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:12:23,348 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.15.Final
2025-06-13 00:12:23,469 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-06-13 00:12:23,561 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-06-13 00:12:24,238 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-06-13 00:12:24,246 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 00:12:24,997 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http) 8089 (http)
2025-06-13 00:12:25,003 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-06-13 00:12:25,004 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2025-06-13 00:12:25,007 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2025-06-13 00:12:25,007 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-06-13 00:12:25,105 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-06-13 00:12:25,105 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3185 ms
2025-06-13 00:12:26,538 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@592e315e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f7a8a7b, org.springframework.security.web.context.SecurityContextPersistenceFilter@6af10aa7, org.springframework.security.web.header.HeaderWriterFilter@7c98bac0, org.springframework.web.filter.CorsFilter@1dfd39fe, org.springframework.security.web.authentication.logout.LogoutFilter@4a57ad67, com.example.tmdt.security.jwt.AuthTokenFilter@5c3ad125, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42cef0af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44992466, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@610115e8, org.springframework.security.web.session.SessionManagementFilter@24eb71f6, org.springframework.security.web.access.ExceptionTranslationFilter@106e816c, org.springframework.security.web.access.intercept.AuthorizationFilter@6c6fdf5d]
2025-06-13 00:12:26,560 INFO com.example.tmdt.config.WebMvcConfig [main] Configured MultipartResolver with max file size: 10MB, max request size: 10MB
2025-06-13 00:12:26,678 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 00:12:26,867 INFO com.example.tmdt.config.WebMvcConfig [main] Added CurrentUserArgumentResolver to Spring MVC
2025-06-13 00:12:26,934 INFO com.example.tmdt.config.WebMvcConfig [main] Configured CORS for all endpoints
2025-06-13 00:12:27,032 INFO com.example.tmdt.config.WebMvcConfig [main] Added resource handlers for static resources
2025-06-13 00:12:27,277 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2025-06-13 00:12:27,291 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2025-06-13 00:12:27,294 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) 8089 (http) with context path ''
2025-06-13 00:12:27,295 INFO org.springframework.core.log.CompositeLog [main] Starting...
2025-06-13 00:12:27,296 INFO org.springframework.core.log.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5ffae42f]]
2025-06-13 00:12:27,297 INFO org.springframework.core.log.CompositeLog [main] Started.
2025-06-13 00:12:27,302 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] More than one TaskScheduler bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [messageBrokerTaskScheduler, defaultSockJsTaskScheduler]
2025-06-13 00:12:27,332 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date<?
2025-06-13 00:12:27,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:12:27,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:12:27.316447300]
2025-06-13 00:12:27,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.end_date<?
2025-06-13 00:12:27,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:12:27,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:12:27.316447300]
2025-06-13 00:12:27,358 INFO org.springframework.boot.StartupInfoLogger [main] Started TmdtApplication in 5.948 seconds (JVM running for 6.976)
2025-06-13 00:12:27,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        count(*) as col_0_0_ 
    from
        roles role0_
2025-06-13 00:12:46,818 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-13 00:12:46,818 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2025-06-13 00:12:46,819 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2025-06-13 00:12:46,822 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:12:46,823 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:46,828 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:12:46,830 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:46,899 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:46,899 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:46,913 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:46,914 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:46,936 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:12:46,952 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:46,952 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:46,955 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:12:46,982 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:12:46,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:12:46,989 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:47,033 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:47,033 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=210ms
2025-06-13 00:12:52,992 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: OPTIONS /coupons
2025-06-13 00:12:52,992 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:52,992 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:12:52,995 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: OPTIONS /users
2025-06-13 00:12:52,995 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: OPTIONS /coupons
2025-06-13 00:12:52,995 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:52,995 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:52,995 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:12:52,995 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:12:52,996 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: OPTIONS /users
2025-06-13 00:12:52,996 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:52,996 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:12:52,996 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /coupons
2025-06-13 00:12:52,996 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:52,997 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /coupons?currentUserId=3
2025-06-13 00:12:52,997 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:52,997 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /users
2025-06-13 00:12:52,998 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:52,998 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /users?currentUserId=3
2025-06-13 00:12:52,998 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:53,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:53,000 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:53,001 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:53,001 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:53,001 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:53,002 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:53,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:53,002 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:53,003 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /coupons?currentUserId=3
2025-06-13 00:12:53,003 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /users?currentUserId=3
2025-06-13 00:12:53,004 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:53,004 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:53,008 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-6] Getting all coupons
2025-06-13 00:12:53,010 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:53,010 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=404, Time=12ms
2025-06-13 00:12:53,010 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:12:53,011 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /error?currentUserId=3
2025-06-13 00:12:53,011 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:53,012 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-7] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:12:53,012 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /error?currentUserId=3
2025-06-13 00:12:53,018 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:53,019 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /users
2025-06-13 00:12:53,020 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:53,020 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /users?currentUserId=3
2025-06-13 00:12:53,020 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:53,022 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:53,022 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:53,022 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:53,022 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:12:53,024 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:53,024 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:53,026 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /users?currentUserId=3
2025-06-13 00:12:53,028 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:53,028 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=404, Time=8ms
2025-06-13 00:12:53,029 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /error?currentUserId=3
2025-06-13 00:12:53,029 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:53,029 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:12:53,029 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /error?currentUserId=3
2025-06-13 00:12:53,029 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:53,029 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:12:53,030 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:53,032 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /coupons
2025-06-13 00:12:53,032 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:53,033 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /coupons?currentUserId=3
2025-06-13 00:12:53,033 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:53,033 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:53,033 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=37ms
2025-06-13 00:12:53,035 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:53,036 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:53,037 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:53,037 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:53,039 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /coupons?currentUserId=3
2025-06-13 00:12:53,040 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:53,040 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:53,041 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-9] Getting all coupons
2025-06-13 00:12:53,042 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:12:53,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:53,047 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:12:53,050 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:53,051 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:12:53,054 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:53,054 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=22ms
2025-06-13 00:12:53,335 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:12:53,335 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:12:53,335 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:12:54,108 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /admin/users
2025-06-13 00:12:54,108 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons/active
2025-06-13 00:12:54,108 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:54,108 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:54,108 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /admin/users?currentUserId=3
2025-06-13 00:12:54,108 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:12:54,109 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:54,109 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:54,115 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:54,115 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:54,116 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:54,116 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,116 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:54,116 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:54,117 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,117 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:54,119 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /admin/users?currentUserId=3
2025-06-13 00:12:54,121 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:12:54,121 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:12:54,121 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:12:54,122 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:54,122 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:54,122 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all active coupons
2025-06-13 00:12:54,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:12:54,125 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:12:54,125 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:12:54.123755]
2025-06-13 00:12:54,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:12:54,128 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:54,129 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:12:54,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,129 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:12:54,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:12:54,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:54,131 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:12:54,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,131 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:12:54,132 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:54,132 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,132 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=24ms
2025-06-13 00:12:54,132 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:54,133 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /coupons/active
2025-06-13 00:12:54,133 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:54,133 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:12:54,134 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:54,134 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,134 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:12:54,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,136 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:12:54,136 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:54,136 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:54,137 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,137 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:54,138 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:54,139 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=31ms
2025-06-13 00:12:54,139 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:12:54,139 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /admin/users
2025-06-13 00:12:54,139 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:12:54,140 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:54,140 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /admin/users?currentUserId=3
2025-06-13 00:12:54,140 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:12:54,140 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:12:54,140 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-4] Getting all active coupons
2025-06-13 00:12:54,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:12:54,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:12:54,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:12:54.141557100]
2025-06-13 00:12:54,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:12:54,143 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:12:54,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:54,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:54,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:12:54,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:12:54,146 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /admin/users?currentUserId=3
2025-06-13 00:12:54,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:12:54,147 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:12:54,147 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:12:54,148 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:12:54,149 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:54,149 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=16ms
2025-06-13 00:12:54,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:12:54,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:12:54,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,152 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:12:54,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:12:54,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:12:54,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:12:54,156 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:12:54,159 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:12:54,159 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=19ms
2025-06-13 00:13:01,041 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: OPTIONS /admin/users/6/coupons
2025-06-13 00:13:01,042 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=PUT, access-control-request-headers=authorization,content-type, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:01,042 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:13:01,044 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: PUT /admin/users/6/coupons
2025-06-13 00:13:01,044 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, content-length=19, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:01,044 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing PUT /admin/users/6/coupons?currentUserId=3
2025-06-13 00:13:01,045 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:01,047 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:01,048 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:01,049 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,049 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:01,050 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured PUT /admin/users/6/coupons?currentUserId=3
2025-06-13 00:13:01,061 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:01,062 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:01,063 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:01,063 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:01,066 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:13:01,067 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:13:01,091 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:13:01,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:13:01,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [2] as [TIMESTAMP] - [2025-06-12T23:55:27]
2025-06-13 00:13:01,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:13:01,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:13:01,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:13:01,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [6] as [TIMESTAMP] - [2025-07-12T16:54:41]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [7] as [TIMESTAMP] - [2025-07-12T16:54:41.411]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [10] as [NUMERIC] - [240000.00]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [11] as [TIMESTAMP] - [2025-06-12T16:54:41]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:13:01.076732700]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:13:01,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [15] as [BIGINT] - [6]
2025-06-13 00:13:01,094 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [16] as [BIGINT] - [8]
2025-06-13 00:13:01,102 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:01,102 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=58ms
2025-06-13 00:13:01,104 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /admin/users
2025-06-13 00:13:01,106 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:01,106 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /admin/users?currentUserId=3
2025-06-13 00:13:01,106 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:01,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:01,109 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:01,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,110 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:01,111 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /admin/users?currentUserId=3
2025-06-13 00:13:01,112 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:01,112 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:01,113 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:13:01,113 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,114 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:13:01,115 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,115 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:01,116 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,117 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:13:01,118 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,118 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:01,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,119 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:13:01,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:01,120 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:01,123 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:01,123 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=17ms
2025-06-13 00:13:02,492 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /users
2025-06-13 00:13:02,492 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /coupons
2025-06-13 00:13:02,492 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:02,492 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:02,493 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /users?currentUserId=3
2025-06-13 00:13:02,493 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /coupons?currentUserId=3
2025-06-13 00:13:02,493 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:02,493 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:02,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:02,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:02,496 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:02,496 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:02,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:02,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:02,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:02,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:02,500 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /users?currentUserId=3
2025-06-13 00:13:02,500 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /coupons?currentUserId=3
2025-06-13 00:13:02,500 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:02,500 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:02,501 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-2] Getting all coupons
2025-06-13 00:13:02,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:13:02,502 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:02,502 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=404, Time=10ms
2025-06-13 00:13:02,502 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /error?currentUserId=3
2025-06-13 00:13:02,502 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:02,503 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:13:02,503 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /error?currentUserId=3
2025-06-13 00:13:02,503 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:02,504 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /users
2025-06-13 00:13:02,505 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:02,505 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /users?currentUserId=3
2025-06-13 00:13:02,505 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:02,505 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:02,507 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:02,508 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:02,508 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:02,508 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:02,509 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:02,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:02,509 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:02,510 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:02,510 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=18ms
2025-06-13 00:13:02,510 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /users?currentUserId=3
2025-06-13 00:13:02,511 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons
2025-06-13 00:13:02,511 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:02,511 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons?currentUserId=3
2025-06-13 00:13:02,511 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:02,513 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:02,513 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=404, Time=8ms
2025-06-13 00:13:02,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:02,513 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /error?currentUserId=3
2025-06-13 00:13:02,513 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:02,513 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:02,513 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:13:02,513 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /error?currentUserId=3
2025-06-13 00:13:02,514 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:02,514 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:02,514 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:02,516 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons?currentUserId=3
2025-06-13 00:13:02,517 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:02,517 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:02,517 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all coupons
2025-06-13 00:13:02,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:13:02,522 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:02,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:02,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:02,524 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:02,527 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:02,527 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=16ms
2025-06-13 00:13:16,147 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /notifications
2025-06-13 00:13:16,147 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:16,147 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:13:16,147 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:16,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:16,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:16,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:16,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:16,155 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:13:16,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:16,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:16,158 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:13:16,158 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:13:16,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:13:16,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:16,163 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:16,163 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=16ms
2025-06-13 00:13:23,345 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:13:23,345 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:13:23,345 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:13:23,672 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-06-13 00:13:23,673 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5ffae42f]]
2025-06-13 00:13:23,673 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-06-13 00:13:23,700 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 00:13:23,702 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-06-13 00:13:23,702 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - Before shutdown stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:13:23,704 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@12fcb2c3: (connection evicted)
2025-06-13 00:13:23,709 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@5ba8cc5e: (connection evicted)
2025-06-13 00:13:23,709 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)
2025-06-13 00:13:23,710 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-06-13 00:13:26,343 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2025-06-13 00:13:26,377 INFO org.springframework.boot.StartupInfoLogger [main] Starting TmdtApplication using Java 17.0.12 on MyPC with PID 18312 (E:\tmdt\TMDT\backend\target\classes started by leloi in E:\tmdt\TMDT\backend)
2025-06-13 00:13:26,378 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-06-13 00:13:27,008 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 00:13:27,103 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 16 JPA repository interfaces.
2025-06-13 00:13:27,625 DEBUG com.zaxxer.hikari.HikariConfig [main] Driver class com.mysql.cj.jdbc.Driver found in Thread context class loader jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa
2025-06-13 00:13:27,667 DEBUG com.zaxxer.hikari.HikariConfig [main] HikariPool-1 - configuration:
2025-06-13 00:13:27,669 DEBUG com.zaxxer.hikari.HikariConfig [main] allowPoolSuspension................................false
2025-06-13 00:13:27,669 DEBUG com.zaxxer.hikari.HikariConfig [main] autoCommit................................true
2025-06-13 00:13:27,669 DEBUG com.zaxxer.hikari.HikariConfig [main] catalog................................none
2025-06-13 00:13:27,669 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionInitSql................................none
2025-06-13 00:13:27,669 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionTestQuery................................"SELECT 1"
2025-06-13 00:13:27,669 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionTimeout................................10000
2025-06-13 00:13:27,670 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSource................................none
2025-06-13 00:13:27,670 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceClassName................................none
2025-06-13 00:13:27,670 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceJNDI................................none
2025-06-13 00:13:27,670 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceProperties................................{password=<masked>}
2025-06-13 00:13:27,670 DEBUG com.zaxxer.hikari.HikariConfig [main] driverClassName................................"com.mysql.cj.jdbc.Driver"
2025-06-13 00:13:27,670 DEBUG com.zaxxer.hikari.HikariConfig [main] exceptionOverrideClassName................................none
2025-06-13 00:13:27,671 DEBUG com.zaxxer.hikari.HikariConfig [main] healthCheckProperties................................{}
2025-06-13 00:13:27,671 DEBUG com.zaxxer.hikari.HikariConfig [main] healthCheckRegistry................................none
2025-06-13 00:13:27,672 DEBUG com.zaxxer.hikari.HikariConfig [main] idleTimeout................................300000
2025-06-13 00:13:27,672 DEBUG com.zaxxer.hikari.HikariConfig [main] initializationFailTimeout................................1
2025-06-13 00:13:27,672 DEBUG com.zaxxer.hikari.HikariConfig [main] isolateInternalQueries................................false
2025-06-13 00:13:27,672 DEBUG com.zaxxer.hikari.HikariConfig [main] jdbcUrl................................jdbc:mysql://192.168.1.4:3306/tmdt?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&connectTimeout=30000&socketTimeout=60000&autoReconnect=true
2025-06-13 00:13:27,672 DEBUG com.zaxxer.hikari.HikariConfig [main] keepaliveTime................................0
2025-06-13 00:13:27,672 DEBUG com.zaxxer.hikari.HikariConfig [main] leakDetectionThreshold................................0
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] maxLifetime................................600000
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] maximumPoolSize................................5
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] metricRegistry................................none
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] metricsTrackerFactory................................none
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] minimumIdle................................2
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] password................................<masked>
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] poolName................................"HikariPool-1"
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] readOnly................................false
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] registerMbeans................................false
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] scheduledExecutor................................none
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] schema................................none
2025-06-13 00:13:27,673 DEBUG com.zaxxer.hikari.HikariConfig [main] threadFactory................................internal
2025-06-13 00:13:27,674 DEBUG com.zaxxer.hikari.HikariConfig [main] transactionIsolation................................default
2025-06-13 00:13:27,674 DEBUG com.zaxxer.hikari.HikariConfig [main] username................................"webuser"
2025-06-13 00:13:27,674 DEBUG com.zaxxer.hikari.HikariConfig [main] validationTimeout................................5000
2025-06-13 00:13:27,674 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-06-13 00:13:27,803 DEBUG com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f9b21d6
2025-06-13 00:13:27,803 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-06-13 00:13:27,868 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 00:13:27,901 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.15.Final
2025-06-13 00:13:27,915 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2025-06-13 00:13:27,915 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2025-06-13 00:13:27,919 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@381b738c
2025-06-13 00:13:27,919 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection adder] HikariPool-1 - After adding stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:13:28,002 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-06-13 00:13:28,076 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-06-13 00:13:28,696 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-06-13 00:13:28,704 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 00:13:29,402 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http) 8089 (http)
2025-06-13 00:13:29,408 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-06-13 00:13:29,408 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2025-06-13 00:13:29,411 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2025-06-13 00:13:29,412 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-06-13 00:13:29,508 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-06-13 00:13:29,509 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3087 ms
2025-06-13 00:13:30,858 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15eaa2ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d0fae45, org.springframework.security.web.context.SecurityContextPersistenceFilter@4540aade, org.springframework.security.web.header.HeaderWriterFilter@786e2c5e, org.springframework.web.filter.CorsFilter@596343e7, org.springframework.security.web.authentication.logout.LogoutFilter@7011eee0, com.example.tmdt.security.jwt.AuthTokenFilter@569d6e0d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@678db8be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77b7a4b2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b25ce5e, org.springframework.security.web.session.SessionManagementFilter@7a6ade2c, org.springframework.security.web.access.ExceptionTranslationFilter@5180f430, org.springframework.security.web.access.intercept.AuthorizationFilter@17da6e45]
2025-06-13 00:13:30,878 INFO com.example.tmdt.config.WebMvcConfig [main] Configured MultipartResolver with max file size: 10MB, max request size: 10MB
2025-06-13 00:13:30,979 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 00:13:31,149 INFO com.example.tmdt.config.WebMvcConfig [main] Added CurrentUserArgumentResolver to Spring MVC
2025-06-13 00:13:31,213 INFO com.example.tmdt.config.WebMvcConfig [main] Configured CORS for all endpoints
2025-06-13 00:13:31,294 INFO com.example.tmdt.config.WebMvcConfig [main] Added resource handlers for static resources
2025-06-13 00:13:31,503 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2025-06-13 00:13:31,514 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2025-06-13 00:13:31,518 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) 8089 (http) with context path ''
2025-06-13 00:13:31,519 INFO org.springframework.core.log.CompositeLog [main] Starting...
2025-06-13 00:13:31,519 INFO org.springframework.core.log.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75f2a654]]
2025-06-13 00:13:31,520 INFO org.springframework.core.log.CompositeLog [main] Started.
2025-06-13 00:13:31,524 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] More than one TaskScheduler bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [messageBrokerTaskScheduler, defaultSockJsTaskScheduler]
2025-06-13 00:13:31,553 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date<?
2025-06-13 00:13:31,561 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:13:31,561 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:13:31.538098300]
2025-06-13 00:13:31,572 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.end_date<?
2025-06-13 00:13:31,572 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:13:31,572 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:13:31.538098300]
2025-06-13 00:13:31,578 INFO org.springframework.boot.StartupInfoLogger [main] Started TmdtApplication in 5.742 seconds (JVM running for 6.758)
2025-06-13 00:13:31,583 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        count(*) as col_0_0_ 
    from
        roles role0_
2025-06-13 00:13:35,920 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-4] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-13 00:13:35,920 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-4] Initializing Servlet 'dispatcherServlet'
2025-06-13 00:13:35,921 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-4] Completed initialization in 1 ms
2025-06-13 00:13:35,924 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /admin/users
2025-06-13 00:13:35,924 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons/active
2025-06-13 00:13:35,925 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:35,925 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:35,932 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:13:35,932 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /admin/users?currentUserId=3
2025-06-13 00:13:35,934 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:35,934 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:36,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:36,002 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:36,002 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:36,003 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:36,018 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,018 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,019 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:36,019 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:36,043 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /admin/users?currentUserId=3
2025-06-13 00:13:36,043 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:13:36,057 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:36,057 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:36,081 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:36,081 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:36,083 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all active coupons
2025-06-13 00:13:36,086 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:13:36,086 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:13:36,087 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:13:36.084608900]
2025-06-13 00:13:36,088 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:13:36,090 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:13:36,091 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,092 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:36,093 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:13:36,095 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,095 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:36,097 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,097 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:13:36,098 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,099 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:36,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:36,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:36,135 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:36,136 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=211ms
2025-06-13 00:13:36,136 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /admin/users
2025-06-13 00:13:36,137 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:36,137 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /admin/users?currentUserId=3
2025-06-13 00:13:36,137 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:36,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:36,140 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:36,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:36,140 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:36,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:36,144 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /coupons/active
2025-06-13 00:13:36,145 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:36,145 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:36,145 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=220ms
2025-06-13 00:13:36,145 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:13:36,145 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /admin/users?currentUserId=3
2025-06-13 00:13:36,145 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:36,146 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:36,146 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:36,148 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:13:36,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:36,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:36,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:36,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:13:36,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,152 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:36,154 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:13:36,155 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:36,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,155 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:36,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:13:36,155 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-2] Getting all active coupons
2025-06-13 00:13:36,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:13:36,156 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:13:36,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:13:36.155510600]
2025-06-13 00:13:36,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:36,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:13:36,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:36,160 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:36,160 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:36,161 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:36,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:36,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:36,166 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:36,166 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=29ms
2025-06-13 00:13:36,168 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:36,168 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=23ms
2025-06-13 00:13:41,100 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: OPTIONS /admin/users/8/coupons
2025-06-13 00:13:41,101 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=PUT, access-control-request-headers=authorization,content-type, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:41,101 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:13:41,103 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: PUT /admin/users/8/coupons
2025-06-13 00:13:41,103 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, content-length=18, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:41,104 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing PUT /admin/users/8/coupons?currentUserId=3
2025-06-13 00:13:41,104 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:41,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:41,109 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:41,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,110 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:41,112 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured PUT /admin/users/8/coupons?currentUserId=3
2025-06-13 00:13:41,126 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:41,127 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:41,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:41,131 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:13:41,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:13:41,136 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:13:41,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:13:41,162 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:13:41,162 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [TIMESTAMP] - [2025-06-09T19:24:08]
2025-06-13 00:13:41,162 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:13:41,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:13:41,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:13:41,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [TIMESTAMP] - [2025-07-09T12:23:57]
2025-06-13 00:13:41,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [TIMESTAMP] - [2025-07-09T12:23:57.122]
2025-06-13 00:13:41,164 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:13:41,164 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:13:41,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [10] as [NUMERIC] - [12222222.00]
2025-06-13 00:13:41,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [11] as [TIMESTAMP] - [2025-06-09T12:23:57]
2025-06-13 00:13:41,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:13:41,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:13:41.145966800]
2025-06-13 00:13:41,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:13:41,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [15] as [BIGINT] - [8]
2025-06-13 00:13:41,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [16] as [BIGINT] - [7]
2025-06-13 00:13:41,174 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:41,174 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=71ms
2025-06-13 00:13:41,178 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /admin/users
2025-06-13 00:13:41,178 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:41,178 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /admin/users?currentUserId=3
2025-06-13 00:13:41,179 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:41,181 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:41,181 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:41,182 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,183 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:41,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /admin/users?currentUserId=3
2025-06-13 00:13:41,185 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:41,185 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:13:41,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:13:41,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,188 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:13:41,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,190 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:41,191 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,192 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:13:41,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,193 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:41,194 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,194 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:13:41,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:41,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:41,201 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:41,201 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=23ms
2025-06-13 00:13:46,141 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /notifications
2025-06-13 00:13:46,141 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:46,142 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:13:46,142 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:46,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:46,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:46,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:46,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:46,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:13:46,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:46,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:46,155 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:13:46,157 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:13:46,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:13:46,173 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:46,181 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:46,181 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=40ms
2025-06-13 00:13:46,585 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /coupons
2025-06-13 00:13:46,585 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /users
2025-06-13 00:13:46,585 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:46,585 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:46,586 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /coupons?currentUserId=3
2025-06-13 00:13:46,586 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /users?currentUserId=3
2025-06-13 00:13:46,586 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:46,586 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:46,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:46,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:46,589 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:46,589 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:46,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:46,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:46,590 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:46,590 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:46,594 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /coupons?currentUserId=3
2025-06-13 00:13:46,594 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /users?currentUserId=3
2025-06-13 00:13:46,594 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:46,595 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:46,595 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-9] Getting all coupons
2025-06-13 00:13:46,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:13:46,600 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:46,600 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=404, Time=15ms
2025-06-13 00:13:46,601 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:46,602 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /error?currentUserId=3
2025-06-13 00:13:46,602 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:46,602 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:46,602 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:13:46,602 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /error?currentUserId=3
2025-06-13 00:13:46,604 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:46,604 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:13:46,606 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:46,606 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:46,608 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:46,609 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=24ms
2025-06-13 00:13:46,609 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /coupons
2025-06-13 00:13:46,610 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:46,610 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /coupons?currentUserId=3
2025-06-13 00:13:46,610 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:46,610 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:46,611 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /users
2025-06-13 00:13:46,611 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:13:46,611 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /users?currentUserId=3
2025-06-13 00:13:46,611 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:46,613 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:46,613 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:46,614 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:13:46,615 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:13:46,615 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:46,615 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:46,616 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:13:46,617 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:13:46,617 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /coupons?currentUserId=3
2025-06-13 00:13:46,618 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:46,618 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:13:46,618 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-4] Getting all coupons
2025-06-13 00:13:46,618 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /users?currentUserId=3
2025-06-13 00:13:46,619 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:13:46,621 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:46,621 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=404, Time=10ms
2025-06-13 00:13:46,621 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /error?currentUserId=3
2025-06-13 00:13:46,622 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:13:46,622 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:13:46,622 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /error?currentUserId=3
2025-06-13 00:13:46,624 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:46,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:46,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:13:46,629 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:46,630 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:13:46,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:13:46,632 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:13:46,633 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:13:46,633 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=23ms
2025-06-13 00:13:57,930 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:13:57,930 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:13:57,930 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:14:16,759 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /notifications
2025-06-13 00:14:16,759 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:14:16,759 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:14:16,759 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:14:16,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:14:16,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:14:16,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:14:16,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:14:16,765 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:14:16,766 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:14:16,767 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:14:16,768 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:14:16,768 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:14:16,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:14:16,769 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:14:16,774 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:14:16,775 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=16ms
2025-06-13 00:14:27,946 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:14:27,946 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:14:27,946 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:14:30,964 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-1] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-13 00:14:46,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:14:46,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:14:46,778 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:14:46,779 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:14:46,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:14:46,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:14:46,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:14:46,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:14:46,784 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:14:46,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:14:46,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:14:46,788 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:14:46,788 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:14:46,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:14:46,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:14:46,792 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:14:46,792 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=14ms
2025-06-13 00:14:57,961 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:14:57,961 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:14:57,961 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:15:16,785 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications
2025-06-13 00:15:16,785 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:15:16,786 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:15:16,786 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:15:16,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:15:16,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:15:16,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:15:16,791 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:15:16,793 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:15:16,795 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:15:16,796 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:15:16,798 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:15:16,798 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:15:16,798 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:15:16,799 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:15:16,802 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:15:16,802 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=17ms
2025-06-13 00:15:27,977 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:15:27,977 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:15:27,977 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:15:51,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /notifications
2025-06-13 00:15:51,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:15:51,780 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:15:51,780 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:15:51,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:15:51,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:15:51,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:15:51,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:15:51,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:15:51,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:15:51,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:15:51,792 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:15:51,793 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:15:51,793 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:15:51,793 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:15:51,797 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:15:51,797 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=19ms
2025-06-13 00:15:57,994 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:15:57,994 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:15:57,994 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:16:28,009 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:16:28,009 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:16:28,009 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:16:51,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-06-13 00:16:51,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:16:51,782 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:16:51,782 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:16:51,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:16:51,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:16:51,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:16:51,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:16:51,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:16:51,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:16:51,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:16:51,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:16:51,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:16:51,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:16:51,791 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:16:51,794 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:16:51,794 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=12ms
2025-06-13 00:16:58,019 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:16:58,019 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:16:58,019 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:17:28,031 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:17:28,031 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:17:28,031 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:17:51,777 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications
2025-06-13 00:17:51,778 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:17:51,778 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:17:51,778 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:17:51,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:17:51,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:17:51,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:17:51,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:17:51,784 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:17:51,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:17:51,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:17:51,787 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:17:51,789 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:17:51,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:17:51,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:17:51,792 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:17:51,792 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=14ms
2025-06-13 00:17:58,040 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:17:58,040 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:17:58,040 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:18:28,054 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:18:28,054 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:18:28,054 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:18:51,781 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:18:51,781 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:18:51,782 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:18:51,782 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:18:51,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:18:51,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:18:51,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:18:51,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:18:51,788 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:18:51,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:18:51,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:18:51,792 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:18:51,792 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:18:51,793 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:18:51,793 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:18:51,798 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:18:51,798 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=17ms
2025-06-13 00:18:58,068 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:18:58,068 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:18:58,068 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:19:28,074 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:19:28,074 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:19:28,074 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:19:51,775 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-06-13 00:19:51,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:19:51,776 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:19:51,776 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:19:51,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:19:51,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:19:51,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:19:51,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:19:51,784 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:19:51,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:19:51,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:19:51,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:19:51,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:19:51,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:19:51,791 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:19:51,794 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:19:51,794 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=18ms
2025-06-13 00:19:58,084 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:19:58,084 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:19:58,084 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:20:17,833 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-06-13 00:20:17,833 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@75f2a654]]
2025-06-13 00:20:17,833 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-06-13 00:20:17,861 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 00:20:17,864 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-06-13 00:20:17,864 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - Before shutdown stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:20:17,866 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@2f9b21d6: (connection evicted)
2025-06-13 00:20:17,871 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@381b738c: (connection evicted)
2025-06-13 00:20:17,872 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)
2025-06-13 00:20:17,872 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-06-13 00:20:20,191 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.5.Final
2025-06-13 00:20:20,240 INFO org.springframework.boot.StartupInfoLogger [main] Starting TmdtApplication using Java 17.0.12 on MyPC with PID 16456 (E:\tmdt\TMDT\backend\target\classes started by leloi in E:\tmdt\TMDT\backend)
2025-06-13 00:20:20,241 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-06-13 00:20:20,892 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 00:20:20,966 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 67 ms. Found 16 JPA repository interfaces.
2025-06-13 00:20:21,515 DEBUG com.zaxxer.hikari.HikariConfig [main] Driver class com.mysql.cj.jdbc.Driver found in Thread context class loader jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa
2025-06-13 00:20:21,559 DEBUG com.zaxxer.hikari.HikariConfig [main] HikariPool-1 - configuration:
2025-06-13 00:20:21,560 DEBUG com.zaxxer.hikari.HikariConfig [main] allowPoolSuspension................................false
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] autoCommit................................true
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] catalog................................none
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionInitSql................................none
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionTestQuery................................"SELECT 1"
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] connectionTimeout................................10000
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSource................................none
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceClassName................................none
2025-06-13 00:20:21,561 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceJNDI................................none
2025-06-13 00:20:21,562 DEBUG com.zaxxer.hikari.HikariConfig [main] dataSourceProperties................................{password=<masked>}
2025-06-13 00:20:21,562 DEBUG com.zaxxer.hikari.HikariConfig [main] driverClassName................................"com.mysql.cj.jdbc.Driver"
2025-06-13 00:20:21,562 DEBUG com.zaxxer.hikari.HikariConfig [main] exceptionOverrideClassName................................none
2025-06-13 00:20:21,562 DEBUG com.zaxxer.hikari.HikariConfig [main] healthCheckProperties................................{}
2025-06-13 00:20:21,563 DEBUG com.zaxxer.hikari.HikariConfig [main] healthCheckRegistry................................none
2025-06-13 00:20:21,563 DEBUG com.zaxxer.hikari.HikariConfig [main] idleTimeout................................300000
2025-06-13 00:20:21,563 DEBUG com.zaxxer.hikari.HikariConfig [main] initializationFailTimeout................................1
2025-06-13 00:20:21,563 DEBUG com.zaxxer.hikari.HikariConfig [main] isolateInternalQueries................................false
2025-06-13 00:20:21,563 DEBUG com.zaxxer.hikari.HikariConfig [main] jdbcUrl................................jdbc:mysql://192.168.1.4:3306/tmdt?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&connectTimeout=30000&socketTimeout=60000&autoReconnect=true
2025-06-13 00:20:21,563 DEBUG com.zaxxer.hikari.HikariConfig [main] keepaliveTime................................0
2025-06-13 00:20:21,563 DEBUG com.zaxxer.hikari.HikariConfig [main] leakDetectionThreshold................................0
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] maxLifetime................................600000
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] maximumPoolSize................................5
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] metricRegistry................................none
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] metricsTrackerFactory................................none
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] minimumIdle................................2
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] password................................<masked>
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] poolName................................"HikariPool-1"
2025-06-13 00:20:21,564 DEBUG com.zaxxer.hikari.HikariConfig [main] readOnly................................false
2025-06-13 00:20:21,565 DEBUG com.zaxxer.hikari.HikariConfig [main] registerMbeans................................false
2025-06-13 00:20:21,565 DEBUG com.zaxxer.hikari.HikariConfig [main] scheduledExecutor................................none
2025-06-13 00:20:21,565 DEBUG com.zaxxer.hikari.HikariConfig [main] schema................................none
2025-06-13 00:20:21,565 DEBUG com.zaxxer.hikari.HikariConfig [main] threadFactory................................internal
2025-06-13 00:20:21,565 DEBUG com.zaxxer.hikari.HikariConfig [main] transactionIsolation................................default
2025-06-13 00:20:21,565 DEBUG com.zaxxer.hikari.HikariConfig [main] username................................"webuser"
2025-06-13 00:20:21,565 DEBUG com.zaxxer.hikari.HikariConfig [main] validationTimeout................................5000
2025-06-13 00:20:21,565 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-06-13 00:20:21,686 DEBUG com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@39ab5ef7
2025-06-13 00:20:21,687 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-06-13 00:20:21,749 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 00:20:21,784 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.15.Final
2025-06-13 00:20:21,790 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=1, active=0, idle=1, waiting=0)
2025-06-13 00:20:21,791 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=1, active=0, idle=1, waiting=0)
2025-06-13 00:20:21,794 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3ac236cb
2025-06-13 00:20:21,794 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection adder] HikariPool-1 - After adding stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:20:21,894 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-06-13 00:20:21,972 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-06-13 00:20:22,596 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-06-13 00:20:22,604 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 00:20:23,354 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http) 8089 (http)
2025-06-13 00:20:23,360 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-06-13 00:20:23,360 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2025-06-13 00:20:23,363 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2025-06-13 00:20:23,363 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-06-13 00:20:23,464 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-06-13 00:20:23,464 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3172 ms
2025-06-13 00:20:24,956 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ca8bd50, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47db5b8f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6049b4c9, org.springframework.security.web.header.HeaderWriterFilter@1dfd39fe, org.springframework.web.filter.CorsFilter@2c4142f8, org.springframework.security.web.authentication.logout.LogoutFilter@d833770, com.example.tmdt.security.jwt.AuthTokenFilter@1c4a8c93, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6296c184, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ea95f79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ef8cfbb, org.springframework.security.web.session.SessionManagementFilter@465a121d, org.springframework.security.web.access.ExceptionTranslationFilter@592e315e, org.springframework.security.web.access.intercept.AuthorizationFilter@5b7600ec]
2025-06-13 00:20:24,990 INFO com.example.tmdt.config.WebMvcConfig [main] Configured MultipartResolver with max file size: 10MB, max request size: 10MB
2025-06-13 00:20:25,124 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 00:20:25,319 INFO com.example.tmdt.config.WebMvcConfig [main] Added CurrentUserArgumentResolver to Spring MVC
2025-06-13 00:20:25,389 INFO com.example.tmdt.config.WebMvcConfig [main] Configured CORS for all endpoints
2025-06-13 00:20:25,484 INFO com.example.tmdt.config.WebMvcConfig [main] Added resource handlers for static resources
2025-06-13 00:20:25,711 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2025-06-13 00:20:25,724 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2025-06-13 00:20:25,728 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) 8089 (http) with context path ''
2025-06-13 00:20:25,729 INFO org.springframework.core.log.CompositeLog [main] Starting...
2025-06-13 00:20:25,729 INFO org.springframework.core.log.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7bb50de0]]
2025-06-13 00:20:25,729 INFO org.springframework.core.log.CompositeLog [main] Started.
2025-06-13 00:20:25,733 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] More than one TaskScheduler bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [messageBrokerTaskScheduler, defaultSockJsTaskScheduler]
2025-06-13 00:20:25,773 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date<?
2025-06-13 00:20:25,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:20:25,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:20:25.753003800]
2025-06-13 00:20:25,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.end_date<?
2025-06-13 00:20:25,805 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:20:25,806 TRACE org.hibernate.type.descriptor.sql.BasicBinder [main] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:20:25.753003800]
2025-06-13 00:20:25,816 INFO org.springframework.boot.StartupInfoLogger [main] Started TmdtApplication in 6.349 seconds (JVM running for 7.08)
2025-06-13 00:20:25,822 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        count(*) as col_0_0_ 
    from
        roles role0_
2025-06-13 00:20:44,177 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-13 00:20:44,177 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2025-06-13 00:20:44,178 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2025-06-13 00:20:44,182 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:20:44,184 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:44,190 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:20:44,194 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:44,258 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:44,258 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:44,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:44,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:44,291 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:20:44,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:20:44,309 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:44,310 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:20:44,331 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:20:44,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:20:44,338 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:44,382 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:44,382 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=198ms
2025-06-13 00:20:46,140 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /notifications
2025-06-13 00:20:46,140 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:46,141 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:20:46,141 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:46,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:46,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:46,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:46,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:46,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:20:46,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:20:46,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:46,153 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:20:46,153 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:20:46,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:20:46,154 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:46,166 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:46,167 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=27ms
2025-06-13 00:20:48,027 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /admin/users
2025-06-13 00:20:48,027 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:48,028 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /coupons/active
2025-06-13 00:20:48,028 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:48,028 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /admin/users?currentUserId=3
2025-06-13 00:20:48,028 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:48,028 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:20:48,029 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:48,032 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:48,032 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:48,033 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:48,033 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:48,033 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,033 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,034 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:48,034 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:48,036 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:20:48,036 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /admin/users?currentUserId=3
2025-06-13 00:20:48,037 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:20:48,037 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:20:48,037 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:48,038 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:48,039 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-5] Getting all active coupons
2025-06-13 00:20:48,041 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:20:48,042 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:20:48,042 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:20:48.040646700]
2025-06-13 00:20:48,042 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:20:48,044 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,045 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:20:48,046 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,047 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:20:48,048 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,048 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:20:48,048 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,049 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:48,050 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,051 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:20:48,052 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,052 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:20:48,053 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:20:48,053 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:20:48,055 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:48,057 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=29ms
2025-06-13 00:20:48,058 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /admin/users
2025-06-13 00:20:48,059 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:48,059 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /admin/users?currentUserId=3
2025-06-13 00:20:48,059 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:48,059 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:20:48,060 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:20:48,061 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:48,062 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:48,063 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /coupons/active
2025-06-13 00:20:48,063 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:48,063 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,063 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:48,063 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=35ms
2025-06-13 00:20:48,063 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:48,064 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:20:48,064 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:48,066 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /admin/users?currentUserId=3
2025-06-13 00:20:48,066 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:48,066 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:48,067 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:48,067 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:48,068 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,068 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:20:48,068 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:48,069 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,069 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:20:48,070 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:20:48,071 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:20:48,071 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,071 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:20:48,071 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-6] Getting all active coupons
2025-06-13 00:20:48,071 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:20:48,071 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:20:48,073 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,073 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:20:48,073 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:20:48,073 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:20:48.071528800]
2025-06-13 00:20:48,074 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,074 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:48,075 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,075 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:20:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:20:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:20:48,077 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:48,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:20:48,078 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:20:48,078 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:20:48,080 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:48,080 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=17ms
2025-06-13 00:20:48,081 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:48,081 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=22ms
2025-06-13 00:20:51,800 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:20:51,800 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:20:51,800 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:20:59,202 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: OPTIONS /admin/users/1/coupons
2025-06-13 00:20:59,202 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=PUT, access-control-request-headers=authorization,content-type, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:59,203 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200 (OK - CORS Preflight)
2025-06-13 00:20:59,205 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: PUT /admin/users/1/coupons
2025-06-13 00:20:59,206 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, content-length=19, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:59,206 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:20:59,206 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:59,209 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:59,210 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:59,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,211 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:59,213 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:20:59,225 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:59,225 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:59,227 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:20:59,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:20:59,232 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:20:59,233 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:20:59,256 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [TIMESTAMP] - [2025-06-12T23:55:27]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [6] as [TIMESTAMP] - [2025-07-12T16:54:41]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [7] as [TIMESTAMP] - [2025-07-12T16:54:41.411]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:20:59,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:20:59,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [10] as [NUMERIC] - [240000.00]
2025-06-13 00:20:59,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [11] as [TIMESTAMP] - [2025-06-12T16:54:41]
2025-06-13 00:20:59,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:20:59,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:20:59.242480300]
2025-06-13 00:20:59,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:20:59,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [15] as [BIGINT] - [1]
2025-06-13 00:20:59,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [16] as [BIGINT] - [8]
2025-06-13 00:20:59,269 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:59,269 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=63ms
2025-06-13 00:20:59,272 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /admin/users
2025-06-13 00:20:59,272 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:20:59,273 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /admin/users?currentUserId=3
2025-06-13 00:20:59,273 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:20:59,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:20:59,275 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:20:59,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,277 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:59,278 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /admin/users?currentUserId=3
2025-06-13 00:20:59,279 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:59,279 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:20:59,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:20:59,282 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:20:59,283 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:20:59,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:20:59,285 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,285 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:20:59,286 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,286 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:20:59,287 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:20:59,287 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:20:59,290 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:20:59,291 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=19ms
2025-06-13 00:21:01,457 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /coupons
2025-06-13 00:21:01,457 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /users
2025-06-13 00:21:01,457 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:01,457 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:01,457 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /users?currentUserId=3
2025-06-13 00:21:01,457 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /coupons?currentUserId=3
2025-06-13 00:21:01,458 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:01,458 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:01,461 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:01,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:01,462 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:01,462 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:01,463 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:01,463 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:01,464 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:01,464 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:01,467 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /users?currentUserId=3
2025-06-13 00:21:01,467 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /coupons?currentUserId=3
2025-06-13 00:21:01,467 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:01,468 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:01,468 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-10] Getting all coupons
2025-06-13 00:21:01,471 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:21:01,472 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:01,472 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=404, Time=15ms
2025-06-13 00:21:01,473 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /error?currentUserId=3
2025-06-13 00:21:01,473 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:01,474 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:21:01,474 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /error?currentUserId=3
2025-06-13 00:21:01,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:01,475 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:01,477 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:01,478 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:21:01,480 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:01,480 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=23ms
2025-06-13 00:21:01,481 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons
2025-06-13 00:21:01,481 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:01,482 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons?currentUserId=3
2025-06-13 00:21:01,482 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:01,482 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:01,483 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /users
2025-06-13 00:21:01,483 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:01,484 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /users?currentUserId=3
2025-06-13 00:21:01,484 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:01,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:01,484 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:01,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:01,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:01,486 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:01,486 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:01,486 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:01,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:01,487 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons?currentUserId=3
2025-06-13 00:21:01,488 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:01,488 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:01,489 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting all coupons
2025-06-13 00:21:01,489 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /users?currentUserId=3
2025-06-13 00:21:01,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:21:01,491 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:01,491 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=404, Time=7ms
2025-06-13 00:21:01,491 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /error?currentUserId=3
2025-06-13 00:21:01,491 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:01,491 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:21:01,491 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /error?currentUserId=3
2025-06-13 00:21:01,492 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:01,495 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:01,496 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:01,499 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:01,500 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:21:01,502 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:01,502 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=21ms
2025-06-13 00:21:16,142 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /notifications
2025-06-13 00:21:16,142 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:16,142 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:21:16,143 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:16,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:16,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:16,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:16,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:16,149 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:21:16,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:16,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:16,152 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:21:16,152 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:21:16,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:21:16,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:16,156 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:16,157 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=15ms
2025-06-13 00:21:21,802 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:21:21,802 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:21:21,802 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:21:25,093 INFO org.springframework.web.socket.config.WebSocketMessageBrokerStats [MessageBroker-1] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-06-13 00:21:29,297 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /coupons/active
2025-06-13 00:21:29,297 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:29,297 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:21:29,297 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:29,299 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /admin/users
2025-06-13 00:21:29,299 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:29,299 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /admin/users?currentUserId=3
2025-06-13 00:21:29,299 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:29,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:29,304 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:29,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:29,308 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:29,308 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:29,310 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,310 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:29,314 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /admin/users?currentUserId=3
2025-06-13 00:21:29,314 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:21:29,316 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:29,316 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:29,317 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:29,317 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-2] Getting all active coupons
2025-06-13 00:21:29,317 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:29,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:21:29,319 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:21:29,319 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:21:29.317289400]
2025-06-13 00:21:29,323 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:29,324 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:21:29,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:21:29,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:29,326 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:29,331 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:29,331 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=34ms
2025-06-13 00:21:29,334 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons/active
2025-06-13 00:21:29,334 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:29,336 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:21:29,336 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:29,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:21:29,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:21:29,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:29,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:29,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:21:29,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:29,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:29,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:21:29,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:21:29,358 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:29,359 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:29,359 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting all active coupons
2025-06-13 00:21:29,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:21:29,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:29,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:21:29,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:21:29.359466500]
2025-06-13 00:21:29,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:29,366 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:29,366 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /admin/users
2025-06-13 00:21:29,367 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=68ms
2025-06-13 00:21:29,367 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:29,367 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /admin/users?currentUserId=3
2025-06-13 00:21:29,367 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:29,367 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:21:29,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:29,371 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:29,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:29,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:29,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:29,374 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:29,374 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=40ms
2025-06-13 00:21:29,376 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /admin/users?currentUserId=3
2025-06-13 00:21:29,377 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:29,377 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:29,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:21:29,382 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,382 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:21:29,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,385 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:21:29,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,389 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:21:29,390 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,391 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:29,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,394 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:21:29,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:29,396 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:29,401 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:29,401 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=34ms
2025-06-13 00:21:46,140 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-06-13 00:21:46,141 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:46,141 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:21:46,141 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:46,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:46,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:46,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:46,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:46,148 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:21:46,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:46,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:46,151 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:21:46,152 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:21:46,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:21:46,152 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:46,159 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:46,159 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=18ms
2025-06-13 00:21:48,060 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: PUT /admin/users/5/coupons
2025-06-13 00:21:48,060 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, content-length=18, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:48,060 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:21:48,061 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:48,063 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:48,063 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:48,064 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,064 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:48,066 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:21:48,067 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:48,068 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:48,068 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:48,069 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:21:48,071 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:21:48,071 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:21:48,074 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:21:48,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:21:48,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [2] as [TIMESTAMP] - [2025-06-09T19:24:08]
2025-06-13 00:21:48,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:21:48,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:21:48,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:21:48,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [6] as [TIMESTAMP] - [2025-07-09T12:23:57]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [7] as [TIMESTAMP] - [2025-07-09T12:23:57.122]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [10] as [NUMERIC] - [12222222.00]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [11] as [TIMESTAMP] - [2025-06-09T12:23:57]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:21:48.073940600]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:21:48,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [15] as [BIGINT] - [5]
2025-06-13 00:21:48,077 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [16] as [BIGINT] - [7]
2025-06-13 00:21:48,081 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:48,081 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=21ms
2025-06-13 00:21:48,084 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /admin/users
2025-06-13 00:21:48,084 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:48,086 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /admin/users?currentUserId=3
2025-06-13 00:21:48,086 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:48,088 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:48,088 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:48,089 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:48,091 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /admin/users?currentUserId=3
2025-06-13 00:21:48,091 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:48,092 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:21:48,092 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:21:48,093 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:21:48,094 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,095 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:21:48,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,096 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:21:48,097 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,097 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:48,098 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,098 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:21:48,099 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:48,099 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:48,101 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:48,101 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=17ms
2025-06-13 00:21:49,834 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /coupons
2025-06-13 00:21:49,834 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /users
2025-06-13 00:21:49,834 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:49,834 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:49,834 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /users?currentUserId=3
2025-06-13 00:21:49,834 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /coupons?currentUserId=3
2025-06-13 00:21:49,834 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:49,834 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:49,841 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:49,842 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:49,845 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:49,845 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:49,846 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:49,846 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:49,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:49,848 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:49,849 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /users?currentUserId=3
2025-06-13 00:21:49,851 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /coupons?currentUserId=3
2025-06-13 00:21:49,852 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:49,853 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:49,853 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-4] Getting all coupons
2025-06-13 00:21:49,853 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:49,853 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=404, Time=19ms
2025-06-13 00:21:49,854 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /error?currentUserId=3
2025-06-13 00:21:49,854 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:49,855 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:21:49,855 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /error?currentUserId=3
2025-06-13 00:21:49,855 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:21:49,855 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:49,856 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /users
2025-06-13 00:21:49,857 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:49,857 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /users?currentUserId=3
2025-06-13 00:21:49,857 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:49,860 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:49,861 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:49,862 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:49,862 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:49,863 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:49,864 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:49,864 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:49,864 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:21:49,867 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:49,867 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /users?currentUserId=3
2025-06-13 00:21:49,867 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=33ms
2025-06-13 00:21:49,868 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /coupons
2025-06-13 00:21:49,868 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:21:49,868 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /coupons?currentUserId=3
2025-06-13 00:21:49,868 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:49,869 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:49,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=404, Time=12ms
2025-06-13 00:21:49,869 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /error?currentUserId=3
2025-06-13 00:21:49,869 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:21:49,869 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:21:49,869 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /error?currentUserId=3
2025-06-13 00:21:49,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:21:49,871 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:49,871 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:21:49,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:21:49,873 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:21:49,875 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /coupons?currentUserId=3
2025-06-13 00:21:49,876 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:49,876 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:21:49,876 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-2] Getting all coupons
2025-06-13 00:21:49,878 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:21:49,882 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:49,882 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:21:49,885 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:21:49,885 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:21:49,889 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:21:49,889 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=21ms
2025-06-13 00:21:51,805 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:21:51,805 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:21:51,805 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:22:01,957 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons/active
2025-06-13 00:22:01,957 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /admin/users
2025-06-13 00:22:01,957 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:01,957 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:01,958 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:22:01,958 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:01,958 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:01,958 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:01,961 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:01,961 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:01,962 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:01,962 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:01,962 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,962 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,962 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:01,962 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:01,964 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:01,964 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:22:01,964 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:01,964 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:01,966 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:01,966 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:01,966 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting all active coupons
2025-06-13 00:22:01,966 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:22:01,967 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:01,967 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:22:01,967 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:22:01.966154600]
2025-06-13 00:22:01,968 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,968 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:01,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:01,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,969 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:01,969 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:01,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,970 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:01,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:01,970 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:01,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,970 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:01,971 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,971 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:01,971 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:01,971 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=13ms
2025-06-13 00:22:01,973 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /coupons/active
2025-06-13 00:22:01,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,973 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:01,973 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:22:01,973 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:01,973 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:01,975 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:01,975 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:01,976 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:01,976 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=18ms
2025-06-13 00:22:01,976 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,977 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:01,977 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /admin/users
2025-06-13 00:22:01,977 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:01,978 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:01,978 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:01,979 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:22:01,980 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:01,980 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:01,980 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:01,980 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-8] Getting all active coupons
2025-06-13 00:22:01,980 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:01,980 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:22:01,981 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:22:01,981 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,981 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:22:01.980668200]
2025-06-13 00:22:01,981 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:01,982 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:01,982 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:01,983 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:01,983 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:01,983 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:01,984 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:01,984 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:01,985 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:01,985 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,986 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:01,986 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:01,986 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=13ms
2025-06-13 00:22:01,986 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,987 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:01,987 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,988 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:01,988 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,988 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:01,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,989 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:01,990 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:01,990 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:01,992 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:01,992 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=15ms
2025-06-13 00:22:05,562 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: PUT /admin/users/5/coupons
2025-06-13 00:22:05,563 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, content-length=19, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:05,563 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:22:05,563 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:05,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:05,567 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:05,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,568 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:05,569 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:22:05,570 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:05,571 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:05,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:05,572 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:05,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:22:05,574 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:22:05,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:22:05,576 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [2] as [TIMESTAMP] - [2025-06-12T23:55:27]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [6] as [TIMESTAMP] - [2025-07-12T16:54:41]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [7] as [TIMESTAMP] - [2025-07-12T16:54:41.411]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [10] as [NUMERIC] - [240000.00]
2025-06-13 00:22:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [11] as [TIMESTAMP] - [2025-06-12T16:54:41]
2025-06-13 00:22:05,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:22:05,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:22:05.576748300]
2025-06-13 00:22:05,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:22:05,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [15] as [BIGINT] - [5]
2025-06-13 00:22:05,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [16] as [BIGINT] - [8]
2025-06-13 00:22:05,582 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:05,582 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=19ms
2025-06-13 00:22:05,585 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /admin/users
2025-06-13 00:22:05,585 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:05,585 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:05,585 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:05,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:05,588 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:05,589 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,589 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:05,591 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:05,591 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:05,592 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:05,592 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:05,593 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,593 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:05,595 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,595 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:05,596 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,596 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:05,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,597 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:05,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,597 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:05,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:05,598 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:05,600 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:05,600 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=15ms
2025-06-13 00:22:07,876 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons
2025-06-13 00:22:07,876 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /users
2025-06-13 00:22:07,876 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:07,876 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:07,877 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons?currentUserId=3
2025-06-13 00:22:07,877 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /users?currentUserId=3
2025-06-13 00:22:07,877 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:07,877 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:07,881 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:07,881 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:07,881 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:07,881 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:07,882 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:07,882 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:07,882 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:07,882 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:07,884 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons?currentUserId=3
2025-06-13 00:22:07,884 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /users?currentUserId=3
2025-06-13 00:22:07,884 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:07,884 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:07,884 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting all coupons
2025-06-13 00:22:07,885 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:07,885 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:22:07,885 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=404, Time=8ms
2025-06-13 00:22:07,886 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /error?currentUserId=3
2025-06-13 00:22:07,886 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:07,886 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:22:07,886 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /error?currentUserId=3
2025-06-13 00:22:07,887 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:07,888 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:07,889 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /users
2025-06-13 00:22:07,889 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:07,889 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:07,889 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /users?currentUserId=3
2025-06-13 00:22:07,889 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:07,890 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:07,891 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:07,891 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:07,891 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:07,892 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:07,892 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:07,893 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:07,893 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=17ms
2025-06-13 00:22:07,894 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /coupons
2025-06-13 00:22:07,894 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:07,894 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /coupons?currentUserId=3
2025-06-13 00:22:07,894 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:07,894 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /users?currentUserId=3
2025-06-13 00:22:07,895 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:07,895 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=404, Time=6ms
2025-06-13 00:22:07,896 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /error?currentUserId=3
2025-06-13 00:22:07,896 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:07,896 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:22:07,896 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:07,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /error?currentUserId=3
2025-06-13 00:22:07,896 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:07,897 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:07,897 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:07,897 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:07,899 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /coupons?currentUserId=3
2025-06-13 00:22:07,900 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:07,900 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:07,900 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-2] Getting all coupons
2025-06-13 00:22:07,901 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:22:07,904 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:07,905 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:07,907 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:07,907 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:07,909 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:07,909 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=15ms
2025-06-13 00:22:16,145 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications
2025-06-13 00:22:16,145 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:16,145 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:22:16,145 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:16,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:16,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:16,148 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:16,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:16,150 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:22:16,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:16,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:16,154 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:22:16,154 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:22:16,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:22:16,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:16,158 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:16,158 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=13ms
2025-06-13 00:22:19,177 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /coupons/active
2025-06-13 00:22:19,177 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /admin/users
2025-06-13 00:22:19,177 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:19,177 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:19,177 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:19,177 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:22:19,177 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:19,177 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:19,180 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:19,180 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:19,181 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:19,181 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:19,182 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,182 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,182 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:19,182 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:19,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:19,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:22:19,185 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:19,185 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:19,185 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:19,185 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:19,185 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-8] Getting all active coupons
2025-06-13 00:22:19,185 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:22:19,186 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:22:19,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:19,186 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:22:19.185633700]
2025-06-13 00:22:19,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,188 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:19,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:19,188 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:19,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,189 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:19,190 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:19,190 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=13ms
2025-06-13 00:22:19,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,191 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /coupons/active
2025-06-13 00:22:19,191 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:19,191 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:19,191 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:22:19,191 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:19,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,192 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:19,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:19,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,193 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:19,193 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:19,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,193 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:19,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,194 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:19,195 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:22:19,196 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:19,196 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:19,196 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:19,196 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=19ms
2025-06-13 00:22:19,196 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-9] Getting all active coupons
2025-06-13 00:22:19,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:22:19,197 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /admin/users
2025-06-13 00:22:19,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:22:19,197 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:19,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:22:19.196662700]
2025-06-13 00:22:19,197 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:19,197 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:19,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:19,199 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:19,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:19,200 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:19,200 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:19,201 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:19,201 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=10ms
2025-06-13 00:22:19,203 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:19,203 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:19,203 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:19,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:19,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,206 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:19,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,207 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:19,207 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,207 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:19,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,208 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:19,209 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,209 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:19,210 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:19,210 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:19,212 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:19,212 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=15ms
2025-06-13 00:22:20,611 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: PUT /admin/users/1/coupons
2025-06-13 00:22:20,611 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, content-length=18, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:20,612 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:22:20,612 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:20,614 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:20,614 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:20,615 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,615 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:20,617 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:22:20,618 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:20,618 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:20,619 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:20,619 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:20,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:22:20,621 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:22:20,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:22:20,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:22:20,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [2] as [TIMESTAMP] - [2025-06-09T19:24:08]
2025-06-13 00:22:20,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:22:20,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:22:20,624 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:22:20,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [6] as [TIMESTAMP] - [2025-07-09T12:23:57]
2025-06-13 00:22:20,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [7] as [TIMESTAMP] - [2025-07-09T12:23:57.122]
2025-06-13 00:22:20,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:22:20,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:22:20,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [10] as [NUMERIC] - [12222222.00]
2025-06-13 00:22:20,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [11] as [TIMESTAMP] - [2025-06-09T12:23:57]
2025-06-13 00:22:20,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:22:20,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:22:20.622822900]
2025-06-13 00:22:20,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:22:20,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [15] as [BIGINT] - [1]
2025-06-13 00:22:20,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [16] as [BIGINT] - [7]
2025-06-13 00:22:20,630 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:20,630 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=19ms
2025-06-13 00:22:20,632 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /admin/users
2025-06-13 00:22:20,633 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:20,633 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:20,633 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:20,636 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:20,636 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:20,637 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,637 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:20,639 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:20,639 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:20,640 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:20,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:20,641 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,642 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:20,642 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,643 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:20,643 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,643 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:20,644 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,644 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:20,645 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,645 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:20,646 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:20,646 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:20,649 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:20,649 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=16ms
2025-06-13 00:22:21,791 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /users
2025-06-13 00:22:21,791 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons
2025-06-13 00:22:21,791 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:21,791 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:21,791 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons?currentUserId=3
2025-06-13 00:22:21,791 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /users?currentUserId=3
2025-06-13 00:22:21,791 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:21,791 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:21,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:21,806 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:21,808 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:21,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:21,809 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:21,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:21,812 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:21,812 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:21,813 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons?currentUserId=3
2025-06-13 00:22:21,814 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:21,814 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /users?currentUserId=3
2025-06-13 00:22:21,815 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:21,815 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting all coupons
2025-06-13 00:22:21,816 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=1, idle=1, waiting=0)
2025-06-13 00:22:21,816 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=1, idle=1, waiting=0)
2025-06-13 00:22:21,817 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:22:21,818 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:21,818 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=404, Time=27ms
2025-06-13 00:22:21,819 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /error?currentUserId=3
2025-06-13 00:22:21,819 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:21,820 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-5] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:22:21,820 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /error?currentUserId=3
2025-06-13 00:22:21,821 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:21,822 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:21,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:21,824 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /users
2025-06-13 00:22:21,825 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:21,825 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /users?currentUserId=3
2025-06-13 00:22:21,825 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:21,825 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:21,826 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65e0d27d
2025-06-13 00:22:21,826 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection adder] HikariPool-1 - After adding stats (total=3, active=1, idle=2, waiting=0)
2025-06-13 00:22:21,826 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:21,828 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:21,828 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=37ms
2025-06-13 00:22:21,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:21,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:21,829 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons
2025-06-13 00:22:21,829 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:21,830 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons?currentUserId=3
2025-06-13 00:22:21,830 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:21,830 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:21,830 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:21,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:21,833 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:21,833 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /users?currentUserId=3
2025-06-13 00:22:21,833 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:21,833 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:21,834 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:21,834 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=404, Time=9ms
2025-06-13 00:22:21,834 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /error?currentUserId=3
2025-06-13 00:22:21,834 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:21,834 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:22:21,834 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /error?currentUserId=3
2025-06-13 00:22:21,835 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons?currentUserId=3
2025-06-13 00:22:21,836 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:21,836 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:21,836 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:21,836 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting all coupons
2025-06-13 00:22:21,838 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:22:21,841 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:21,841 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:21,843 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:21,843 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:21,844 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:21,844 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=14ms
2025-06-13 00:22:46,156 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /notifications
2025-06-13 00:22:46,156 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:46,156 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:22:46,156 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:46,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:46,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:46,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:46,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:46,161 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:22:46,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:46,162 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:46,163 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:22:46,163 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:22:46,163 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:22:46,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:46,165 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:46,165 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=9ms
2025-06-13 00:22:51,832 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:22:51,832 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:22:51,832 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:22:53,400 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /admin/users
2025-06-13 00:22:53,401 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /coupons/active
2025-06-13 00:22:53,401 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:53,401 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:53,401 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:53,401 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:53,401 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:22:53,401 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:53,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:53,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:53,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:53,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:53,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,405 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:53,405 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:53,408 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:22:53,408 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:53,408 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:53,408 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:53,409 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:53,409 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:53,409 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-9] Getting all active coupons
2025-06-13 00:22:53,410 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:22:53,410 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:53,410 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:22:53,410 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:22:53.409725500]
2025-06-13 00:22:53,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,411 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:53,412 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:53,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,422 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:53,416 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:53,427 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:53,428 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:53,428 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,429 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:53,431 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:53,431 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=30ms
2025-06-13 00:22:53,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,432 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:53,433 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /coupons/active
2025-06-13 00:22:53,433 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:53,433 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:22:53,433 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:53,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,435 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:53,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:53,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:53,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:53,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:53,441 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:53,441 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=40ms
2025-06-13 00:22:53,442 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:22:53,442 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /admin/users
2025-06-13 00:22:53,442 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:53,442 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:53,443 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:53,443 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:53,443 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:22:53,443 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-10] Getting all active coupons
2025-06-13 00:22:53,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:22:53,444 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:22:53,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:53,444 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:22:53.443282200]
2025-06-13 00:22:53,444 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:53,445 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,446 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:53,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:53,447 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:53,448 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:53,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:53,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:53,448 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:53,449 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:53,450 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:53,450 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=17ms
2025-06-13 00:22:53,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:53,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,452 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:53,453 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,453 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:53,454 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,454 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:53,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,455 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:53,456 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,456 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:53,456 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:53,456 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:53,458 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:53,459 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=17ms
2025-06-13 00:22:58,691 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: PUT /admin/users/1/coupons
2025-06-13 00:22:58,691 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, content-length=18, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:58,691 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:22:58,691 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:58,695 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:58,696 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:58,697 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,697 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:58,699 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:22:58,701 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:58,702 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:58,703 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:22:58,703 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:58,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:22:58,706 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:22:58,709 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:58,709 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=18ms
2025-06-13 00:22:58,712 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /admin/users
2025-06-13 00:22:58,712 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:22:58,712 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /admin/users?currentUserId=3
2025-06-13 00:22:58,712 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:22:58,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:22:58,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:22:58,716 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:58,717 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /admin/users?currentUserId=3
2025-06-13 00:22:58,718 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:58,718 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:22:58,719 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:22:58,720 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,720 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:22:58,721 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,721 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:22:58,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,722 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:22:58,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,723 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:22:58,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,723 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:22:58,725 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:22:58,725 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:22:58,731 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:22:58,731 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=19ms
2025-06-13 00:23:00,074 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: PUT /admin/users/1/coupons
2025-06-13 00:23:00,074 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, content-length=19, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:00,075 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:23:00,075 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:00,077 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:00,078 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:00,078 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,079 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:00,080 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured PUT /admin/users/1/coupons?currentUserId=3
2025-06-13 00:23:00,082 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:00,082 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:00,084 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:00,084 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:00,086 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:23:00,086 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:23:00,089 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:23:00,089 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:23:00,089 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [TIMESTAMP] - [2025-06-12T23:55:27]
2025-06-13 00:23:00,089 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [6] as [TIMESTAMP] - [2025-07-12T16:54:41]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [7] as [TIMESTAMP] - [2025-07-12T16:54:41.411]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [10] as [NUMERIC] - [240000.00]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [11] as [TIMESTAMP] - [2025-06-12T16:54:41]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:23:00.088502700]
2025-06-13 00:23:00,090 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:23:00,091 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [15] as [BIGINT] - [1]
2025-06-13 00:23:00,091 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [16] as [BIGINT] - [8]
2025-06-13 00:23:00,094 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:00,094 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=20ms
2025-06-13 00:23:00,097 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /admin/users
2025-06-13 00:23:00,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:00,098 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:00,098 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:00,100 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:00,100 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:00,101 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,101 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:00,102 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:00,104 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:00,104 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:00,105 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:00,106 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,106 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:00,107 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,107 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:00,107 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,108 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:00,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,109 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:00,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,110 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:00,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:00,111 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:00,112 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:00,112 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=14ms
2025-06-13 00:23:01,301 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /users
2025-06-13 00:23:01,301 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons
2025-06-13 00:23:01,301 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:01,301 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:01,302 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons?currentUserId=3
2025-06-13 00:23:01,302 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /users?currentUserId=3
2025-06-13 00:23:01,302 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:01,302 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:01,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:01,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:01,304 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:01,304 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:01,305 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:01,305 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:01,306 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:01,306 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:01,307 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons?currentUserId=3
2025-06-13 00:23:01,307 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /users?currentUserId=3
2025-06-13 00:23:01,307 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:01,307 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:01,308 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting all coupons
2025-06-13 00:23:01,308 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:01,309 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=404, Time=7ms
2025-06-13 00:23:01,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:23:01,309 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /error?currentUserId=3
2025-06-13 00:23:01,309 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:01,309 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-8] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:23:01,309 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /error?currentUserId=3
2025-06-13 00:23:01,311 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:01,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:01,312 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /users
2025-06-13 00:23:01,312 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:01,312 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:01,312 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /users?currentUserId=3
2025-06-13 00:23:01,312 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:01,313 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:01,314 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=12ms
2025-06-13 00:23:01,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:01,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:01,315 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /coupons
2025-06-13 00:23:01,315 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:01,315 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /coupons?currentUserId=3
2025-06-13 00:23:01,315 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:01,315 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:01,315 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:01,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:01,317 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /users?currentUserId=3
2025-06-13 00:23:01,317 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:01,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:01,318 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:01,319 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:01,319 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=404, Time=7ms
2025-06-13 00:23:01,319 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /error?currentUserId=3
2025-06-13 00:23:01,319 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:01,319 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-9] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:23:01,319 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /error?currentUserId=3
2025-06-13 00:23:01,320 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /coupons?currentUserId=3
2025-06-13 00:23:01,320 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:01,320 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:01,321 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:01,321 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-6] Getting all coupons
2025-06-13 00:23:01,322 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:23:01,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:01,325 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:01,326 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:01,327 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=12ms
2025-06-13 00:23:07,709 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /admin/users
2025-06-13 00:23:07,709 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons/active
2025-06-13 00:23:07,709 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:07,709 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:07,709 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:07,709 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:23:07,709 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:07,709 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:07,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:07,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:07,713 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:07,713 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:07,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,714 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:07,714 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:07,716 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:23:07,716 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:07,717 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:07,717 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:07,717 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:07,717 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:07,717 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all active coupons
2025-06-13 00:23:07,718 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:23:07,718 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:07,718 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:23:07,718 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:23:07.717786600]
2025-06-13 00:23:07,719 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,719 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:07,720 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:07,720 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,720 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:07,720 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:07,721 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,721 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:07,722 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:07,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,722 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=13ms
2025-06-13 00:23:07,722 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:07,723 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /coupons/active
2025-06-13 00:23:07,723 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:07,723 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:23:07,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,723 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:07,723 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:07,726 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,726 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:07,726 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:07,726 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:07,727 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,727 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:07,729 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:07,729 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:23:07,729 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=20ms
2025-06-13 00:23:07,730 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:07,730 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /admin/users
2025-06-13 00:23:07,730 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:07,730 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:07,730 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-4] Getting all active coupons
2025-06-13 00:23:07,730 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:07,730 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:07,731 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:23:07,731 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:23:07,731 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:23:07.730287100]
2025-06-13 00:23:07,732 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:07,733 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:07,733 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:07,733 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,733 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:07,733 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:07,734 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:07,734 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:07,734 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=11ms
2025-06-13 00:23:07,735 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:07,735 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:07,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:07,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,736 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:07,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,738 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:07,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,739 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:07,739 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,740 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:07,740 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,740 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:07,741 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:07,741 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:07,743 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:07,743 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=13ms
2025-06-13 00:23:11,330 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: PUT /admin/users/5/coupons
2025-06-13 00:23:11,330 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, content-length=18, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:11,330 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:23:11,331 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:11,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:11,334 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:11,335 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,335 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:11,337 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:23:11,338 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:11,338 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:11,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:11,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:11,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:23:11,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:23:11,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:23:11,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:23:11,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [TIMESTAMP] - [2025-06-09T19:24:08]
2025-06-13 00:23:11,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:23:11,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:23:11,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:23:11,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [6] as [TIMESTAMP] - [2025-07-09T12:23:57]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [7] as [TIMESTAMP] - [2025-07-09T12:23:57.122]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [10] as [NUMERIC] - [12222222.00]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [11] as [TIMESTAMP] - [2025-06-09T12:23:57]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:23:11.342901600]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [15] as [BIGINT] - [5]
2025-06-13 00:23:11,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [16] as [BIGINT] - [7]
2025-06-13 00:23:11,349 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:11,349 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=19ms
2025-06-13 00:23:11,352 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /admin/users
2025-06-13 00:23:11,352 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:11,352 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:11,352 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:11,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:11,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:11,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:11,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:11,357 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:11,358 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:11,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:11,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:11,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:11,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:11,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:11,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:11,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:11,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:11,366 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:11,366 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=14ms
2025-06-13 00:23:12,939 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: PUT /admin/users/5/coupons
2025-06-13 00:23:12,939 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, content-length=19, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:12,939 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:23:12,939 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:12,943 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:12,943 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:12,944 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,944 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:12,946 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured PUT /admin/users/5/coupons?currentUserId=3
2025-06-13 00:23:12,947 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:12,948 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:12,949 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:12,949 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:12,951 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:23:12,951 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:23:12,953 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:23:12,953 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [ty]
2025-06-13 00:23:12,953 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [TIMESTAMP] - [2025-06-12T23:55:27]
2025-06-13 00:23:12,953 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:23:12,953 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:23:12,953 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:23:12,954 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [6] as [TIMESTAMP] - [2025-07-12T16:54:41]
2025-06-13 00:23:12,954 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [7] as [TIMESTAMP] - [2025-07-12T16:54:41.411]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [10] as [NUMERIC] - [240000.00]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [11] as [TIMESTAMP] - [2025-06-12T16:54:41]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:23:12.952561500]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [15] as [BIGINT] - [5]
2025-06-13 00:23:12,955 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [16] as [BIGINT] - [8]
2025-06-13 00:23:12,959 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:12,959 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=20ms
2025-06-13 00:23:12,962 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /admin/users
2025-06-13 00:23:12,962 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:12,962 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:12,962 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:12,964 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:12,965 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:12,965 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,965 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:12,968 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:12,968 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:12,968 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:12,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:12,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,970 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:12,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,970 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:12,971 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,971 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:12,971 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,972 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:12,972 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,972 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:12,973 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:12,973 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:12,975 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:12,975 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=13ms
2025-06-13 00:23:13,971 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /coupons
2025-06-13 00:23:13,971 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /users
2025-06-13 00:23:13,971 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:13,971 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:13,971 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /coupons?currentUserId=3
2025-06-13 00:23:13,972 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /users?currentUserId=3
2025-06-13 00:23:13,972 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:13,972 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:13,974 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:13,974 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:13,975 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:13,975 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:13,975 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:13,975 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:13,975 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:13,975 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:13,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /users?currentUserId=3
2025-06-13 00:23:13,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /coupons?currentUserId=3
2025-06-13 00:23:13,975 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:13,975 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:13,975 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-9] Getting all coupons
2025-06-13 00:23:13,975 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:13,975 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=404, Time=4ms
2025-06-13 00:23:13,975 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /error?currentUserId=3
2025-06-13 00:23:13,975 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:13,975 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-6] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:23:13,975 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:23:13,975 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /error?currentUserId=3
2025-06-13 00:23:13,981 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:13,982 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /users
2025-06-13 00:23:13,982 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:13,982 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:13,982 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:13,982 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /users?currentUserId=3
2025-06-13 00:23:13,982 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:13,984 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:13,984 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:13,984 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:13,984 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:13,984 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:13,984 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:13,984 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:13,984 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=13ms
2025-06-13 00:23:13,987 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /coupons
2025-06-13 00:23:13,987 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:13,987 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /users?currentUserId=3
2025-06-13 00:23:13,987 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /coupons?currentUserId=3
2025-06-13 00:23:13,987 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:13,988 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:13,989 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=404, Time=7ms
2025-06-13 00:23:13,989 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /error?currentUserId=3
2025-06-13 00:23:13,989 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:13,989 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:23:13,989 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /error?currentUserId=3
2025-06-13 00:23:13,989 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:13,989 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:13,990 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:13,990 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:13,990 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:13,992 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /coupons?currentUserId=3
2025-06-13 00:23:13,992 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:13,992 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:13,992 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-10] Getting all coupons
2025-06-13 00:23:13,993 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:23:13,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:13,995 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:13,996 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:13,997 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:13,998 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:13,998 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=11ms
2025-06-13 00:23:16,140 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-06-13 00:23:16,140 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:16,141 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:23:16,141 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:16,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:16,143 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:16,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:16,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:16,144 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:23:16,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:16,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:16,148 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:23:16,148 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:23:16,148 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:23:16,148 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:16,150 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:16,150 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=9ms
2025-06-13 00:23:21,834 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:23:21,835 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:23:21,835 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:23:46,140 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /notifications
2025-06-13 00:23:46,140 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:46,141 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:23:46,141 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:46,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:46,143 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:46,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:23:46,148 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:46,148 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,150 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:23:46,151 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:23:46,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:23:46,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,153 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:46,153 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=13ms
2025-06-13 00:23:46,477 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /admin/users
2025-06-13 00:23:46,477 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /coupons/active
2025-06-13 00:23:46,477 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:46,477 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:46,478 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:23:46,478 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:46,478 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:46,478 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:46,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:46,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:46,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:46,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:46,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,484 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:23:46,484 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:46,485 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:46,485 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:46,485 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:46,485 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:46,485 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-2] Getting all active coupons
2025-06-13 00:23:46,486 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:23:46,486 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:23:46,486 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:46,486 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:23:46.485494]
2025-06-13 00:23:46,487 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:46,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:46,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:46,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:46,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,489 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:46,489 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:46,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,489 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=11ms
2025-06-13 00:23:46,489 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,491 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /coupons/active
2025-06-13 00:23:46,491 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:46,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,491 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /coupons/active?currentUserId=3
2025-06-13 00:23:46,491 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:46,491 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:46,493 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,493 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:46,494 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:46,494 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:46,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,503 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,504 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:46,504 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=26ms
2025-06-13 00:23:46,504 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /coupons/active?currentUserId=3
2025-06-13 00:23:46,505 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /admin/users
2025-06-13 00:23:46,505 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:46,505 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:46,505 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:46,505 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:46,505 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getActiveCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:46,506 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-8] Getting all active coupons
2025-06-13 00:23:46,506 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-06-13 00:23:46,507 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BOOLEAN] - [true]
2025-06-13 00:23:46,507 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [TIMESTAMP] - [2025-06-13T00:23:46.506548200]
2025-06-13 00:23:46,507 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:46,507 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:46,508 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,508 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:46,509 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:46,510 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:46,510 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:46,510 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:46,510 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=19ms
2025-06-13 00:23:46,511 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:46,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:46,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,513 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:46,514 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,514 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:46,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,515 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:46,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,516 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:46,516 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,516 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:46,517 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:46,517 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:46,518 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:46,519 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=14ms
2025-06-13 00:23:50,468 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: PUT /admin/users/6/coupons
2025-06-13 00:23:50,468 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, content-length=18, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:50,469 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing PUT /admin/users/6/coupons?currentUserId=3
2025-06-13 00:23:50,469 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:50,471 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:50,471 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:50,472 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,472 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:50,473 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured PUT /admin/users/6/coupons?currentUserId=3
2025-06-13 00:23:50,475 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:50,475 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.assignCouponToUser(java.lang.Long,java.util.Map); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:50,476 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:50,476 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:50,478 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-06-13 00:23:50,478 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:23:50,479 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    update
        coupons 
    set
        code=?,
        created_at=?,
        description=?,
        discount_type=?,
        discount_value=?,
        end_date=?,
        expiry_date=?,
        is_active=?,
        max_uses=?,
        min_purchase_amount=?,
        start_date=?,
        type=?,
        updated_at=?,
        used_count=?,
        user_id=? 
    where
        id=?
2025-06-13 00:23:50,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [n]
2025-06-13 00:23:50,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [TIMESTAMP] - [2025-06-09T19:24:08]
2025-06-13 00:23:50,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [VARCHAR] - [a]
2025-06-13 00:23:50,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [VARCHAR] - [PERCENTAGE]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [NUMERIC] - [12.00]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [TIMESTAMP] - [2025-07-09T12:23:57]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [TIMESTAMP] - [2025-07-09T12:23:57.122]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [8] as [BOOLEAN] - [true]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [9] as [INTEGER] - [null]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [10] as [NUMERIC] - [12222222.00]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [11] as [TIMESTAMP] - [2025-06-09T12:23:57]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [12] as [VARCHAR] - [GENERAL]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [13] as [TIMESTAMP] - [2025-06-13T00:23:50.479644700]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [14] as [INTEGER] - [0]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [15] as [BIGINT] - [6]
2025-06-13 00:23:50,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [16] as [BIGINT] - [7]
2025-06-13 00:23:50,486 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:50,486 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=18ms
2025-06-13 00:23:50,489 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /admin/users
2025-06-13 00:23:50,489 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:50,490 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /admin/users?currentUserId=3
2025-06-13 00:23:50,490 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:50,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:50,492 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:50,492 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,492 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:50,493 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /admin/users?currentUserId=3
2025-06-13 00:23:50,494 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:50,494 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.AdminController.getAllUsers(); target is of class [com.example.tmdt.controller.AdminController]
2025-06-13 00:23:50,495 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_
2025-06-13 00:23:50,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,496 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [8]
2025-06-13 00:23:50,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,497 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:50,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:50,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:50,499 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,499 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-06-13 00:23:50,499 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:50,500 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:50,501 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:50,502 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=13ms
2025-06-13 00:23:51,741 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /users
2025-06-13 00:23:51,741 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /coupons
2025-06-13 00:23:51,741 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:51,741 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:51,741 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /coupons?currentUserId=3
2025-06-13 00:23:51,741 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /users?currentUserId=3
2025-06-13 00:23:51,741 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:51,741 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:51,744 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:51,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:51,745 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:51,747 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:51,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:51,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:51,749 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:51,749 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:51,751 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /users?currentUserId=3
2025-06-13 00:23:51,752 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /coupons?currentUserId=3
2025-06-13 00:23:51,753 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:51,753 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:51,753 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-1] Getting all coupons
2025-06-13 00:23:51,753 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:51,753 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=404, Time=12ms
2025-06-13 00:23:51,753 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /error?currentUserId=3
2025-06-13 00:23:51,753 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:51,754 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:23:51,754 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /error?currentUserId=3
2025-06-13 00:23:51,754 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:23:51,755 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:51,756 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /users
2025-06-13 00:23:51,758 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:51,758 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:51,759 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /users?currentUserId=3
2025-06-13 00:23:51,759 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:51,759 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:51,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:51,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:51,761 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:51,761 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:51,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:51,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:51,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:51,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:51,763 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:51,763 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=22ms
2025-06-13 00:23:51,763 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /users?currentUserId=3
2025-06-13 00:23:51,764 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /coupons
2025-06-13 00:23:51,764 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:23:51,764 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /coupons?currentUserId=3
2025-06-13 00:23:51,764 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:51,764 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:51,765 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=404, Time=7ms
2025-06-13 00:23:51,765 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /error?currentUserId=3
2025-06-13 00:23:51,765 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:23:51,765 DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to anonymous SecurityContext
2025-06-13 00:23:51,765 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /error?currentUserId=3
2025-06-13 00:23:51,766 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:51,766 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:23:51,766 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:23:51,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:23:51,767 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:23:51,770 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /coupons?currentUserId=3
2025-06-13 00:23:51,770 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:51,770 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getAllCoupons(); target is of class [com.example.tmdt.controller.CouponController]
2025-06-13 00:23:51,770 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-5] Getting all coupons
2025-06-13 00:23:51,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.max_uses as max_use10_4_,
        coupon0_.min_purchase_amount as min_pur11_4_,
        coupon0_.start_date as start_d12_4_,
        coupon0_.type as type13_4_,
        coupon0_.updated_at as updated14_4_,
        coupon0_.used_count as used_co15_4_,
        coupon0_.user_id as user_id16_4_ 
    from
        coupons coupon0_
2025-06-13 00:23:51,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:51,772 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-06-13 00:23:51,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:51,774 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-06-13 00:23:51,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:23:51,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-06-13 00:23:51,776 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:23:51,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=12ms
2025-06-13 00:23:51,841 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:23:51,841 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:23:51,841 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:24:16,144 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:24:16,144 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:24:16,146 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:24:16,146 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:24:16,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:24:16,148 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:24:16,148 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:24:16,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:24:16,150 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:24:16,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:24:16,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:24:16,153 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:24:16,153 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:24:16,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:24:16,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:24:16,155 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:24:16,155 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=11ms
2025-06-13 00:24:21,847 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:24:21,847 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:24:21,847 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:24:46,773 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /notifications
2025-06-13 00:24:46,774 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:24:46,774 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:24:46,774 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:24:46,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:24:46,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:24:46,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:24:46,778 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:24:46,779 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:24:46,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:24:46,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:24:46,782 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:24:46,782 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:24:46,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:24:46,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:24:46,785 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-06-13 00:24:46,786 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=12ms
2025-06-13 00:24:51,849 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:24:51,849 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:24:51,850 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:25:16,783 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications
2025-06-13 00:25:16,783 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:25:16,783 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:25:16,783 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:25:16,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:25:16,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:25:16,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:25:16,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:25:16,789 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:25:16,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:25:16,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:25:16,791 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:25:16,792 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:25:16,792 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:25:16,792 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:25:16,794 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-06-13 00:25:16,794 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=11ms
2025-06-13 00:25:21,852 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:25:21,852 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:25:21,852 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:25:51,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-06-13 00:25:51,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:25:51,776 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:25:51,776 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:25:51,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:25:51,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:25:51,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:25:51,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:25:51,782 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:25:51,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:25:51,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:25:51,784 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:25:51,785 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:25:51,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:25:51,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:25:51,787 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-06-13 00:25:51,788 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=12ms
2025-06-13 00:25:51,856 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:25:51,856 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:25:51,856 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:26:21,867 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:26:21,867 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:26:21,867 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:26:51,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications
2025-06-13 00:26:51,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:26:51,776 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:26:51,776 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:26:51,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:26:51,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:26:51,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:26:51,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:26:51,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:26:51,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:26:51,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:26:51,786 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:26:51,786 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:26:51,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:26:51,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:26:51,790 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-06-13 00:26:51,790 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=14ms
2025-06-13 00:26:51,880 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:26:51,880 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:26:51,880 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:27:21,894 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-06-13 00:27:21,895 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:27:21,895 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:27:21,895 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@65e0d27d: (connection has passed idleTimeout)
2025-06-13 00:27:21,900 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 connection closer] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:27:51,787 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-06-13 00:27:51,788 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:27:51,788 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:27:51,788 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:27:51,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:27:51,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:27:51,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:27:51,791 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:27:51,792 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:27:51,794 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:27:51,794 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:27:51,796 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:27:51,796 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:27:51,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:27:51,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:27:51,799 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-06-13 00:27:51,800 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=12ms
2025-06-13 00:27:51,901 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:27:51,901 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:27:51,901 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:28:38,476 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:28:38,476 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:28:38,476 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:29:08,345 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /notifications
2025-06-13 00:29:08,345 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:29:08,345 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:29:08,345 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:29:08,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:29:08,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:29:08,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:29:08,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:29:08,351 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:29:08,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:29:08,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:29:08,354 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:29:08,354 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:29:08,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:29:08,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:29:08,356 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-06-13 00:29:08,356 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=11ms
2025-06-13 00:29:08,485 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:29:08,485 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:29:08,485 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:29:38,495 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:29:38,495 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:29:38,495 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:30:08,347 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-06-13 00:30:08,347 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc0OTc0NzY0NCwiZXhwIjoxNzQ5ODM0MDQ0fQ.gMQHghodmhVKDkFaKMCBunxY7g5MddOGJO6RXPvI5By1qHJCTsrNrNqHe9P8yuV_M4_U4TNRqM96P5gyf-VxeA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="137", "Chromium";v="137", "Not/A)Brand";v="24", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-06-13 00:30:08,348 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:30:08,348 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-06-13 00:30:08,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_,
        user0_.address as address2_17_,
        user0_.email as email3_17_,
        user0_.full_name as full_nam4_17_,
        user0_.password as password5_17_,
        user0_.phone_number as phone_nu6_17_,
        user0_.username as username7_17_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-06-13 00:30:08,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [admin]
2025-06-13 00:30:08,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_16_0_,
        roles0_.role_id as role_id2_16_0_,
        role1_.id as id1_13_1_,
        role1_.name as name2_13_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-06-13 00:30:08,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:30:08,354 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?page=0&size=10&currentUserId=3
2025-06-13 00:30:08,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_17_0_,
        user0_.address as address2_17_0_,
        user0_.email as email3_17_0_,
        user0_.full_name as full_nam4_17_0_,
        user0_.password as password5_17_0_,
        user0_.phone_number as phone_nu6_17_0_,
        user0_.username as username7_17_0_,
        roles1_.user_id as user_id1_16_1_,
        role2_.id as role_id2_16_1_,
        role2_.id as id1_13_2_,
        role2_.name as name2_13_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-06-13 00:30:08,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:30:08,356 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:30:08,356 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-06-13 00:30:08,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_5_,
        notificati0_.created_at as created_2_5_,
        notificati0_.is_read as is_read3_5_,
        notificati0_.message as message4_5_,
        notificati0_.reference_id as referenc5_5_,
        notificati0_.title as title6_5_,
        notificati0_.type as type7_5_,
        notificati0_.user_id as user_id8_5_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-06-13 00:30:08,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-06-13 00:30:08,358 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-06-13 00:30:08,358 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=10ms
2025-06-13 00:30:08,514 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:30:08,514 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:30:08,514 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:30:35,896 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@3ac236cb: (connection has passed maxLifetime)
2025-06-13 00:30:35,900 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@446b4eff
2025-06-13 00:30:37,323 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@39ab5ef7: (connection has passed maxLifetime)
2025-06-13 00:30:37,332 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e4f1ffa
2025-06-13 00:30:38,519 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:30:38,519 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:30:38,519 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-06-13 00:30:46,114 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-06-13 00:30:46,114 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7bb50de0]]
2025-06-13 00:30:46,114 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-06-13 00:30:46,142 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 00:30:46,145 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-06-13 00:30:46,145 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - Before shutdown stats (total=2, active=0, idle=2, waiting=0)
2025-06-13 00:30:46,146 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@446b4eff: (connection evicted)
2025-06-13 00:30:46,146 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@3e4f1ffa: (connection evicted)
2025-06-13 00:30:46,146 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)
2025-06-13 00:30:46,146 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
