2025-04-19 04:15:23,052 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: OPTIONS /products/24/user-reviews
2025-04-19 04:15:23,053 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: OPTIONS /products/24
2025-04-19 04:15:23,053 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: OPTIONS /products/24/user-reviews
2025-04-19 04:15:23,052 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: OPTIONS /products/24
2025-04-19 04:15:23,066 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,066 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,066 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,066 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,067 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:15:23,067 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:15:23,067 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:15:23,067 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:15:23,071 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/24
2025-04-19 04:15:23,071 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/24/user-reviews
2025-04-19 04:15:23,071 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,071 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,071 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/24?currentUserId=3
2025-04-19 04:15:23,071 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/24/user-reviews?userId=3&currentUserId=3
2025-04-19 04:15:23,071 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,071 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products/24, Method: GET
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/24/user-reviews, Method: GET
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:15:23,072 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,073 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:15:23,073 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:15:23,073 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:15:23,073 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:15:23,074 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:15:23,074 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:15:23,075 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,075 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,075 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,076 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,076 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,076 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,078 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,078 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,078 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:15:23,079 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:15:23,079 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,079 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,079 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2ef59f03, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,079 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@385aeadb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,079 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /products/24/user-reviews?userId=3&currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:23,079 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [GET /products/24?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:23,079 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/24/user-reviews?userId=3&currentUserId=3
2025-04-19 04:15:23,079 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/24?currentUserId=3
2025-04-19 04:15:23,088 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getUserReviewsForProduct with args: [24, 3]
2025-04-19 04:15:23,088 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getProduct with args: [24]
2025-04-19 04:15:23,092 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:23,093 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,096 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,096 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,096 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,098 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,098 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,100 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,100 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,101 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:23,102 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getProduct with result: [<200 OK OK,{images=[], reviews=[{createdAt=2025-04-19T03:06:55, rating=5.0, anonymous=false, comment=đá, id=4, title=Đánh giá tích cực, userName=sYn good72, userId=3, user={fullName=sYn good72, id=3, username=a1234}, updatedAt=2025-04-19T03:06:55}], reviewCount=1, price=2.899E7, averageRating=5.0, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, id=24, stock=38, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29)},[]>]
2025-04-19 04:15:23,102 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,102 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getProduct executed in 14 ms
2025-04-19 04:15:23,117 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        review0_.id as id1_13_,
        review0_.anonymous as anonymou2_13_,
        review0_.comment as comment3_13_,
        review0_.created_at as created_4_13_,
        review0_.product_id as product_8_13_,
        review0_.rating as rating5_13_,
        review0_.title as title6_13_,
        review0_.updated_at as updated_7_13_,
        review0_.user_id as user_id9_13_ 
    from
        reviews review0_ 
    where
        review0_.user_id=? 
        and review0_.product_id=? 
    order by
        review0_.created_at desc
2025-04-19 04:15:23,118 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,118 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [BIGINT] - [24]
2025-04-19 04:15:23,121 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:23,121 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getUserReviewsForProduct with result: [<200 OK OK,[{createdAt=2025-04-19T03:06:55, rating=5.0, anonymous=false, fullName=sYn good72, comment=đá, id=4, userName=sYn good72, userId=3, user={fullName=sYn good72, id=3, username=a1234}}],[]>]
2025-04-19 04:15:23,121 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getUserReviewsForProduct executed in 33 ms
2025-04-19 04:15:23,122 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:23,124 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,124 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=53ms
2025-04-19 04:15:23,124 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,124 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/24/user-reviews
2025-04-19 04:15:23,124 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,124 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=53ms
2025-04-19 04:15:23,126 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/24/user-reviews?userId=3&currentUserId=3
2025-04-19 04:15:23,126 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,126 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products/24
2025-04-19 04:15:23,126 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,126 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products/24?currentUserId=3
2025-04-19 04:15:23,126 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,126 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/24/user-reviews, Method: GET
2025-04-19 04:15:23,127 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,127 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:15:23,127 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,127 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products/24, Method: GET
2025-04-19 04:15:23,127 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,127 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:15:23,127 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,128 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:15:23,128 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:15:23,128 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:15:23,128 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:15:23,128 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:15:23,128 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:15:23,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,132 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,132 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,132 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: OPTIONS /wishlist/check/24
2025-04-19 04:15:23,133 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,133 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:15:23,136 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /wishlist/check/24
2025-04-19 04:15:23,134 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,134 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:15:23,136 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:15:23,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5f940322, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,136 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /wishlist/check/24?currentUserId=3
2025-04-19 04:15:23,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@43f5e092, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,136 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,137 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /products/24?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:23,137 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /products/24/user-reviews?userId=3&currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:23,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/24/user-reviews?userId=3&currentUserId=3
2025-04-19 04:15:23,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products/24?currentUserId=3
2025-04-19 04:15:23,137 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /wishlist/check/24, Method: GET
2025-04-19 04:15:23,137 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,137 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:15:23,137 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,138 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:15:23,139 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:15:23,139 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getProduct with args: [24]
2025-04-19 04:15:23,139 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:15:23,139 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getUserReviewsForProduct with args: [24, 3]
2025-04-19 04:15:23,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:23,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,141 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,141 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:23,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,145 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,145 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:15:23,146 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,146 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@95a85c1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,147 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /wishlist/check/24?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:23,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        review0_.id as id1_13_,
        review0_.anonymous as anonymou2_13_,
        review0_.comment as comment3_13_,
        review0_.created_at as created_4_13_,
        review0_.product_id as product_8_13_,
        review0_.rating as rating5_13_,
        review0_.title as title6_13_,
        review0_.updated_at as updated_7_13_,
        review0_.user_id as user_id9_13_ 
    from
        reviews review0_ 
    where
        review0_.user_id=? 
        and review0_.product_id=? 
    order by
        review0_.created_at desc
2025-04-19 04:15:23,147 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /wishlist/check/24?currentUserId=3
2025-04-19 04:15:23,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,148 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [BIGINT] - [24]
2025-04-19 04:15:23,148 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,149 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getUserReviewsForProduct with result: [<200 OK OK,[{createdAt=2025-04-19T03:06:55, rating=5.0, anonymous=false, fullName=sYn good72, comment=đá, id=4, userName=sYn good72, userId=3, user={fullName=sYn good72, id=3, username=a1234}}],[]>]
2025-04-19 04:15:23,149 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getProduct with result: [<200 OK OK,{images=[], reviews=[{createdAt=2025-04-19T03:06:55, rating=5.0, anonymous=false, comment=đá, id=4, title=Đánh giá tích cực, userName=sYn good72, userId=3, user={fullName=sYn good72, id=3, username=a1234}, updatedAt=2025-04-19T03:06:55}], reviewCount=1, price=2.899E7, averageRating=5.0, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, id=24, stock=38, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29)},[]>]
2025-04-19 04:15:23,149 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getUserReviewsForProduct executed in 10 ms
2025-04-19 04:15:23,149 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getProduct executed in 10 ms
2025-04-19 04:15:23,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:23,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:23,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,151 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,151 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=25ms
2025-04-19 04:15:23,152 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,153 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=27ms
2025-04-19 04:15:23,154 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.checkInWishlist(com.example.tmdt.model.User,java.lang.Long); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:23,156 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.checkInWishlist(com.example.tmdt.model.User,java.lang.Long); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:23,157 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.checkInWishlist(com.example.tmdt.model.User,java.lang.Long); target is of class [com.example.tmdt.controller.WishlistController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:23,157 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING checkInWishlist with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), 24]
2025-04-19 04:15:23,165 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-1] Check in wishlist request: user=3, productId=24
2025-04-19 04:15:23,173 INFO com.example.tmdt.service.WishlistService [http-nio-8080-exec-1] Checking if product 24 is in wishlist for user 3
2025-04-19 04:15:23,175 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:23,176 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,207 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        wishlist0_.id as col_0_0_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=? 
        and wishlist0_.product_id=? limit ?
2025-04-19 04:15:23,209 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,209 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [2] as [BIGINT] - [24]
2025-04-19 04:15:23,214 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING checkInWishlist with result: [<200 OK OK,true,[]>]
2025-04-19 04:15:23,214 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method checkInWishlist executed in 57 ms
2025-04-19 04:15:23,217 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,217 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=81ms
2025-04-19 04:15:23,218 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /wishlist/check/24
2025-04-19 04:15:23,218 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,219 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /wishlist/check/24?currentUserId=3
2025-04-19 04:15:23,219 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,219 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /wishlist/check/24, Method: GET
2025-04-19 04:15:23,219 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,220 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:15:23,220 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,221 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:15:23,222 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:15:23,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:15:23,224 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,224 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:15:23,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@53079f62, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,230 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /wishlist/check/24?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:23,230 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /wishlist/check/24?currentUserId=3
2025-04-19 04:15:23,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,234 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,237 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.checkInWishlist(com.example.tmdt.model.User,java.lang.Long); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:23,237 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.checkInWishlist(com.example.tmdt.model.User,java.lang.Long); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:23,238 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.checkInWishlist(com.example.tmdt.model.User,java.lang.Long); target is of class [com.example.tmdt.controller.WishlistController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:23,238 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING checkInWishlist with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), 24]
2025-04-19 04:15:23,238 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-4] Check in wishlist request: user=3, productId=24
2025-04-19 04:15:23,238 INFO com.example.tmdt.service.WishlistService [http-nio-8080-exec-4] Checking if product 24 is in wishlist for user 3
2025-04-19 04:15:23,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:23,240 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,242 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        wishlist0_.id as col_0_0_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=? 
        and wishlist0_.product_id=? limit ?
2025-04-19 04:15:23,243 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,244 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [2] as [BIGINT] - [24]
2025-04-19 04:15:23,245 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING checkInWishlist with result: [<200 OK OK,true,[]>]
2025-04-19 04:15:23,245 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method checkInWishlist executed in 7 ms
2025-04-19 04:15:23,247 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,247 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=29ms
2025-04-19 04:15:23,321 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products/top
2025-04-19 04:15:23,321 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,322 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:23,322 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,323 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:23,323 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,323 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:15:23,323 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,326 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:15:23,327 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:15:23,327 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:15:23,329 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,330 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,331 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,332 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,334 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,334 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:15:23,334 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,334 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6ce4ad09, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,336 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:23,336 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:23,337 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:23,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:23,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:23,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:23,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:23,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,346 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:23,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,347 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:23,348 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=38, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T03:41:14), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:23,349 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getTopProducts executed in 12 ms
2025-04-19 04:15:23,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:23,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,366 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:23,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,369 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:23,371 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:23,381 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,381 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:23,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,386 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:23,389 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,390 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=69ms
2025-04-19 04:15:23,390 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products/top
2025-04-19 04:15:23,390 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:23,390 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:23,391 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:23,391 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:23,391 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,391 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:15:23,391 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:23,392 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:15:23,392 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:15:23,392 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:15:23,393 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:23,393 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:23,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:23,394 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,396 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,396 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:15:23,396 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:23,396 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5dddb48b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:23,396 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:23,396 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:23,397 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:23,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:23,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,400 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:23,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,402 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:23,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:23,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,406 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:23,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:23,407 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:23,409 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=38, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T03:41:14), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:23,409 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getTopProducts executed in 12 ms
2025-04-19 04:15:23,410 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,410 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,412 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:23,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:23,414 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:23,417 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,417 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:23,418 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,419 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:23,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,421 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:23,422 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,423 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:23,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:23,424 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:23,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:23,426 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:23,428 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:23,428 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=38ms
2025-04-19 04:15:28,731 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons/my-coupons
2025-04-19 04:15:28,731 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:28,732 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:28,732 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:28,732 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-19 04:15:28,732 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:28,733 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:15:28,733 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:28,733 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:15:28,734 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:15:28,734 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:15:28,735 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:28,735 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:28,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:28,736 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:28,738 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:28,738 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:15:28,738 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:28,738 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3e7abdfd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:28,738 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /coupons/my-coupons?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:28,739 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:28,740 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:28,741 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:28,742 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:28,743 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:28,743 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:28,743 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:28,749 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting coupons for user: 3
2025-04-19 04:15:28,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-19 04:15:28,761 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:28,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [BOOLEAN] - [true]
2025-04-19 04:15:28,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [TIMESTAMP] - [2025-04-19T04:15:28.757931]
2025-04-19 04:15:28,798 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25)],[]>]
2025-04-19 04:15:28,799 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getMyCoupons executed in 55 ms
2025-04-19 04:15:28,810 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:28,811 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=79ms
2025-04-19 04:15:28,811 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /coupons/my-coupons
2025-04-19 04:15:28,811 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:28,812 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:28,812 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:28,812 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-19 04:15:28,812 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:28,812 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:15:28,812 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:28,813 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:15:28,813 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:15:28,813 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:15:28,814 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:28,815 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:28,816 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:28,816 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:28,818 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:28,818 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:15:28,818 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:28,818 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4494c6a4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:28,818 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /coupons/my-coupons?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:28,818 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:28,819 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:28,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:28,821 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:28,821 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:28,821 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:28,821 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:28,821 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-9] Getting coupons for user: 3
2025-04-19 04:15:28,822 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-19 04:15:28,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:28,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [BOOLEAN] - [true]
2025-04-19 04:15:28,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [3] as [TIMESTAMP] - [2025-04-19T04:15:28.821430100]
2025-04-19 04:15:28,824 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25)],[]>]
2025-04-19 04:15:28,824 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getMyCoupons executed in 3 ms
2025-04-19 04:15:28,825 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:28,825 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=13ms
2025-04-19 04:15:33,100 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: POST /coupons/verify
2025-04-19 04:15:33,101 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, content-length=35, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:33,101 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing POST /coupons/verify?currentUserId=3
2025-04-19 04:15:33,101 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:33,102 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /coupons/verify, Method: POST
2025-04-19 04:15:33,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:33,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:15:33,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:33,104 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:15:33,104 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:15:33,104 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:15:33,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:33,109 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:33,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:33,111 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:33,116 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:33,117 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:15:33,117 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:33,117 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4e23fd77, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:33,117 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [POST /coupons/verify?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:33,117 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured POST /coupons/verify?currentUserId=3
2025-04-19 04:15:33,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:33,123 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:33,221 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:33,222 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:33,222 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:33,223 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING verifyCoupon with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), CouponVerifyRequest(code=a, orderAmount=2.899E7)]
2025-04-19 04:15:33,223 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-6] Verifying coupon: a for user: 3
2025-04-19 04:15:33,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-19 04:15:33,230 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a]
2025-04-19 04:15:33,240 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING verifyCoupon with result: [<200 OK OK,{valid=true, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), message=Coupon is valid},[]>]
2025-04-19 04:15:33,241 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method verifyCoupon executed in 19 ms
2025-04-19 04:15:33,243 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:33,243 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=142ms
2025-04-19 04:15:35,096 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: POST /orders
2025-04-19 04:15:35,096 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, content-length=194, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:35,097 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing POST /orders?currentUserId=3
2025-04-19 04:15:35,097 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:35,097 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /orders, Method: POST
2025-04-19 04:15:35,097 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,097 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:15:35,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,098 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:15:35,099 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:15:35,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:15:35,100 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:35,100 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:35,101 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:35,101 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,102 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:15:35,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:35,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5c5c74fa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,103 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [POST /orders?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:35,103 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured POST /orders?currentUserId=3
2025-04-19 04:15:35,111 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:15:35,112 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:15:35,112 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:35,112 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING createOrder with args: [OrderRequest(items=[OrderItemRequest(productId=24, quantity=1)], shippingAddress=ádvb, ădawe, 12323, paymentMethod=cod, phoneNumber=3123123123, recipientName=sYn good72, couponCode=a, total=2.55112E7)]
2025-04-19 04:15:35,118 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:35,118 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:35,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:35,120 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,132 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:35,133 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:35,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    where
        product0_.id=? for update
            
2025-04-19 04:15:35,139 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:35,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-19 04:15:35,170 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a]
2025-04-19 04:15:35,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    insert 
    into
        orders
        (actual_delivery_date, billing_address, coupon_id, created_at, discount_amount, estimated_delivery_date, notes, payment_method, payment_status, phone_number, recipient_name, shipper_id, shipping_address, shipping_fee, status, total_amount, tracking_number, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-19 04:15:35,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [TIMESTAMP] - [null]
2025-04-19 04:15:35,199 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [VARCHAR] - [null]
2025-04-19 04:15:35,200 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [3] as [BIGINT] - [1]
2025-04-19 04:15:35,200 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [4] as [TIMESTAMP] - [2025-04-19T04:15:35.178344100]
2025-04-19 04:15:35,200 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [5] as [NUMERIC] - [12.00]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [6] as [TIMESTAMP] - [null]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [7] as [VARCHAR] - [null]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [8] as [VARCHAR] - [cod]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [9] as [VARCHAR] - [PROCESSING]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [10] as [VARCHAR] - [3123123123]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [11] as [VARCHAR] - [sYn good72]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [12] as [BIGINT] - [null]
2025-04-19 04:15:35,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [13] as [VARCHAR] - [ádvb, ădawe, 12323]
2025-04-19 04:15:35,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [14] as [NUMERIC] - [null]
2025-04-19 04:15:35,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [15] as [VARCHAR] - [PENDING]
2025-04-19 04:15:35,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [16] as [NUMERIC] - [25511000]
2025-04-19 04:15:35,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [17] as [VARCHAR] - [null]
2025-04-19 04:15:35,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [18] as [TIMESTAMP] - [2025-04-19T04:15:35.178344100]
2025-04-19 04:15:35,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [19] as [BIGINT] - [3]
2025-04-19 04:15:35,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    insert 
    into
        order_items
        (order_id, price, product_id, product_image_url, product_name, quantity) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-19 04:15:35,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:15:35,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [NUMERIC] - [2.899E+7]
2025-04-19 04:15:35,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [3] as [BIGINT] - [24]
2025-04-19 04:15:35,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [4] as [VARCHAR] - [https://example.com/images/products/iphone14promax.jpg]
2025-04-19 04:15:35,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [5] as [VARCHAR] - [iPhone 14 Pro Max]
2025-04-19 04:15:35,248 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [6] as [INTEGER] - [1]
2025-04-19 04:15:35,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    insert 
    into
        notifications
        (created_at, is_read, message, reference_id, title, type, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-04-19 04:15:35,262 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [TIMESTAMP] - [2025-04-19T04:15:35.261256300]
2025-04-19 04:15:35,262 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [BOOLEAN] - [false]
2025-04-19 04:15:35,262 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [3] as [VARCHAR] - [Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!]
2025-04-19 04:15:35,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [4] as [BIGINT] - [100]
2025-04-19 04:15:35,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [5] as [VARCHAR] - [Đặt hàng thành công]
2025-04-19 04:15:35,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [6] as [VARCHAR] - [ORDER_STATUS_CHANGE]
2025-04-19 04:15:35,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [7] as [BIGINT] - [3]
2025-04-19 04:15:35,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    update
        products 
    set
        average_rating=?,
        category_id=?,
        created_at=?,
        description=?,
        discount_percentage=?,
        image_url=?,
        is_featured=?,
        name=?,
        price=?,
        review_count=?,
        sold_count=?,
        stock=?,
        updated_at=? 
    where
        id=?
2025-04-19 04:15:35,282 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [DOUBLE] - [5.0]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [BIGINT] - [6]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [3] as [TIMESTAMP] - [2025-04-17T02:28:22]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [4] as [VARCHAR] - [iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [5] as [DOUBLE] - [5.0]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [6] as [VARCHAR] - [https://example.com/images/products/iphone14promax.jpg]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [7] as [BOOLEAN] - [true]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [8] as [VARCHAR] - [iPhone 14 Pro Max]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [9] as [DOUBLE] - [2.899E7]
2025-04-19 04:15:35,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [10] as [INTEGER] - [1]
2025-04-19 04:15:35,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [11] as [INTEGER] - [200]
2025-04-19 04:15:35,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [12] as [INTEGER] - [37]
2025-04-19 04:15:35,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [13] as [TIMESTAMP] - [2025-04-19T04:15:35.266502800]
2025-04-19 04:15:35,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [14] as [BIGINT] - [24]
2025-04-19 04:15:35,289 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    update
        orders 
    set
        actual_delivery_date=?,
        billing_address=?,
        coupon_id=?,
        created_at=?,
        discount_amount=?,
        estimated_delivery_date=?,
        notes=?,
        payment_method=?,
        payment_status=?,
        phone_number=?,
        recipient_name=?,
        shipper_id=?,
        shipping_address=?,
        shipping_fee=?,
        status=?,
        total_amount=?,
        tracking_number=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-04-19 04:15:35,289 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [TIMESTAMP] - [null]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [VARCHAR] - [null]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [3] as [BIGINT] - [1]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [4] as [TIMESTAMP] - [2025-04-19T04:15:35.178344100]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [5] as [NUMERIC] - [12.00]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [6] as [TIMESTAMP] - [null]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [7] as [VARCHAR] - [null]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [8] as [VARCHAR] - [cod]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [9] as [VARCHAR] - [PROCESSING]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [10] as [VARCHAR] - [3123123123]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [11] as [VARCHAR] - [sYn good72]
2025-04-19 04:15:35,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [12] as [BIGINT] - [null]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [13] as [VARCHAR] - [ádvb, ădawe, 12323]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [14] as [NUMERIC] - [null]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [15] as [VARCHAR] - [READY_TO_SHIP]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [16] as [NUMERIC] - [25511000]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [17] as [VARCHAR] - [null]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [18] as [TIMESTAMP] - [2025-04-19T04:15:35.266502800]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [19] as [BIGINT] - [3]
2025-04-19 04:15:35,291 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [20] as [BIGINT] - [100]
2025-04-19 04:15:35,326 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING createOrder with result: [<200 OK OK,Order(id=100, userId=3, totalAmount=25511000, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:35.178344100, updatedAt=2025-04-19T04:15:35.266502800, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00),[]>]
2025-04-19 04:15:35,326 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method createOrder executed in 214 ms
2025-04-19 04:15:35,332 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:35,332 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:35,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:35,334 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:35,336 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:35,336 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=239ms
2025-04-19 04:15:35,339 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /notifications
2025-04-19 04:15:35,339 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:35,339 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:35,339 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:35,340 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:35,340 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,340 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:15:35,340 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,341 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:15:35,341 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:15:35,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:15:35,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:35,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:35,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:35,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:15:35,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:35,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1fd78e32, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,346 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:35,346 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:35,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:35,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,349 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:35,350 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:35,350 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:35,350 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:35,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:35,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,352 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35)],[]>]
2025-04-19 04:15:35,353 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getAllNotifications executed in 3 ms
2025-04-19 04:15:35,356 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:35,356 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=17ms
2025-04-19 04:15:35,356 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications
2025-04-19 04:15:35,356 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:35,357 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:35,357 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:35,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:35,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:15:35,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,358 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:15:35,358 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:15:35,358 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:15:35,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:35,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:35,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:35,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,362 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,363 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:15:35,363 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:35,363 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@74f815ad, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,363 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:35,363 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:35,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:35,363 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,366 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:35,366 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:35,366 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:35,366 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:35,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:35,366 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,369 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35)],[]>]
2025-04-19 04:15:35,369 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getAllNotifications executed in 3 ms
2025-04-19 04:15:35,369 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:35,369 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=13ms
2025-04-19 04:15:35,372 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-04-19 04:15:35,372 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:35,372 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:35,372 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:35,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:35,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:15:35,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:35,372 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:15:35,372 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:15:35,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:15:35,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:35,375 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:35,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:35,376 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,377 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,377 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:15:35,378 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:35,378 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@58c8eb17, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:35,378 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:35,378 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:35,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:35,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,380 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:35,381 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:35,381 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:35,381 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:35,381 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:35,382 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:35,383 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35)],[]>]
2025-04-19 04:15:35,384 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getAllNotifications executed in 3 ms
2025-04-19 04:15:35,384 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:35,384 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=12ms
2025-04-19 04:15:36,948 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-04-19 04:15:36,948 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:36,949 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:36,949 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:36,949 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:36,949 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:36,950 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:15:36,950 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:36,950 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:15:36,951 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:15:36,951 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:15:36,953 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:36,953 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:36,954 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:36,954 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:36,957 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:36,957 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:15:36,957 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:36,957 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3b0de1fa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:36,958 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:36,958 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:36,959 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:36,959 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:36,961 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:36,961 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:36,962 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:36,962 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:36,962 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:36,962 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:36,964 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35)],[]>]
2025-04-19 04:15:36,964 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getAllNotifications executed in 2 ms
2025-04-19 04:15:36,971 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:36,971 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=23ms
2025-04-19 04:15:40,220 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products
2025-04-19 04:15:40,220 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /wishlist
2025-04-19 04:15:40,220 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /products/top
2025-04-19 04:15:40,220 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,220 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,220 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,221 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /wishlist?currentUserId=3
2025-04-19 04:15:40,221 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:15:40,221 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,222 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,222 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,222 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /wishlist, Method: GET
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products, Method: GET
2025-04-19 04:15:40,222 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /categories
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,222 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,222 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,223 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /categories?currentUserId=3
2025-04-19 04:15:40,223 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /categories, Method: GET
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:15:40,223 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:15:40,224 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:15:40,224 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:15:40,224 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:15:40,224 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:15:40,224 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:15:40,224 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/recommended
2025-04-19 04:15:40,224 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/max-price
2025-04-19 04:15:40,224 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:15:40,224 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,224 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:15:40,224 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,225 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/max-price?currentUserId=3
2025-04-19 04:15:40,225 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/recommended?currentUserId=3
2025-04-19 04:15:40,225 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,225 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products/max-price, Method: GET
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/recommended, Method: GET
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:15:40,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,225 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,226 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:15:40,226 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:15:40,226 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:15:40,226 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:15:40,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,227 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:15:40,227 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:15:40,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2e221b90, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2bbb884a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7ba4fd63, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@382e18c6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,230 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /categories?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,230 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,230 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /wishlist?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,230 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,230 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /categories?currentUserId=3
2025-04-19 04:15:40,230 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:15:40,230 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /wishlist?currentUserId=3
2025-04-19 04:15:40,230 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,230 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,230 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,231 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getAllProducts
2025-04-19 04:15:40,231 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,231 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,231 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getAllCategories
2025-04-19 04:15:40,231 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,231 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,231 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,232 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,232 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,232 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,232 DEBUG com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator [HikariPool-1 connection adder] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cc191e4
2025-04-19 04:15:40,233 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,233 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,233 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:40,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:15:40,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:15:40,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2f4b6305, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@54567ee5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,234 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:40,234 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,234 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [GET /products/max-price?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,234 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /products/recommended?currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,234 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/max-price?currentUserId=3
2025-04-19 04:15:40,234 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/recommended?currentUserId=3
2025-04-19 04:15:40,234 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:40,235 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:40,235 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-5] Get wishlist request for user: 3
2025-04-19 04:15:40,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_
2025-04-19 04:15:40,236 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getRecommendedProducts with args: [10]
2025-04-19 04:15:40,236 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,236 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,236 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,237 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,237 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        wishlist0_.id as id1_22_,
        wishlist0_.created_at as created_2_22_,
        wishlist0_.product_id as product_3_22_,
        wishlist0_.user_id as user_id4_22_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-19 04:15:40,237 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,237 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,237 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,238 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,238 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,238 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,240 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,240 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,240 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,240 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,242 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,242 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,242 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,243 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:15:40,244 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,244 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,244 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,244 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,244 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,244 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:40,247 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,247 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getTopProducts executed in 16 ms
2025-04-19 04:15:40,247 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_,
        category0_.created_at as created_2_1_,
        category0_.description as descript3_1_,
        category0_.display_order as display_4_1_,
        category0_.image_url as image_ur5_1_,
        category0_.is_active as is_activ6_1_,
        category0_.name as name7_1_,
        category0_.parent_id as parent_i9_1_,
        category0_.updated_at as updated_8_1_ 
    from
        categories category0_
2025-04-19 04:15:40,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,247 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,248 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,249 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,249 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,249 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,249 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,250 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,250 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:40,250 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,250 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Điện thoại, description=Các loại điện thoại di động, imageUrl=https://example.com/images/categories/phone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=2, name=Laptop, description=Máy tính xách tay các loại, imageUrl=https://example.com/images/categories/laptop.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=3, name=Máy tính bảng, description=Các loại máy tính bảng, imageUrl=https://example.com/images/categories/tablet.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=4, name=Phụ kiện, description=Phụ kiện công nghệ, imageUrl=https://example.com/images/categories/accessories.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=5, name=TV & Thiết bị điện tử, description=Tivi và các thiết bị điện tử, imageUrl=https://example.com/images/categories/tv.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=9, name=Điện thoại Oppo, description=Các dòng điện thoại Oppo, imageUrl=https://example.com/images/categories/oppo.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=11, name=Laptop Dell, description=Máy tính xách tay của Dell, imageUrl=https://example.com/images/categories/dell.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=12, name=Laptop HP, description=Máy tính xách tay của HP, imageUrl=https://example.com/images/categories/hp.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=13, name=Laptop Asus, description=Máy tính xách tay của Asus, imageUrl=https://example.com/images/categories/asus.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=15, name=Tai nghe, description=Các loại tai nghe, imageUrl=https://example.com/images/categories/headphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=17, name=Ốp lưng, description=Ốp lưng bảo vệ điện thoại, imageUrl=https://example.com/images/categories/case.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29)],[]>]
2025-04-19 04:15:40,250 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:15:40,251 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,250 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35)],[]>]
2025-04-19 04:15:40,251 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getAllCategories executed in 20 ms
2025-04-19 04:15:40,251 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getRecommendedProducts executed in 15 ms
2025-04-19 04:15:40,251 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,251 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,252 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,252 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,251 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,252 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,252 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,252 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:15:40,252 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,253 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getAllProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=27, name=iPhone 14, description=iPhone 14 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.999E7, stock=33, imageUrl=https://example.com/images/products/iphone14.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=80, soldCount=130, isFeatured=false, discountPercentage=2.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:01:24), Product(id=28, name=iPhone 13, description=iPhone 13 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.799E7, stock=34, imageUrl=https://example.com/images/products/iphone13.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=150, soldCount=300, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T00:37:27), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=31, name=Samsung Galaxy A54, description=Samsung Galaxy A54 128GB, màn hình 6.4 inch Super AMOLED, chip Exynos 1380, price=9990000.0, stock=69, imageUrl=https://example.com/images/products/a54.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=60, soldCount=200, isFeatured=false, discountPercentage=8.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=33, name=Xiaomi 13 Pro, description=Xiaomi 13 Pro 256GB, màn hình 6.73 inch AMOLED, chip Snapdragon 8 Gen 2, price=2.199E7, stock=25, imageUrl=https://example.com/images/products/xiaomi13pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=35, soldCount=60, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=34, name=Xiaomi 13, description=Xiaomi 13 128GB, màn hình 6.36 inch AMOLED, chip Snapdragon 8 Gen 2, price=1.799E7, stock=30, imageUrl=https://example.com/images/products/xiaomi13.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=30, soldCount=50, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=35, name=Xiaomi Redmi Note 12 Pro, description=Xiaomi Redmi Note 12 Pro 128GB, màn hình 6.67 inch AMOLED, chip MediaTek Dimensity 1080, price=7990000.0, stock=77, imageUrl=https://example.com/images/products/redminote12pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=90, soldCount=250, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-18T23:38:02), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=38, name=MacBook Pro 16 M2 Max, description=MacBook Pro 16 inch M2 Max 32GB RAM, 1TB SSD, price=6.999E7, stock=9, imageUrl=https://example.com/images/products/macbookpro16.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=3.5, reviewCount=2, soldCount=20, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T21:53:38), Product(id=39, name=Asus ROG Strix G15, description=Asus ROG Strix G15 AMD Ryzen 7-6800H, 16GB RAM, RTX 3060, 512GB SSD, price=3.299E7, stock=18, imageUrl=https://example.com/images/products/rogg15.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=55, soldCount=90, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=40, name=MSI Stealth 15M, description=MSI Stealth 15M Intel Core i7-11375H, 16GB RAM, RTX 3060, 512GB SSD, price=2.899E7, stock=15, imageUrl=https://example.com/images/products/stealth15m.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=45, soldCount=80, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=43, name=Galaxy Buds 2 Pro, description=Tai nghe không dây Samsung Galaxy Buds 2 Pro với công nghệ Hi-Fi 24bit, price=3990000.0, stock=45, imageUrl=https://example.com/images/products/buds2pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=150, soldCount=280, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=44, name=Xiaomi Redmi Buds 4 Pro, description=Tai nghe không dây Xiaomi Redmi Buds 4 Pro với tính năng chống ồn, price=1690000.0, stock=80, imageUrl=https://example.com/images/products/redmibuds4pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=100, soldCount=200, isFeatured=false, discountPercentage=15.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=45, name=Anker PowerCore Slim 10000, description=Pin dự phòng Anker PowerCore Slim 10000mAh với công nghệ PowerIQ, price=790000.0, stock=99, imageUrl=https://example.com/images/products/ankerpowercore.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=300, soldCount=500, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:08:27), Product(id=46, name=Mi Power Bank 3 20000, description=Pin dự phòng Xiaomi Mi Power Bank 3 20000mAh với 2 cổng USB-A và 1 cổng USB-C, price=890000.0, stock=90, imageUrl=https://example.com/images/products/mipowerbank3.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=250, soldCount=450, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=47, name=Samsung Wireless Powerbank, description=Pin dự phòng Samsung Wireless 10000mAh với khả năng sạc không dây, price=1290000.0, stock=70, imageUrl=https://example.com/images/products/samsungpowerbank.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.4, reviewCount=180, soldCount=320, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26)],[]>]
2025-04-19 04:15:40,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,253 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@60030213, com.example.tmdt.payload.response.ProductResponse@2b7bcb78],[]>]
2025-04-19 04:15:40,253 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getAllProducts executed in 22 ms
2025-04-19 04:15:40,253 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getWishlist executed in 18 ms
2025-04-19 04:15:40,253 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,253 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,254 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,254 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,255 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,255 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,255 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,255 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,255 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,255 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,256 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=35ms
2025-04-19 04:15:40,256 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,256 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,257 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,257 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,257 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,257 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /wishlist
2025-04-19 04:15:40,255 ERROR com.example.tmdt.exception.GlobalExceptionHandler [http-nio-8080-exec-6] Unhandled exception occurred
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "max-price"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.tmdt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.example.tmdt.filter.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.lang.NumberFormatException: For input string: "max-price"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:711)
	at java.base/java.lang.Long.valueOf(Long.java:1163)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:729)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 102 common frames omitted
2025-04-19 04:15:40,257 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:15:40,257 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,257 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,257 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,257 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,258 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /wishlist?currentUserId=3
2025-04-19 04:15:40,258 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,258 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /wishlist, Method: GET
2025-04-19 04:15:40,258 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,258 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,258 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,258 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,258 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,259 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,259 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [9]
2025-04-19 04:15:40,259 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:15:40,259 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,259 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,259 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,260 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:15:40,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:15:40,260 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,260 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:15:40,261 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:15:40,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,261 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,261 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,261 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,262 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,262 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=41ms
2025-04-19 04:15:40,262 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [11]
2025-04-19 04:15:40,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,263 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products/top
2025-04-19 04:15:40,263 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,263 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,263 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,265 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [12]
2025-04-19 04:15:40,265 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,265 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,265 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:15:40,265 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=500, Time=41ms
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,265 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,265 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5f830a1c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,265 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,265 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:15:40,265 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,265 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /wishlist?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,265 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [13]
2025-04-19 04:15:40,265 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:15:40,266 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /wishlist?currentUserId=3
2025-04-19 04:15:40,266 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:15:40,266 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:15:40,266 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/max-price
2025-04-19 04:15:40,266 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,266 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,266 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,266 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,266 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,267 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/max-price?currentUserId=3
2025-04-19 04:15:40,267 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,267 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,267 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,267 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,267 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:15:40,267 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,267 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,268 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/max-price, Method: GET
2025-04-19 04:15:40,268 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,268 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:15:40,268 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,268 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:15:40,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,269 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:40,269 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,269 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,269 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:15:40,269 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:15:40,269 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,269 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:15:40,269 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:15:40,269 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:40,270 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:40,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,270 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-8] Get wishlist request for user: 3
2025-04-19 04:15:40,270 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,270 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        wishlist0_.id as id1_22_,
        wishlist0_.created_at as created_2_22_,
        wishlist0_.product_id as product_3_22_,
        wishlist0_.user_id as user_id4_22_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-19 04:15:40,271 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,270 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-19 04:15:40,271 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:15:40,271 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,271 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,271 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,271 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,271 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@601b085b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,271 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,271 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,271 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,272 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,271 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,272 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:40,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,273 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,273 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,273 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [15]
2025-04-19 04:15:40,273 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,273 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,273 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,274 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,274 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,274 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:15:40,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,274 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,274 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,274 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,274 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:15:40,274 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1d6133e6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,275 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,275 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /products/max-price?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,275 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/max-price?currentUserId=3
2025-04-19 04:15:40,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:40,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,275 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:15:40,275 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [17]
2025-04-19 04:15:40,275 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,275 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:15:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,277 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,277 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,277 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,277 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,277 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [5]
2025-04-19 04:15:40,277 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@6e7fb022, com.example.tmdt.payload.response.ProductResponse@1975e4a8],[]>]
2025-04-19 04:15:40,277 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,277 ERROR com.example.tmdt.exception.GlobalExceptionHandler [http-nio-8080-exec-1] Unhandled exception occurred
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "max-price"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.tmdt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.example.tmdt.filter.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.lang.NumberFormatException: For input string: "max-price"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:711)
	at java.base/java.lang.Long.valueOf(Long.java:1163)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:729)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 102 common frames omitted
2025-04-19 04:15:40,277 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getWishlist executed in 7 ms
2025-04-19 04:15:40,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,278 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,278 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,278 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:15:40,278 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,278 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,278 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,279 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=22ms
2025-04-19 04:15:40,279 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=500, Time=13ms
2025-04-19 04:15:40,279 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=57ms
2025-04-19 04:15:40,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,279 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:15:40,279 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,279 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,280 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:15:40,280 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,281 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=57ms
2025-04-19 04:15:40,280 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,281 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /categories
2025-04-19 04:15:40,281 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,281 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products/recommended
2025-04-19 04:15:40,282 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,282 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /categories?currentUserId=3
2025-04-19 04:15:40,282 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,282 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:15:40,282 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,282 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products/recommended?currentUserId=3
2025-04-19 04:15:40,282 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getTopProducts executed in 9 ms
2025-04-19 04:15:40,282 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,282 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /categories, Method: GET
2025-04-19 04:15:40,282 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products/recommended, Method: GET
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:15:40,283 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,283 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:15:40,283 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:15:40,284 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:15:40,284 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:15:40,284 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:15:40,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,284 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:15:40,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:15:40,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,286 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,286 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,286 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,286 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,286 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,286 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,286 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,287 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,287 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,288 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,288 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,288 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:15:40,288 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:15:40,288 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,289 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,289 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,289 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@72cd4343, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,289 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,289 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6e5be83d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,289 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /categories?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,289 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /products/recommended?currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,289 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /categories?currentUserId=3
2025-04-19 04:15:40,289 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products/recommended?currentUserId=3
2025-04-19 04:15:40,290 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,290 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getAllCategories
2025-04-19 04:15:40,290 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getRecommendedProducts with args: [10]
2025-04-19 04:15:40,290 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,290 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_,
        category0_.created_at as created_2_1_,
        category0_.description as descript3_1_,
        category0_.display_order as display_4_1_,
        category0_.image_url as image_ur5_1_,
        category0_.is_active as is_activ6_1_,
        category0_.name as name7_1_,
        category0_.parent_id as parent_i9_1_,
        category0_.updated_at as updated_8_1_ 
    from
        categories category0_
2025-04-19 04:15:40,290 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,291 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,292 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,292 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,292 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,292 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,292 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,293 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,293 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,293 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,293 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,293 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Điện thoại, description=Các loại điện thoại di động, imageUrl=https://example.com/images/categories/phone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=2, name=Laptop, description=Máy tính xách tay các loại, imageUrl=https://example.com/images/categories/laptop.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=3, name=Máy tính bảng, description=Các loại máy tính bảng, imageUrl=https://example.com/images/categories/tablet.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=4, name=Phụ kiện, description=Phụ kiện công nghệ, imageUrl=https://example.com/images/categories/accessories.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=5, name=TV & Thiết bị điện tử, description=Tivi và các thiết bị điện tử, imageUrl=https://example.com/images/categories/tv.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=9, name=Điện thoại Oppo, description=Các dòng điện thoại Oppo, imageUrl=https://example.com/images/categories/oppo.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=11, name=Laptop Dell, description=Máy tính xách tay của Dell, imageUrl=https://example.com/images/categories/dell.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=12, name=Laptop HP, description=Máy tính xách tay của HP, imageUrl=https://example.com/images/categories/hp.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=13, name=Laptop Asus, description=Máy tính xách tay của Asus, imageUrl=https://example.com/images/categories/asus.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=15, name=Tai nghe, description=Các loại tai nghe, imageUrl=https://example.com/images/categories/headphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=17, name=Ốp lưng, description=Ốp lưng bảo vệ điện thoại, imageUrl=https://example.com/images/categories/case.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29)],[]>]
2025-04-19 04:15:40,293 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getAllCategories executed in 3 ms
2025-04-19 04:15:40,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,294 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,294 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:15:40,295 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,295 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,295 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,296 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,296 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:15:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,296 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,296 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,297 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:15:40,297 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,297 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,298 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:15:40,298 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:15:40,298 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35)],[]>]
2025-04-19 04:15:40,299 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,299 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getRecommendedProducts executed in 9 ms
2025-04-19 04:15:40,299 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,299 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,299 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,300 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,300 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,300 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:15:40,300 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [9]
2025-04-19 04:15:40,300 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,301 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,301 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,301 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,301 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,302 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,302 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,302 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,303 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:15:40,303 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,303 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,303 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,303 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,303 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,303 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,303 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,304 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,306 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,306 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,306 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [11]
2025-04-19 04:15:40,306 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=43ms
2025-04-19 04:15:40,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,306 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /products/top
2025-04-19 04:15:40,307 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,307 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,307 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,307 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,307 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [12]
2025-04-19 04:15:40,307 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,307 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,307 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,307 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,308 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,308 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,308 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [13]
2025-04-19 04:15:40,308 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,308 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:15:40,309 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:15:40,309 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,309 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,309 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,309 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,309 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,309 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,310 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:15:40,310 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:15:40,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,311 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,311 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:15:40,311 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:15:40,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,312 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:15:40,312 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,312 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-19 04:15:40,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,313 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,313 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:15:40,313 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,313 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,313 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,313 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [15]
2025-04-19 04:15:40,313 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,313 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:15:40,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,314 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products
2025-04-19 04:15:40,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,316 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:15:40,316 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,316 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,316 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,316 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:15:40,316 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:15:40,316 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,316 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,316 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@35dcbab6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,317 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:15:40,317 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products, Method: GET
2025-04-19 04:15:40,317 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,317 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,317 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [17]
2025-04-19 04:15:40,317 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,317 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,317 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:15:40,317 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,318 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:15:40,318 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,318 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:15:40,318 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:15:40,318 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,319 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:15:40,319 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:15:40,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,319 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:15:40,319 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,319 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:40,319 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-04-19 04:15:40,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,320 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,320 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,320 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,320 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:40,320 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,321 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,321 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=40ms
2025-04-19 04:15:40,321 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,321 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,322 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,322 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,322 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=101ms
2025-04-19 04:15:40,322 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,322 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,322 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:15:40,322 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,322 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1ac76d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,322 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,323 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,323 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:40,323 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:15:40,322 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,323 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,323 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,323 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getAllProducts
2025-04-19 04:15:40,323 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,324 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,324 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_
2025-04-19 04:15:40,325 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,325 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,325 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,325 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,325 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,325 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,326 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,326 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,326 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getTopProducts executed in 8 ms
2025-04-19 04:15:40,326 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,327 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,327 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,327 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:15:40,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,333 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,333 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,333 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=51ms
2025-04-19 04:15:40,333 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,334 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,334 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,336 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,336 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,336 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,336 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,336 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,336 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:15:40,336 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,338 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,338 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getAllProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=27, name=iPhone 14, description=iPhone 14 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.999E7, stock=33, imageUrl=https://example.com/images/products/iphone14.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=80, soldCount=130, isFeatured=false, discountPercentage=2.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:01:24), Product(id=28, name=iPhone 13, description=iPhone 13 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.799E7, stock=34, imageUrl=https://example.com/images/products/iphone13.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=150, soldCount=300, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T00:37:27), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=31, name=Samsung Galaxy A54, description=Samsung Galaxy A54 128GB, màn hình 6.4 inch Super AMOLED, chip Exynos 1380, price=9990000.0, stock=69, imageUrl=https://example.com/images/products/a54.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=60, soldCount=200, isFeatured=false, discountPercentage=8.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=33, name=Xiaomi 13 Pro, description=Xiaomi 13 Pro 256GB, màn hình 6.73 inch AMOLED, chip Snapdragon 8 Gen 2, price=2.199E7, stock=25, imageUrl=https://example.com/images/products/xiaomi13pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=35, soldCount=60, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=34, name=Xiaomi 13, description=Xiaomi 13 128GB, màn hình 6.36 inch AMOLED, chip Snapdragon 8 Gen 2, price=1.799E7, stock=30, imageUrl=https://example.com/images/products/xiaomi13.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=30, soldCount=50, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=35, name=Xiaomi Redmi Note 12 Pro, description=Xiaomi Redmi Note 12 Pro 128GB, màn hình 6.67 inch AMOLED, chip MediaTek Dimensity 1080, price=7990000.0, stock=77, imageUrl=https://example.com/images/products/redminote12pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=90, soldCount=250, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-18T23:38:02), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=38, name=MacBook Pro 16 M2 Max, description=MacBook Pro 16 inch M2 Max 32GB RAM, 1TB SSD, price=6.999E7, stock=9, imageUrl=https://example.com/images/products/macbookpro16.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=3.5, reviewCount=2, soldCount=20, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T21:53:38), Product(id=39, name=Asus ROG Strix G15, description=Asus ROG Strix G15 AMD Ryzen 7-6800H, 16GB RAM, RTX 3060, 512GB SSD, price=3.299E7, stock=18, imageUrl=https://example.com/images/products/rogg15.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=55, soldCount=90, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=40, name=MSI Stealth 15M, description=MSI Stealth 15M Intel Core i7-11375H, 16GB RAM, RTX 3060, 512GB SSD, price=2.899E7, stock=15, imageUrl=https://example.com/images/products/stealth15m.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=45, soldCount=80, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=43, name=Galaxy Buds 2 Pro, description=Tai nghe không dây Samsung Galaxy Buds 2 Pro với công nghệ Hi-Fi 24bit, price=3990000.0, stock=45, imageUrl=https://example.com/images/products/buds2pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=150, soldCount=280, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=44, name=Xiaomi Redmi Buds 4 Pro, description=Tai nghe không dây Xiaomi Redmi Buds 4 Pro với tính năng chống ồn, price=1690000.0, stock=80, imageUrl=https://example.com/images/products/redmibuds4pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=100, soldCount=200, isFeatured=false, discountPercentage=15.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=45, name=Anker PowerCore Slim 10000, description=Pin dự phòng Anker PowerCore Slim 10000mAh với công nghệ PowerIQ, price=790000.0, stock=99, imageUrl=https://example.com/images/products/ankerpowercore.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=300, soldCount=500, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:08:27), Product(id=46, name=Mi Power Bank 3 20000, description=Pin dự phòng Xiaomi Mi Power Bank 3 20000mAh với 2 cổng USB-A và 1 cổng USB-C, price=890000.0, stock=90, imageUrl=https://example.com/images/products/mipowerbank3.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=250, soldCount=450, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=47, name=Samsung Wireless Powerbank, description=Pin dự phòng Samsung Wireless 10000mAh với khả năng sạc không dây, price=1290000.0, stock=70, imageUrl=https://example.com/images/products/samsungpowerbank.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.4, reviewCount=180, soldCount=320, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26)],[]>]
2025-04-19 04:15:40,338 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getAllProducts executed in 15 ms
2025-04-19 04:15:40,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,338 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,340 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,340 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=33ms
2025-04-19 04:15:40,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,341 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/top
2025-04-19 04:15:40,341 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,341 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,341 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:15:40,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,342 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:15:40,342 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:15:40,342 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:15:40,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:15:40,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:15:40,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:15:40,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,345 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:15:40,345 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:15:40,345 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,345 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2a5582e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,345 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,345 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:15:40,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,346 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,346 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,346 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,347 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:15:40,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:15:40,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,350 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:15:40,350 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,350 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,350 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:15:40,351 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,351 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getTopProducts executed in 5 ms
2025-04-19 04:15:40,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:15:40,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:15:40,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:15:40,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:15:40,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:15:40,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:15:40,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:15:40,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:15:40,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:15:40,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:15:40,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:15:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:15:40,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,361 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,361 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=20ms
2025-04-19 04:15:40,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:15:40,362 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/top
2025-04-19 04:15:40,362 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,362 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,362 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,362 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,362 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,362 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:15:40,363 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,363 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:15:40,363 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:15:40,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,363 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:15:40,363 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:15:40,363 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:15:40,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:15:40,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:15:40,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:15:40,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:15:40,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:15:40,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@75eadfca, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,366 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:15:40,366 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,366 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,367 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,367 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:15:40,367 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,367 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,367 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:15:40,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:40,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,369 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:40,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,369 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,369 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,370 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=54ms
2025-04-19 04:15:40,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,371 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,373 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,374 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getTopProducts executed in 7 ms
2025-04-19 04:15:40,374 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,374 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,375 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,376 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,377 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,381 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,381 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,382 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,383 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,383 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=21ms
2025-04-19 04:15:40,384 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/top
2025-04-19 04:15:40,384 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,384 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,384 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,384 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,384 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,384 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:15:40,384 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,386 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:15:40,387 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:15:40,387 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:15:40,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,388 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,389 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,389 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,390 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,390 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:15:40,390 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,391 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@18c9924d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,391 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,391 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,391 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,392 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,393 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,393 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,395 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,396 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,396 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,397 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,398 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,398 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getTopProducts executed in 7 ms
2025-04-19 04:15:40,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,398 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,399 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,401 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,401 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,403 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,403 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,404 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,404 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,406 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,406 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,406 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,406 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,407 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,407 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,408 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=24ms
2025-04-19 04:15:40,408 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/top
2025-04-19 04:15:40,408 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,409 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,409 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,409 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,409 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,409 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:15:40,409 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,410 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:15:40,410 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:15:40,410 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:15:40,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,411 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,411 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,412 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,413 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:15:40,413 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,413 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3a44f1fe, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,413 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,413 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,413 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,414 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,414 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,416 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,416 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,417 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,417 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,418 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,418 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,418 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,419 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,419 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,420 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,420 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getTopProducts executed in 7 ms
2025-04-19 04:15:40,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,421 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,421 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,421 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,422 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,422 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,423 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,423 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,423 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,423 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,424 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,425 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,425 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,425 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,426 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,426 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,426 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=18ms
2025-04-19 04:15:40,427 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products/top
2025-04-19 04:15:40,427 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:40,427 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,428 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:40,428 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products/top, Method: GET
2025-04-19 04:15:40,428 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,428 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:15:40,428 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:40,428 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:15:40,429 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:15:40,429 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:15:40,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:40,430 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:40,431 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:40,431 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:15:40,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:40,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@53c4c4b9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:40,432 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:15:40,432 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:15:40,433 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getTopProducts with args: [4]
2025-04-19 04:15:40,433 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:15:40,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:15:40,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,436 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:15:40,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:15:40,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:15:40,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:15:40,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:15:40,439 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:15:40,439 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getTopProducts executed in 6 ms
2025-04-19 04:15:40,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:15:40,442 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:40,442 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:40,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:15:40,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:15:40,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:40,451 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,451 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:40,451 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:15:40,452 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:40,452 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=25ms
2025-04-19 04:15:43,818 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:15:43,818 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:15:43,818 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-04-19 04:15:45,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications/unread-count
2025-04-19 04:15:45,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:45,869 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications/unread-count?currentUserId=3
2025-04-19 04:15:45,869 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-19 04:15:45,870 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:15:45,870 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:45,870 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:45,870 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:45,870 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:15:45,871 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:15:45,871 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:15:45,871 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:15:45,871 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:15:45,871 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:15:45,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:45,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:45,873 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:45,873 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:45,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:45,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:45,874 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:45,874 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@15e61f63, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:45,875 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@e06cc8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:45,876 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /notifications/unread-count?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:45,876 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:45,876 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications/unread-count?currentUserId=3
2025-04-19 04:15:45,876 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:45,876 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:45,876 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:45,877 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:45,877 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:45,878 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:45,878 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:45,878 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:45,878 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:45,878 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:45,878 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:45,878 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:45,878 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:45,879 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-19 04:15:45,879 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:45,879 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:45,879 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:45,880 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getUnreadCount with result: [<200 OK OK,1,[]>]
2025-04-19 04:15:45,880 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getUnreadCount executed in 2 ms
2025-04-19 04:15:45,880 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35)],[]>]
2025-04-19 04:15:45,881 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getAllNotifications executed in 3 ms
2025-04-19 04:15:45,881 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:45,882 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=13ms
2025-04-19 04:15:45,882 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:45,882 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=12ms
2025-04-19 04:15:46,303 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /coupons/my-coupons
2025-04-19 04:15:46,304 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:46,304 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:46,304 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:46,304 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-19 04:15:46,305 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:46,305 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:15:46,305 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:46,305 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:15:46,305 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:15:46,305 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:15:46,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:46,307 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:46,307 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:46,308 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:46,309 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:46,309 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:15:46,309 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:46,309 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2cf32fe2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:46,309 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /coupons/my-coupons?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:46,310 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:46,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:46,311 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:46,312 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:46,313 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:46,313 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:46,313 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:46,313 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-5] Getting coupons for user: 3
2025-04-19 04:15:46,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-19 04:15:46,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:46,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [2] as [BOOLEAN] - [true]
2025-04-19 04:15:46,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [3] as [TIMESTAMP] - [2025-04-19T04:15:46.313958900]
2025-04-19 04:15:46,316 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25)],[]>]
2025-04-19 04:15:46,316 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getMyCoupons executed in 3 ms
2025-04-19 04:15:46,317 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:46,317 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=13ms
2025-04-19 04:15:46,318 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons/my-coupons
2025-04-19 04:15:46,319 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:46,319 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:46,319 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:46,319 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-19 04:15:46,319 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:46,320 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:15:46,320 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:46,320 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:15:46,320 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:15:46,320 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:15:46,321 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:46,322 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:46,322 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:46,323 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:46,324 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:46,324 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:15:46,324 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:46,324 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3fc542da, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:46,324 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /coupons/my-coupons?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:46,324 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:15:46,326 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:46,327 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:46,328 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:46,328 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:46,328 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:46,328 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:46,328 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting coupons for user: 3
2025-04-19 04:15:46,329 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-19 04:15:46,329 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:46,329 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [BOOLEAN] - [true]
2025-04-19 04:15:46,329 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [TIMESTAMP] - [2025-04-19T04:15:46.328408300]
2025-04-19 04:15:46,330 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25)],[]>]
2025-04-19 04:15:46,330 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getMyCoupons executed in 2 ms
2025-04-19 04:15:46,331 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:46,331 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=12ms
2025-04-19 04:15:51,515 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: POST /coupons/verify
2025-04-19 04:15:51,516 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, content-length=34, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:51,516 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing POST /coupons/verify?currentUserId=3
2025-04-19 04:15:51,516 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:51,516 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /coupons/verify, Method: POST
2025-04-19 04:15:51,517 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:51,517 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:15:51,517 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:51,517 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:15:51,517 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:15:51,517 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:15:51,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:51,520 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:51,520 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:51,521 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:51,522 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:51,522 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:15:51,522 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:51,522 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7fccf75c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:51,522 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [POST /coupons/verify?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:51,522 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured POST /coupons/verify?currentUserId=3
2025-04-19 04:15:51,523 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:51,523 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:51,525 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:51,525 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:15:51,525 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:51,525 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING verifyCoupon with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), CouponVerifyRequest(code=a, orderAmount=1290000.0)]
2025-04-19 04:15:51,525 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-8] Verifying coupon: a for user: 3
2025-04-19 04:15:51,526 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-19 04:15:51,527 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a]
2025-04-19 04:15:51,530 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING verifyCoupon with result: [<200 OK OK,{valid=true, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), message=Coupon is valid},[]>]
2025-04-19 04:15:51,530 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method verifyCoupon executed in 5 ms
2025-04-19 04:15:51,531 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:51,531 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=15ms
2025-04-19 04:15:53,613 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: POST /orders
2025-04-19 04:15:53,613 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, content-length=205, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:53,613 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing POST /orders?currentUserId=3
2025-04-19 04:15:53,613 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:53,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /orders, Method: POST
2025-04-19 04:15:53,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:15:53,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,614 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:15:53,614 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:15:53,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:15:53,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:53,617 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:53,618 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:53,618 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,619 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,619 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:15:53,619 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:53,619 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6fb776a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,620 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [POST /orders?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:53,620 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured POST /orders?currentUserId=3
2025-04-19 04:15:53,621 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:15:53,621 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:15:53,621 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:53,621 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING createOrder with args: [OrderRequest(items=[OrderItemRequest(productId=47, quantity=1)], shippingAddress=ádvb, ădawe, 12323, paymentMethod=account_balance, phoneNumber=3123123123, recipientName=sYn good72, couponCode=a, total=1135200.0)]
2025-04-19 04:15:53,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:53,622 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:53,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:53,623 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:15:53,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:53,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    where
        product0_.id=? for update
            
2025-04-19 04:15:53,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:53,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-19 04:15:53,628 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a]
2025-04-19 04:15:53,634 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        userbalanc0_.id as id1_16_,
        userbalanc0_.balance as balance2_16_,
        userbalanc0_.created_at as created_3_16_,
        userbalanc0_.last_deposit_date as last_dep4_16_,
        userbalanc0_.last_withdrawal_date as last_wit5_16_,
        userbalanc0_.updated_at as updated_6_16_,
        userbalanc0_.user_id as user_id7_16_ 
    from
        user_balances userbalanc0_ 
    where
        userbalanc0_.user_id=?
2025-04-19 04:15:53,635 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        userbalanc0_.id as id1_16_,
        userbalanc0_.balance as balance2_16_,
        userbalanc0_.created_at as created_3_16_,
        userbalanc0_.last_deposit_date as last_dep4_16_,
        userbalanc0_.last_withdrawal_date as last_wit5_16_,
        userbalanc0_.updated_at as updated_6_16_,
        userbalanc0_.user_id as user_id7_16_ 
    from
        user_balances userbalanc0_ 
    where
        userbalanc0_.user_id=?
2025-04-19 04:15:53,641 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,646 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    insert 
    into
        balance_transactions
        (amount, balance_after, description, reference_id, reference_type, transaction_date, type, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-04-19 04:15:53,647 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [NUMERIC] - [-1135000]
2025-04-19 04:15:53,647 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [NUMERIC] - [999570806000.00]
2025-04-19 04:15:53,647 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [VARCHAR] - [Payment for order ]
2025-04-19 04:15:53,647 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [BIGINT] - [null]
2025-04-19 04:15:53,647 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [VARCHAR] - [ORDER]
2025-04-19 04:15:53,647 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [TIMESTAMP] - [2025-04-19T04:15:53.646610800]
2025-04-19 04:15:53,648 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [VARCHAR] - [ORDER_PAYMENT]
2025-04-19 04:15:53,648 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [8] as [BIGINT] - [3]
2025-04-19 04:15:53,651 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    insert 
    into
        orders
        (actual_delivery_date, billing_address, coupon_id, created_at, discount_amount, estimated_delivery_date, notes, payment_method, payment_status, phone_number, recipient_name, shipper_id, shipping_address, shipping_fee, status, total_amount, tracking_number, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [TIMESTAMP] - [null]
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [VARCHAR] - [null]
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [BIGINT] - [1]
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [TIMESTAMP] - [2025-04-19T04:15:53.651706400]
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [NUMERIC] - [12.00]
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [TIMESTAMP] - [null]
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [VARCHAR] - [null]
2025-04-19 04:15:53,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [8] as [VARCHAR] - [account_balance]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [9] as [VARCHAR] - [PAID]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [10] as [VARCHAR] - [3123123123]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [11] as [VARCHAR] - [sYn good72]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [12] as [BIGINT] - [null]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [13] as [VARCHAR] - [ádvb, ădawe, 12323]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [14] as [NUMERIC] - [null]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [15] as [VARCHAR] - [PENDING]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [16] as [NUMERIC] - [1135000]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [17] as [VARCHAR] - [null]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [18] as [TIMESTAMP] - [2025-04-19T04:15:53.651706400]
2025-04-19 04:15:53,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [19] as [BIGINT] - [3]
2025-04-19 04:15:53,654 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    insert 
    into
        order_items
        (order_id, price, product_id, product_image_url, product_name, quantity) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-19 04:15:53,654 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:15:53,654 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [NUMERIC] - [1290000.0]
2025-04-19 04:15:53,654 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [BIGINT] - [47]
2025-04-19 04:15:53,654 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [VARCHAR] - [https://example.com/images/products/samsungpowerbank.jpg]
2025-04-19 04:15:53,656 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [VARCHAR] - [Samsung Wireless Powerbank]
2025-04-19 04:15:53,656 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [INTEGER] - [1]
2025-04-19 04:15:53,657 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    insert 
    into
        notifications
        (created_at, is_read, message, reference_id, title, type, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-04-19 04:15:53,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [TIMESTAMP] - [2025-04-19T04:15:53.657224]
2025-04-19 04:15:53,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [BOOLEAN] - [false]
2025-04-19 04:15:53,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [VARCHAR] - [Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!]
2025-04-19 04:15:53,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [BIGINT] - [101]
2025-04-19 04:15:53,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [VARCHAR] - [Đặt hàng thành công]
2025-04-19 04:15:53,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [VARCHAR] - [ORDER_STATUS_CHANGE]
2025-04-19 04:15:53,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [BIGINT] - [3]
2025-04-19 04:15:53,660 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    update
        products 
    set
        average_rating=?,
        category_id=?,
        created_at=?,
        description=?,
        discount_percentage=?,
        image_url=?,
        is_featured=?,
        name=?,
        price=?,
        review_count=?,
        sold_count=?,
        stock=?,
        updated_at=? 
    where
        id=?
2025-04-19 04:15:53,660 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [DOUBLE] - [4.4]
2025-04-19 04:15:53,660 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [BIGINT] - [18]
2025-04-19 04:15:53,660 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [TIMESTAMP] - [2025-04-17T02:31:26]
2025-04-19 04:15:53,660 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [VARCHAR] - [Pin dự phòng Samsung Wireless 10000mAh với khả năng sạc không dây]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [DOUBLE] - [0.0]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [VARCHAR] - [https://example.com/images/products/samsungpowerbank.jpg]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [BOOLEAN] - [false]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [8] as [VARCHAR] - [Samsung Wireless Powerbank]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [9] as [DOUBLE] - [1290000.0]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [10] as [INTEGER] - [180]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [11] as [INTEGER] - [320]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [12] as [INTEGER] - [69]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [13] as [TIMESTAMP] - [2025-04-19T04:15:53.659229500]
2025-04-19 04:15:53,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [14] as [BIGINT] - [47]
2025-04-19 04:15:53,662 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    update
        user_balances 
    set
        balance=?,
        created_at=?,
        last_deposit_date=?,
        last_withdrawal_date=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-04-19 04:15:53,662 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [NUMERIC] - [999570806000.00]
2025-04-19 04:15:53,662 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [TIMESTAMP] - [2025-04-15T13:00:01]
2025-04-19 04:15:53,662 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [TIMESTAMP] - [2025-04-19T04:01:03]
2025-04-19 04:15:53,662 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [TIMESTAMP] - [2025-04-19T04:15:53.641612400]
2025-04-19 04:15:53,662 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [TIMESTAMP] - [2025-04-19T04:15:53.659229500]
2025-04-19 04:15:53,662 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [BIGINT] - [3]
2025-04-19 04:15:53,663 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [BIGINT] - [1]
2025-04-19 04:15:53,663 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    update
        orders 
    set
        actual_delivery_date=?,
        billing_address=?,
        coupon_id=?,
        created_at=?,
        discount_amount=?,
        estimated_delivery_date=?,
        notes=?,
        payment_method=?,
        payment_status=?,
        phone_number=?,
        recipient_name=?,
        shipper_id=?,
        shipping_address=?,
        shipping_fee=?,
        status=?,
        total_amount=?,
        tracking_number=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-04-19 04:15:53,663 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [TIMESTAMP] - [null]
2025-04-19 04:15:53,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [2] as [VARCHAR] - [null]
2025-04-19 04:15:53,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [3] as [BIGINT] - [1]
2025-04-19 04:15:53,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [4] as [TIMESTAMP] - [2025-04-19T04:15:53.651706400]
2025-04-19 04:15:53,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [5] as [NUMERIC] - [12.00]
2025-04-19 04:15:53,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [6] as [TIMESTAMP] - [null]
2025-04-19 04:15:53,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [7] as [VARCHAR] - [null]
2025-04-19 04:15:53,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [8] as [VARCHAR] - [account_balance]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [9] as [VARCHAR] - [PAID]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [10] as [VARCHAR] - [3123123123]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [11] as [VARCHAR] - [sYn good72]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [12] as [BIGINT] - [null]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [13] as [VARCHAR] - [ádvb, ădawe, 12323]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [14] as [NUMERIC] - [null]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [15] as [VARCHAR] - [READY_TO_SHIP]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [16] as [NUMERIC] - [1135000]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [17] as [VARCHAR] - [null]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [18] as [TIMESTAMP] - [2025-04-19T04:15:53.660229100]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [19] as [BIGINT] - [3]
2025-04-19 04:15:53,665 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [20] as [BIGINT] - [101]
2025-04-19 04:15:53,668 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING createOrder with result: [<200 OK OK,Order(id=101, userId=3, totalAmount=1135000, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:53.651706400, updatedAt=2025-04-19T04:15:53.660229100, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00),[]>]
2025-04-19 04:15:53,668 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method createOrder executed in 47 ms
2025-04-19 04:15:53,669 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:15:53,669 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:53,669 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:15:53,670 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:15:53,679 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:53,679 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=66ms
2025-04-19 04:15:53,681 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-04-19 04:15:53,681 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:53,681 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:53,681 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:53,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:53,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:15:53,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,682 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:15:53,683 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:15:53,683 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:15:53,684 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:53,684 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:53,684 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:53,685 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:15:53,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:53,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@437c822, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,686 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:53,686 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:53,687 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:53,687 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,688 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:53,688 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:53,688 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:53,688 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:53,689 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:53,689 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,690 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:15:53,690 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getAllNotifications executed in 2 ms
2025-04-19 04:15:53,691 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:53,692 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=11ms
2025-04-19 04:15:53,692 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-04-19 04:15:53,692 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:53,692 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:53,692 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:53,693 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:53,693 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,693 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:15:53,693 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,693 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:15:53,694 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:15:53,694 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:15:53,694 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:53,694 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:53,696 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:53,696 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,697 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,697 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:15:53,698 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:53,698 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@61e569b4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,698 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:53,698 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:53,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:53,699 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,701 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:53,701 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:53,701 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:53,701 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:53,701 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:53,702 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,703 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:15:53,703 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getAllNotifications executed in 2 ms
2025-04-19 04:15:53,705 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:53,705 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=13ms
2025-04-19 04:15:53,706 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications
2025-04-19 04:15:53,706 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:53,706 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications?currentUserId=3
2025-04-19 04:15:53,706 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:53,706 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /notifications, Method: GET
2025-04-19 04:15:53,706 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,706 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:15:53,706 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:53,706 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:15:53,707 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:15:53,707 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:15:53,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:53,708 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:53,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:53,709 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,709 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,710 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:15:53,710 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:53,710 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@18c43af7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:53,710 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:53,710 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications?currentUserId=3
2025-04-19 04:15:53,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:53,712 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,713 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:53,713 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:15:53,714 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:53,714 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:53,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:15:53,714 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:53,716 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:15:53,716 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getAllNotifications executed in 2 ms
2025-04-19 04:15:53,717 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:53,717 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=11ms
2025-04-19 04:15:56,648 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /user-balance
2025-04-19 04:15:56,648 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:56,649 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /user-balance?currentUserId=3
2025-04-19 04:15:56,649 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:56,649 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /user-balance, Method: GET
2025-04-19 04:15:56,649 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:56,649 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:15:56,649 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:56,650 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:15:56,650 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:15:56,650 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:15:56,651 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:56,652 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:56,653 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:56,653 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:56,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:56,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:15:56,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:56,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4bfee9e2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:56,654 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /user-balance?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:56,654 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /user-balance?currentUserId=3
2025-04-19 04:15:56,656 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:56,657 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:56,658 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getUserBalance(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.UserBalanceController]
2025-04-19 04:15:56,658 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getUserBalance(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.UserBalanceController]
2025-04-19 04:15:56,659 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getUserBalance(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.UserBalanceController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:56,659 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getUserBalance with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:56,664 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        userbalanc0_.id as id1_16_,
        userbalanc0_.balance as balance2_16_,
        userbalanc0_.created_at as created_3_16_,
        userbalanc0_.last_deposit_date as last_dep4_16_,
        userbalanc0_.last_withdrawal_date as last_wit5_16_,
        userbalanc0_.updated_at as updated_6_16_,
        userbalanc0_.user_id as user_id7_16_ 
    from
        user_balances userbalanc0_ 
    where
        userbalanc0_.user_id=?
2025-04-19 04:15:56,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:56,665 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getUserBalance with result: [<200 OK OK,{lastWithdrawalDate=2025-04-19T04:15:53, balance=999570806000.00, lastDepositDate=2025-04-19T04:01:03},[]>]
2025-04-19 04:15:56,666 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getUserBalance executed in 7 ms
2025-04-19 04:15:56,667 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:56,669 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=21ms
2025-04-19 04:15:56,669 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /user-balance
2025-04-19 04:15:56,669 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:56,670 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /user-balance?currentUserId=3
2025-04-19 04:15:56,670 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:56,670 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /user-balance, Method: GET
2025-04-19 04:15:56,670 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:56,670 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:15:56,670 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:56,671 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:15:56,671 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:15:56,671 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:15:56,672 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:56,672 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:56,673 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:56,673 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:56,674 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:56,674 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:15:56,674 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:56,674 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3c15fce2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:56,674 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /user-balance?currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:56,674 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /user-balance?currentUserId=3
2025-04-19 04:15:56,675 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:56,675 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:56,676 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getUserBalance(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.UserBalanceController]
2025-04-19 04:15:56,676 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getUserBalance(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.UserBalanceController]
2025-04-19 04:15:56,677 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getUserBalance(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.UserBalanceController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:56,677 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getUserBalance with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:15:56,677 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        userbalanc0_.id as id1_16_,
        userbalanc0_.balance as balance2_16_,
        userbalanc0_.created_at as created_3_16_,
        userbalanc0_.last_deposit_date as last_dep4_16_,
        userbalanc0_.last_withdrawal_date as last_wit5_16_,
        userbalanc0_.updated_at as updated_6_16_,
        userbalanc0_.user_id as user_id7_16_ 
    from
        user_balances userbalanc0_ 
    where
        userbalanc0_.user_id=?
2025-04-19 04:15:56,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:56,679 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getUserBalance with result: [<200 OK OK,{lastWithdrawalDate=2025-04-19T04:15:53, balance=999570806000.00, lastDepositDate=2025-04-19T04:01:03},[]>]
2025-04-19 04:15:56,679 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getUserBalance executed in 2 ms
2025-04-19 04:15:56,680 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:56,680 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=11ms
2025-04-19 04:15:57,806 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /user-balance/transactions
2025-04-19 04:15:57,806 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:15:57,807 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /user-balance/transactions?page=0&size=10&currentUserId=3
2025-04-19 04:15:57,807 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:15:57,807 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /user-balance/transactions, Method: GET
2025-04-19 04:15:57,807 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:57,807 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:15:57,808 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:15:57,808 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:15:57,808 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:15:57,808 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:15:57,813 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:15:57,813 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:15:57,814 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:15:57,815 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:57,816 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:57,816 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:15:57,816 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:15:57,816 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1a2daf92, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:15:57,817 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /user-balance/transactions?page=0&size=10&currentUserId=3] with attributes [authenticated]
2025-04-19 04:15:57,817 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /user-balance/transactions?page=0&size=10&currentUserId=3
2025-04-19 04:15:57,818 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:15:57,819 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:57,821 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getTransactionHistory(com.example.tmdt.model.User,int,int); target is of class [com.example.tmdt.controller.UserBalanceController]
2025-04-19 04:15:57,822 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getTransactionHistory(com.example.tmdt.model.User,int,int); target is of class [com.example.tmdt.controller.UserBalanceController]
2025-04-19 04:15:57,822 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.UserBalanceController.getTransactionHistory(com.example.tmdt.model.User,int,int); target is of class [com.example.tmdt.controller.UserBalanceController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:15:57,822 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getTransactionHistory with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), 0, 10]
2025-04-19 04:15:57,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        balancetra0_.id as id1_0_,
        balancetra0_.amount as amount2_0_,
        balancetra0_.balance_after as balance_3_0_,
        balancetra0_.description as descript4_0_,
        balancetra0_.reference_id as referenc5_0_,
        balancetra0_.reference_type as referenc6_0_,
        balancetra0_.transaction_date as transact7_0_,
        balancetra0_.type as type8_0_,
        balancetra0_.user_id as user_id9_0_ 
    from
        balance_transactions balancetra0_ 
    where
        balancetra0_.user_id=? 
    order by
        balancetra0_.transaction_date desc,
        balancetra0_.transaction_date desc limit ?
2025-04-19 04:15:57,832 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:57,841 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        count(balancetra0_.id) as col_0_0_ 
    from
        balance_transactions balancetra0_ 
    where
        balancetra0_.user_id=?
2025-04-19 04:15:57,841 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:15:57,846 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getTransactionHistory with result: [<200 OK OK,Page 1 of 2 containing com.example.tmdt.model.BalanceTransaction instances,[]>]
2025-04-19 04:15:57,847 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getTransactionHistory executed in 25 ms
2025-04-19 04:15:57,855 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:15:57,855 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=49ms
2025-04-19 04:16:02,097 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products
2025-04-19 04:16:02,097 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /wishlist
2025-04-19 04:16:02,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/top
2025-04-19 04:16:02,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,098 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /wishlist?currentUserId=3
2025-04-19 04:16:02,098 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:16:02,098 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,098 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,098 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,098 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /categories
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products, Method: GET
2025-04-19 04:16:02,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /wishlist, Method: GET
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,098 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /categories?currentUserId=3
2025-04-19 04:16:02,098 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/max-price
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:16:02,098 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,099 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,099 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,099 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/max-price?currentUserId=3
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /categories, Method: GET
2025-04-19 04:16:02,099 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,099 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/recommended
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,099 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:16:02,099 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/max-price, Method: GET
2025-04-19 04:16:02,099 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/recommended?currentUserId=3
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,100 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/recommended, Method: GET
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:16:02,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,101 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:16:02,101 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:16:02,101 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:16:02,101 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,101 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,101 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:16:02,101 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,101 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,101 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:16:02,101 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,101 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,101 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,101 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,102 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,103 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,103 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,103 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,103 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,103 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,104 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,104 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,104 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@b586a14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5f72d4d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,105 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7dde52be, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,105 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [GET /categories?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,105 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /categories?currentUserId=3
2025-04-19 04:16:02,105 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,106 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:16:02,106 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,105 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,107 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,107 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getAllCategories
2025-04-19 04:16:02,107 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,107 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getAllProducts
2025-04-19 04:16:02,107 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,107 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:16:02,107 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,107 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6c7ca7cd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,108 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,108 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /products/max-price?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_
2025-04-19 04:16:02,108 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/max-price?currentUserId=3
2025-04-19 04:16:02,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_,
        category0_.created_at as created_2_1_,
        category0_.description as descript3_1_,
        category0_.display_order as display_4_1_,
        category0_.image_url as image_ur5_1_,
        category0_.is_active as is_activ6_1_,
        category0_.name as name7_1_,
        category0_.parent_id as parent_i9_1_,
        category0_.updated_at as updated_8_1_ 
    from
        categories category0_
2025-04-19 04:16:02,108 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,108 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,109 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,109 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,110 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,110 ERROR com.example.tmdt.exception.GlobalExceptionHandler [http-nio-8080-exec-1] Unhandled exception occurred
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "max-price"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.tmdt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.example.tmdt.filter.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.lang.NumberFormatException: For input string: "max-price"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:711)
	at java.base/java.lang.Long.valueOf(Long.java:1163)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:729)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 102 common frames omitted
2025-04-19 04:16:02,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,111 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,111 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:16:02,111 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,111 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,111 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Điện thoại, description=Các loại điện thoại di động, imageUrl=https://example.com/images/categories/phone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=2, name=Laptop, description=Máy tính xách tay các loại, imageUrl=https://example.com/images/categories/laptop.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=3, name=Máy tính bảng, description=Các loại máy tính bảng, imageUrl=https://example.com/images/categories/tablet.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=4, name=Phụ kiện, description=Phụ kiện công nghệ, imageUrl=https://example.com/images/categories/accessories.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=5, name=TV & Thiết bị điện tử, description=Tivi và các thiết bị điện tử, imageUrl=https://example.com/images/categories/tv.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=9, name=Điện thoại Oppo, description=Các dòng điện thoại Oppo, imageUrl=https://example.com/images/categories/oppo.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=11, name=Laptop Dell, description=Máy tính xách tay của Dell, imageUrl=https://example.com/images/categories/dell.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=12, name=Laptop HP, description=Máy tính xách tay của HP, imageUrl=https://example.com/images/categories/hp.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=13, name=Laptop Asus, description=Máy tính xách tay của Asus, imageUrl=https://example.com/images/categories/asus.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=15, name=Tai nghe, description=Các loại tai nghe, imageUrl=https://example.com/images/categories/headphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=17, name=Ốp lưng, description=Ốp lưng bảo vệ điện thoại, imageUrl=https://example.com/images/categories/case.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29)],[]>]
2025-04-19 04:16:02,112 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@55668b19, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,112 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getAllCategories executed in 5 ms
2025-04-19 04:16:02,112 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,112 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,112 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=500, Time=13ms
2025-04-19 04:16:02,112 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,113 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,113 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:16:02,113 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,113 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,113 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5cbc0888, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,113 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,113 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,114 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /wishlist?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,114 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /wishlist?currentUserId=3
2025-04-19 04:16:02,114 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,114 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:02,114 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /products/recommended?currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,114 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:16:02,114 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/recommended?currentUserId=3
2025-04-19 04:16:02,114 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,115 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/max-price
2025-04-19 04:16:02,115 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,115 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,115 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,115 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,115 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,115 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,115 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getRecommendedProducts with args: [10]
2025-04-19 04:16:02,115 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/max-price?currentUserId=3
2025-04-19 04:16:02,115 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,115 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,116 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,116 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,116 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,116 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/max-price, Method: GET
2025-04-19 04:16:02,116 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,116 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,117 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,118 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:16:02,118 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,118 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,118 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,118 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,118 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:16:02,119 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:16:02,118 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,119 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,119 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:16:02,119 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,119 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:16:02,119 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:02,119 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,119 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,119 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:02,120 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:16:02,120 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-3] Get wishlist request for user: 3
2025-04-19 04:16:02,120 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:16:02,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        wishlist0_.id as id1_22_,
        wishlist0_.created_at as created_2_22_,
        wishlist0_.product_id as product_3_22_,
        wishlist0_.user_id as user_id4_22_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-19 04:16:02,120 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [9]
2025-04-19 04:16:02,120 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,121 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,121 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:16:02,121 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,121 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getTopProducts executed in 13 ms
2025-04-19 04:16:02,121 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,122 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:16:02,121 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,122 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:02,122 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,122 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,122 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,122 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,122 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,122 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,122 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getAllProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=27, name=iPhone 14, description=iPhone 14 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.999E7, stock=33, imageUrl=https://example.com/images/products/iphone14.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=80, soldCount=130, isFeatured=false, discountPercentage=2.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:01:24), Product(id=28, name=iPhone 13, description=iPhone 13 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.799E7, stock=34, imageUrl=https://example.com/images/products/iphone13.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=150, soldCount=300, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T00:37:27), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=31, name=Samsung Galaxy A54, description=Samsung Galaxy A54 128GB, màn hình 6.4 inch Super AMOLED, chip Exynos 1380, price=9990000.0, stock=69, imageUrl=https://example.com/images/products/a54.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=60, soldCount=200, isFeatured=false, discountPercentage=8.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=33, name=Xiaomi 13 Pro, description=Xiaomi 13 Pro 256GB, màn hình 6.73 inch AMOLED, chip Snapdragon 8 Gen 2, price=2.199E7, stock=25, imageUrl=https://example.com/images/products/xiaomi13pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=35, soldCount=60, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=34, name=Xiaomi 13, description=Xiaomi 13 128GB, màn hình 6.36 inch AMOLED, chip Snapdragon 8 Gen 2, price=1.799E7, stock=30, imageUrl=https://example.com/images/products/xiaomi13.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=30, soldCount=50, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=35, name=Xiaomi Redmi Note 12 Pro, description=Xiaomi Redmi Note 12 Pro 128GB, màn hình 6.67 inch AMOLED, chip MediaTek Dimensity 1080, price=7990000.0, stock=77, imageUrl=https://example.com/images/products/redminote12pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=90, soldCount=250, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-18T23:38:02), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=38, name=MacBook Pro 16 M2 Max, description=MacBook Pro 16 inch M2 Max 32GB RAM, 1TB SSD, price=6.999E7, stock=9, imageUrl=https://example.com/images/products/macbookpro16.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=3.5, reviewCount=2, soldCount=20, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T21:53:38), Product(id=39, name=Asus ROG Strix G15, description=Asus ROG Strix G15 AMD Ryzen 7-6800H, 16GB RAM, RTX 3060, 512GB SSD, price=3.299E7, stock=18, imageUrl=https://example.com/images/products/rogg15.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=55, soldCount=90, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=40, name=MSI Stealth 15M, description=MSI Stealth 15M Intel Core i7-11375H, 16GB RAM, RTX 3060, 512GB SSD, price=2.899E7, stock=15, imageUrl=https://example.com/images/products/stealth15m.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=45, soldCount=80, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=43, name=Galaxy Buds 2 Pro, description=Tai nghe không dây Samsung Galaxy Buds 2 Pro với công nghệ Hi-Fi 24bit, price=3990000.0, stock=45, imageUrl=https://example.com/images/products/buds2pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=150, soldCount=280, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=44, name=Xiaomi Redmi Buds 4 Pro, description=Tai nghe không dây Xiaomi Redmi Buds 4 Pro với tính năng chống ồn, price=1690000.0, stock=80, imageUrl=https://example.com/images/products/redmibuds4pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=100, soldCount=200, isFeatured=false, discountPercentage=15.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=45, name=Anker PowerCore Slim 10000, description=Pin dự phòng Anker PowerCore Slim 10000mAh với công nghệ PowerIQ, price=790000.0, stock=99, imageUrl=https://example.com/images/products/ankerpowercore.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=300, soldCount=500, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:08:27), Product(id=46, name=Mi Power Bank 3 20000, description=Pin dự phòng Xiaomi Mi Power Bank 3 20000mAh với 2 cổng USB-A và 1 cổng USB-C, price=890000.0, stock=90, imageUrl=https://example.com/images/products/mipowerbank3.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=250, soldCount=450, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=47, name=Samsung Wireless Powerbank, description=Pin dự phòng Samsung Wireless 10000mAh với khả năng sạc không dây, price=1290000.0, stock=69, imageUrl=https://example.com/images/products/samsungpowerbank.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.4, reviewCount=180, soldCount=320, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:16:02,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,123 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getAllProducts executed in 16 ms
2025-04-19 04:16:02,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,123 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,123 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,123 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,123 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [11]
2025-04-19 04:16:02,123 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,124 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,124 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:02,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,124 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,124 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,124 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [12]
2025-04-19 04:16:02,124 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,124 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,125 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35)],[]>]
2025-04-19 04:16:02,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,125 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,125 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getRecommendedProducts executed in 10 ms
2025-04-19 04:16:02,125 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [13]
2025-04-19 04:16:02,125 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,125 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,126 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,126 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,126 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,126 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,126 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,127 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,127 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,127 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,127 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,127 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@409be196, com.example.tmdt.payload.response.ProductResponse@c50522b],[]>]
2025-04-19 04:16:02,128 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,128 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getWishlist executed in 9 ms
2025-04-19 04:16:02,128 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,128 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,128 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,128 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,128 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-19 04:16:02,128 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,128 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,128 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,129 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,129 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,129 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=31ms
2025-04-19 04:16:02,129 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,129 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [15]
2025-04-19 04:16:02,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,129 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,130 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /wishlist
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,130 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:02,130 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,130 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /wishlist?currentUserId=3
2025-04-19 04:16:02,130 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,131 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,131 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,131 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [17]
2025-04-19 04:16:02,131 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=33ms
2025-04-19 04:16:02,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,131 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /wishlist, Method: GET
2025-04-19 04:16:02,131 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,131 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:16:02,132 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,132 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,132 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:16:02,132 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:16:02,132 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,132 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,132 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products/top
2025-04-19 04:16:02,132 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,132 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,132 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:16:02,132 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,132 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:16:02,132 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,132 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@95da4be, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,133 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [5]
2025-04-19 04:16:02,133 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:16:02,133 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:16:02,133 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:16:02,133 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /products/max-price?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,133 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/max-price?currentUserId=3
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,133 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,133 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:16:02,133 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,133 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,133 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,134 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,134 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=36ms
2025-04-19 04:16:02,134 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,134 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,134 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:16:02,134 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,134 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,134 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,134 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,134 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:16:02,134 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,135 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:16:02,135 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /categories
2025-04-19 04:16:02,135 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,135 ERROR com.example.tmdt.exception.GlobalExceptionHandler [http-nio-8080-exec-7] Unhandled exception occurred
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "max-price"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.example.tmdt.security.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:78)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.example.tmdt.filter.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.lang.NumberFormatException: For input string: "max-price"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:711)
	at java.base/java.lang.Long.valueOf(Long.java:1163)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:729)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 102 common frames omitted
2025-04-19 04:16:02,135 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,135 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /categories?currentUserId=3
2025-04-19 04:16:02,135 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,135 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,135 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,135 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,135 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /categories, Method: GET
2025-04-19 04:16:02,136 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,136 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,136 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,136 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=500, Time=21ms
2025-04-19 04:16:02,136 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:16:02,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,136 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,136 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,136 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:16:02,136 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,137 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@635c14b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,137 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /wishlist?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,137 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:16:02,137 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,137 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,137 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /wishlist?currentUserId=3
2025-04-19 04:16:02,137 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:16:02,137 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,139 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,139 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:16:02,139 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:16:02,139 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,139 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:16:02,139 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@569e4af5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,139 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,139 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,139 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:16:02,139 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,139 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,140 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,140 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,140 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,140 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,140 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,140 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,141 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,141 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:16:02,141 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,141 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,141 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-19 04:16:02,141 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:02,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,141 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,142 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:02,142 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:16:02,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,142 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-10] Get wishlist request for user: 3
2025-04-19 04:16:02,142 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:16:02,142 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,142 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@73ebc447, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,142 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /categories?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,142 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /categories?currentUserId=3
2025-04-19 04:16:02,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        wishlist0_.id as id1_22_,
        wishlist0_.created_at as created_2_22_,
        wishlist0_.product_id as product_3_22_,
        wishlist0_.user_id as user_id4_22_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-19 04:16:02,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:16:02,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,142 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,142 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,143 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getAllCategories
2025-04-19 04:16:02,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,143 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,143 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:16:02,143 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:02,143 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:16:02,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_1_,
        category0_.created_at as created_2_1_,
        category0_.description as descript3_1_,
        category0_.display_order as display_4_1_,
        category0_.image_url as image_ur5_1_,
        category0_.is_active as is_activ6_1_,
        category0_.name as name7_1_,
        category0_.parent_id as parent_i9_1_,
        category0_.updated_at as updated_8_1_ 
    from
        categories category0_
2025-04-19 04:16:02,144 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,144 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:16:02,145 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:02,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,145 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:16:02,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,146 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,146 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Điện thoại, description=Các loại điện thoại di động, imageUrl=https://example.com/images/categories/phone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=2, name=Laptop, description=Máy tính xách tay các loại, imageUrl=https://example.com/images/categories/laptop.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=3, name=Máy tính bảng, description=Các loại máy tính bảng, imageUrl=https://example.com/images/categories/tablet.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=4, name=Phụ kiện, description=Phụ kiện công nghệ, imageUrl=https://example.com/images/categories/accessories.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=5, name=TV & Thiết bị điện tử, description=Tivi và các thiết bị điện tử, imageUrl=https://example.com/images/categories/tv.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=9, name=Điện thoại Oppo, description=Các dòng điện thoại Oppo, imageUrl=https://example.com/images/categories/oppo.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=11, name=Laptop Dell, description=Máy tính xách tay của Dell, imageUrl=https://example.com/images/categories/dell.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=12, name=Laptop HP, description=Máy tính xách tay của HP, imageUrl=https://example.com/images/categories/hp.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=13, name=Laptop Asus, description=Máy tính xách tay của Asus, imageUrl=https://example.com/images/categories/asus.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=15, name=Tai nghe, description=Các loại tai nghe, imageUrl=https://example.com/images/categories/headphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=17, name=Ốp lưng, description=Ốp lưng bảo vệ điện thoại, imageUrl=https://example.com/images/categories/case.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29)],[]>]
2025-04-19 04:16:02,146 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,146 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getAllCategories executed in 3 ms
2025-04-19 04:16:02,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,147 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,147 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getTopProducts executed in 7 ms
2025-04-19 04:16:02,147 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,147 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=48ms
2025-04-19 04:16:02,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:02,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,147 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,147 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,149 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/recommended
2025-04-19 04:16:02,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,149 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@4b2e4354, com.example.tmdt.payload.response.ProductResponse@2837a1b3],[]>]
2025-04-19 04:16:02,149 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,149 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getWishlist executed in 7 ms
2025-04-19 04:16:02,150 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/recommended?currentUserId=3
2025-04-19 04:16:02,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,150 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,150 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/recommended, Method: GET
2025-04-19 04:16:02,150 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,150 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:16:02,150 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,150 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,150 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=20ms
2025-04-19 04:16:02,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:16:02,151 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:16:02,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,151 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:16:02,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,151 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:16:02,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [9]
2025-04-19 04:16:02,151 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,151 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,152 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:16:02,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,152 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,152 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,152 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:16:02,152 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:16:02,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,153 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,154 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:16:02,153 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,154 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [11]
2025-04-19 04:16:02,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,154 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,154 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:16:02,154 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [12]
2025-04-19 04:16:02,155 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,155 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:16:02,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,155 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,155 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@60c6bad9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,155 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,155 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=22ms
2025-04-19 04:16:02,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,155 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /products/recommended?currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [13]
2025-04-19 04:16:02,155 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/recommended?currentUserId=3
2025-04-19 04:16:02,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,156 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /products/top
2025-04-19 04:16:02,156 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,156 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,156 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,156 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getRecommendedProducts with args: [10]
2025-04-19 04:16:02,156 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,156 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,156 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,156 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,156 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,156 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,157 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,157 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:16:02,157 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:16:02,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-19 04:16:02,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,157 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,157 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:16:02,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:16:02,157 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [15]
2025-04-19 04:16:02,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,158 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:16:02,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,158 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:16:02,158 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:16:02,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,158 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,158 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:16:02,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [17]
2025-04-19 04:16:02,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,159 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:16:02,160 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:02,160 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,160 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,160 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        subcategor0_.parent_id as parent_i9_1_0_,
        subcategor0_.id as id1_1_0_,
        subcategor0_.id as id1_1_1_,
        subcategor0_.created_at as created_2_1_1_,
        subcategor0_.description as descript3_1_1_,
        subcategor0_.display_order as display_4_1_1_,
        subcategor0_.image_url as image_ur5_1_1_,
        subcategor0_.is_active as is_activ6_1_1_,
        subcategor0_.name as name7_1_1_,
        subcategor0_.parent_id as parent_i9_1_1_,
        subcategor0_.updated_at as updated_8_1_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-19 04:16:02,160 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,160 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,160 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [5]
2025-04-19 04:16:02,160 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,160 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:02,161 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products
2025-04-19 04:16:02,161 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,161 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:16:02,161 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,161 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,161 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,161 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:16:02,161 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:02,161 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,161 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,161 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products, Method: GET
2025-04-19 04:16:02,161 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=26ms
2025-04-19 04:16:02,161 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,161 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@116eb8e2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,162 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,162 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:16:02,162 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,162 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,162 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,162 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:02,162 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:16:02,162 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35)],[]>]
2025-04-19 04:16:02,163 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,163 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getRecommendedProducts executed in 7 ms
2025-04-19 04:16:02,162 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,163 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:16:02,163 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:16:02,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:02,163 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,163 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,163 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,163 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,163 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:02,164 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,164 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,164 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,164 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,164 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,164 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,164 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,164 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,164 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=66ms
2025-04-19 04:16:02,164 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,165 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,165 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,165 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,165 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:16:02,165 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,165 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,165 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@69354030, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,165 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,166 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:02,166 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products?sort=newest&minPrice=0&maxPrice=10000000&currentUserId=3
2025-04-19 04:16:02,166 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,166 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,166 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,166 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getAllProducts
2025-04-19 04:16:02,166 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,166 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,167 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,167 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,167 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_
2025-04-19 04:16:02,167 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,167 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,167 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,167 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,168 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,168 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,168 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getTopProducts executed in 6 ms
2025-04-19 04:16:02,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,168 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,168 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,168 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,169 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,168 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,169 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,169 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,169 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,169 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [8]
2025-04-19 04:16:02,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,169 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,169 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,169 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,170 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,170 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,170 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,170 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,170 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,170 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,171 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,171 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,171 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,171 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,171 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,171 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,171 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,171 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,171 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,171 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,172 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [18]
2025-04-19 04:16:02,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,172 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,172 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,172 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,172 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,172 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,173 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,173 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,173 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getAllProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=26, name=iPhone 14 Pro, description=iPhone 14 Pro 256GB, màn hình 6.1 inch Super Retina XDR, chip A16 Bionic, price=2.699E7, stock=10, imageUrl=https://example.com/images/products/iphone14pro.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=95, soldCount=150, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:57:07), Product(id=27, name=iPhone 14, description=iPhone 14 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.999E7, stock=33, imageUrl=https://example.com/images/products/iphone14.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=80, soldCount=130, isFeatured=false, discountPercentage=2.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:01:24), Product(id=28, name=iPhone 13, description=iPhone 13 128GB, màn hình 6.1 inch Super Retina XDR, chip A15 Bionic, price=1.799E7, stock=34, imageUrl=https://example.com/images/products/iphone13.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=150, soldCount=300, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T00:37:27), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=30, name=Samsung Galaxy S23, description=Samsung Galaxy S23 128GB, màn hình 6.1 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=1.999E7, stock=34, imageUrl=https://example.com/images/products/s23.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=70, soldCount=100, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=31, name=Samsung Galaxy A54, description=Samsung Galaxy A54 128GB, màn hình 6.4 inch Super AMOLED, chip Exynos 1380, price=9990000.0, stock=69, imageUrl=https://example.com/images/products/a54.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=60, soldCount=200, isFeatured=false, discountPercentage=8.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T22:10:35), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=33, name=Xiaomi 13 Pro, description=Xiaomi 13 Pro 256GB, màn hình 6.73 inch AMOLED, chip Snapdragon 8 Gen 2, price=2.199E7, stock=25, imageUrl=https://example.com/images/products/xiaomi13pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=35, soldCount=60, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=34, name=Xiaomi 13, description=Xiaomi 13 128GB, màn hình 6.36 inch AMOLED, chip Snapdragon 8 Gen 2, price=1.799E7, stock=30, imageUrl=https://example.com/images/products/xiaomi13.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=30, soldCount=50, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=35, name=Xiaomi Redmi Note 12 Pro, description=Xiaomi Redmi Note 12 Pro 128GB, màn hình 6.67 inch AMOLED, chip MediaTek Dimensity 1080, price=7990000.0, stock=77, imageUrl=https://example.com/images/products/redminote12pro.jpg, category=Category(id=8, name=Điện thoại Xiaomi, description=Các dòng điện thoại Xiaomi, imageUrl=https://example.com/images/categories/xiaomi.jpg, isActive=true, displayOrder=3, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=90, soldCount=250, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-18T23:38:02), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=38, name=MacBook Pro 16 M2 Max, description=MacBook Pro 16 inch M2 Max 32GB RAM, 1TB SSD, price=6.999E7, stock=9, imageUrl=https://example.com/images/products/macbookpro16.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=3.5, reviewCount=2, soldCount=20, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-16T21:53:38), Product(id=39, name=Asus ROG Strix G15, description=Asus ROG Strix G15 AMD Ryzen 7-6800H, 16GB RAM, RTX 3060, 512GB SSD, price=3.299E7, stock=18, imageUrl=https://example.com/images/products/rogg15.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=55, soldCount=90, isFeatured=true, discountPercentage=3.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=40, name=MSI Stealth 15M, description=MSI Stealth 15M Intel Core i7-11375H, 16GB RAM, RTX 3060, 512GB SSD, price=2.899E7, stock=15, imageUrl=https://example.com/images/products/stealth15m.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=45, soldCount=80, isFeatured=false, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=41, name=Acer Predator Helios Neo, description=Acer Predator Helios Neo Intel Core i7-12700H, 16GB RAM, RTX 3070Ti, 1TB SSD, price=3.599E7, stock=12, imageUrl=https://example.com/images/products/heliosneo.jpg, category=Category(id=14, name=Laptop Gaming, description=Máy tính xách tay dành cho game thủ, imageUrl=https://example.com/images/categories/gaming.jpg, isActive=true, displayOrder=5, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=30, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=42, name=AirPods Pro 2, description=Tai nghe không dây Apple AirPods Pro 2 với công nghệ chống ồn chủ động, price=5990000.0, stock=50, imageUrl=https://example.com/images/products/airpodspro2.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=200, soldCount=350, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=43, name=Galaxy Buds 2 Pro, description=Tai nghe không dây Samsung Galaxy Buds 2 Pro với công nghệ Hi-Fi 24bit, price=3990000.0, stock=45, imageUrl=https://example.com/images/products/buds2pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.5, reviewCount=150, soldCount=280, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=44, name=Xiaomi Redmi Buds 4 Pro, description=Tai nghe không dây Xiaomi Redmi Buds 4 Pro với tính năng chống ồn, price=1690000.0, stock=80, imageUrl=https://example.com/images/products/redmibuds4pro.jpg, category=Category(id=16, name=Cáp sạc, description=Các loại cáp sạc cho thiết bị, imageUrl=https://example.com/images/categories/cable.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.3, reviewCount=100, soldCount=200, isFeatured=false, discountPercentage=15.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=45, name=Anker PowerCore Slim 10000, description=Pin dự phòng Anker PowerCore Slim 10000mAh với công nghệ PowerIQ, price=790000.0, stock=99, imageUrl=https://example.com/images/products/ankerpowercore.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.7, reviewCount=300, soldCount=500, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:08:27), Product(id=46, name=Mi Power Bank 3 20000, description=Pin dự phòng Xiaomi Mi Power Bank 3 20000mAh với 2 cổng USB-A và 1 cổng USB-C, price=890000.0, stock=90, imageUrl=https://example.com/images/products/mipowerbank3.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.6, reviewCount=250, soldCount=450, isFeatured=false, discountPercentage=10.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26), Product(id=47, name=Samsung Wireless Powerbank, description=Pin dự phòng Samsung Wireless 10000mAh với khả năng sạc không dây, price=1290000.0, stock=69, imageUrl=https://example.com/images/products/samsungpowerbank.jpg, category=Category(id=18, name=Pin dự phòng, description=Pin sạc dự phòng, imageUrl=https://example.com/images/categories/powerbank.jpg, isActive=true, displayOrder=4, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.4, reviewCount=180, soldCount=320, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:16:02,173 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,173 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getAllProducts executed in 7 ms
2025-04-19 04:16:02,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,174 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,174 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,174 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=18ms
2025-04-19 04:16:02,174 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,174 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,174 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,174 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,176 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/top
2025-04-19 04:16:02,176 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,176 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,176 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,176 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,176 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=27ms
2025-04-19 04:16:02,176 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,176 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,177 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,177 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,181 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:16:02,181 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,181 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,181 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:16:02,181 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,182 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:16:02,182 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:16:02,182 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,182 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,182 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,182 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,183 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,183 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,183 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,183 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,183 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,183 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:02,184 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,184 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,184 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:16:02,184 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,184 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:02,184 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6637eaa1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,184 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,184 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,184 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,184 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:02,185 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,185 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:16:02,185 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,185 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [28]
2025-04-19 04:16:02,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,186 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,186 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,186 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,187 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,187 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,187 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,188 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [30]
2025-04-19 04:16:02,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,188 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:16:02,188 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,189 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,189 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [31]
2025-04-19 04:16:02,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,189 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,189 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,189 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,190 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:02,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,190 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,190 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:16:02,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,190 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,190 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,190 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [33]
2025-04-19 04:16:02,191 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,191 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,191 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:16:02,191 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,191 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,191 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [34]
2025-04-19 04:16:02,192 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,192 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getTopProducts executed in 5 ms
2025-04-19 04:16:02,192 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:16:02,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,192 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,192 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,192 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [35]
2025-04-19 04:16:02,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,193 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,193 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,193 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,194 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,194 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,194 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,194 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,194 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,194 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,194 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,194 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,196 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:16:02,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,196 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,196 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,196 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,196 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [38]
2025-04-19 04:16:02,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,197 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,197 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:16:02,198 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,198 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,198 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,198 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [39]
2025-04-19 04:16:02,198 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,198 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:16:02,198 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,198 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=22ms
2025-04-19 04:16:02,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,199 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [40]
2025-04-19 04:16:02,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,199 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,199 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,200 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/top
2025-04-19 04:16:02,200 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,200 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [41]
2025-04-19 04:16:02,200 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,200 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,200 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,200 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,200 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,200 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,200 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:16:02,200 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,200 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [42]
2025-04-19 04:16:02,201 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:16:02,201 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:16:02,201 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:16:02,201 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,201 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:16:02,202 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,202 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [43]
2025-04-19 04:16:02,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,202 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,202 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:16:02,202 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,203 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,203 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,203 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [44]
2025-04-19 04:16:02,203 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,203 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,204 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:02,204 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:16:02,204 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,204 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4a6adabe, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,204 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,204 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,204 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:02,204 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,204 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,205 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:02,205 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,205 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:02,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,205 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,205 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:02,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,206 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:02,206 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,206 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,206 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=45ms
2025-04-19 04:16:02,206 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,206 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,207 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,207 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,208 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,208 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,209 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,209 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,209 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,210 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getTopProducts executed in 5 ms
2025-04-19 04:16:02,210 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,210 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,211 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,211 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,211 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,212 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,212 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,213 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,213 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,213 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,214 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,214 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,214 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,214 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,214 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,214 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,216 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,216 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=16ms
2025-04-19 04:16:02,217 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/top
2025-04-19 04:16:02,217 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,217 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,217 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,217 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,217 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,217 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:16:02,218 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,218 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:16:02,218 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:16:02,218 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:16:02,219 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,219 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,219 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,220 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,220 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,221 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:16:02,221 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,221 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@670ccfef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,221 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,221 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,222 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,222 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,223 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,223 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,224 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,224 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,226 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,226 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,226 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,226 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getTopProducts executed in 4 ms
2025-04-19 04:16:02,227 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,227 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,228 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,228 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,229 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,230 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,230 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,231 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,231 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,231 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,233 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,234 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,234 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,235 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,236 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,236 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,237 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=20ms
2025-04-19 04:16:02,237 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products/top
2025-04-19 04:16:02,237 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,238 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,238 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,238 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,238 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,238 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:16:02,238 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,238 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:16:02,239 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:16:02,239 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:16:02,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,240 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,240 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,240 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,241 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,241 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:16:02,241 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,241 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@455cbdcb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,242 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,242 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,242 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,243 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,244 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,244 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,245 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,245 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,245 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,245 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,246 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,246 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,246 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,248 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,248 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getTopProducts executed in 6 ms
2025-04-19 04:16:02,248 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,248 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,249 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,250 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,250 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,251 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,251 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,251 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,252 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,252 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,252 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,252 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,253 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,253 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,253 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,254 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,254 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=17ms
2025-04-19 04:16:02,255 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products/top
2025-04-19 04:16:02,255 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:02,255 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,255 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:02,255 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products/top, Method: GET
2025-04-19 04:16:02,255 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,255 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:16:02,255 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:02,256 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:16:02,256 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:16:02,256 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:16:02,257 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:02,257 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:02,258 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:02,258 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,259 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,259 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:16:02,259 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:02,259 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1ff48dc3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:02,259 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /products/top?limit=4&currentUserId=3] with attributes [permitAll]
2025-04-19 04:16:02,259 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products/top?limit=4&currentUserId=3
2025-04-19 04:16:02,260 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getTopProducts with args: [4]
2025-04-19 04:16:02,260 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:16:02,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,261 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:16:02,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,262 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:16:02,262 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:16:02,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:16:02,264 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:16:02,264 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:16:02,264 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33)],[]>]
2025-04-19 04:16:02,265 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getTopProducts executed in 5 ms
2025-04-19 04:16:02,265 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,265 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,266 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,266 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:02,266 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:02,266 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:02,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,268 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,268 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,268 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:02,269 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,269 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,269 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,269 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:02,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:02,270 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:02,270 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:02,271 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:02,271 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=16ms
2025-04-19 04:16:08,215 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /coupons/my-coupons
2025-04-19 04:16:08,216 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:08,216 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:16:08,216 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:08,216 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-19 04:16:08,216 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:08,216 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:16:08,216 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:08,217 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:16:08,217 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:16:08,217 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:16:08,218 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:08,218 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:08,219 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:08,219 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:08,221 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:08,221 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:16:08,221 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:08,221 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6648c70a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:08,221 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /coupons/my-coupons?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:08,221 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:16:08,222 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:08,223 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:08,224 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:16:08,224 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:16:08,224 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:08,224 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:08,224 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-2] Getting coupons for user: 3
2025-04-19 04:16:08,225 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-19 04:16:08,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:08,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [2] as [BOOLEAN] - [true]
2025-04-19 04:16:08,225 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [3] as [TIMESTAMP] - [2025-04-19T04:16:08.224521900]
2025-04-19 04:16:08,227 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25)],[]>]
2025-04-19 04:16:08,227 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getMyCoupons executed in 3 ms
2025-04-19 04:16:08,229 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:08,229 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=13ms
2025-04-19 04:16:08,230 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /coupons/my-coupons
2025-04-19 04:16:08,230 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:08,230 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:16:08,230 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:08,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-19 04:16:08,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:08,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:16:08,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:08,231 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:16:08,231 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:16:08,231 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:16:08,232 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:08,233 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:08,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:08,233 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:08,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:08,234 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:16:08,235 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:08,235 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@21d8ed54, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:08,235 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /coupons/my-coupons?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:08,235 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /coupons/my-coupons?currentUserId=3
2025-04-19 04:16:08,235 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:08,236 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:08,237 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:16:08,237 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:16:08,237 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:08,237 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:08,237 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-5] Getting coupons for user: 3
2025-04-19 04:16:08,238 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-19 04:16:08,238 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:08,238 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [2] as [BOOLEAN] - [true]
2025-04-19 04:16:08,238 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [3] as [TIMESTAMP] - [2025-04-19T04:16:08.237559200]
2025-04-19 04:16:08,239 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25)],[]>]
2025-04-19 04:16:08,239 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getMyCoupons executed in 2 ms
2025-04-19 04:16:08,240 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:08,240 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=10ms
2025-04-19 04:16:13,823 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:16:13,823 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:16:13,823 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-04-19 04:16:14,667 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: POST /coupons/verify
2025-04-19 04:16:14,667 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, content-length=33, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:14,667 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing POST /coupons/verify?currentUserId=3
2025-04-19 04:16:14,667 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:14,668 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /coupons/verify, Method: POST
2025-04-19 04:16:14,668 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:14,668 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:16:14,668 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:14,669 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:16:14,669 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:16:14,669 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:16:14,670 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:14,670 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:14,671 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:14,671 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:14,672 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:14,672 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:16:14,672 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:14,672 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6010b21a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:14,673 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [POST /coupons/verify?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:14,673 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured POST /coupons/verify?currentUserId=3
2025-04-19 04:16:14,674 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:14,674 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:14,675 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:16:14,676 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-19 04:16:14,676 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:14,676 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING verifyCoupon with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), CouponVerifyRequest(code=a, orderAmount=890000.0)]
2025-04-19 04:16:14,676 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Verifying coupon: a for user: 3
2025-04-19 04:16:14,676 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-19 04:16:14,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a]
2025-04-19 04:16:14,678 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING verifyCoupon with result: [<200 OK OK,{valid=true, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), message=Coupon is valid},[]>]
2025-04-19 04:16:14,678 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method verifyCoupon executed in 2 ms
2025-04-19 04:16:14,679 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:14,679 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=12ms
2025-04-19 04:16:15,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications
2025-04-19 04:16:15,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications/unread-count
2025-04-19 04:16:15,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:15,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:15,869 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications?currentUserId=3
2025-04-19 04:16:15,869 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications/unread-count?currentUserId=3
2025-04-19 04:16:15,869 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:15,869 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /notifications, Method: GET
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:16:15,870 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:16:15,871 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:16:15,871 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:16:15,871 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:16:15,871 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:16:15,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:15,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:15,872 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:15,872 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:15,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:15,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:15,873 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:15,873 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6ba2d5f4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:15,874 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@418db2ec, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:15,874 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:15,874 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /notifications/unread-count?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:15,874 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications?currentUserId=3
2025-04-19 04:16:15,874 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications/unread-count?currentUserId=3
2025-04-19 04:16:15,876 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:15,876 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:15,876 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:15,876 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:15,877 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:15,877 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:15,877 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:15,877 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:15,878 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:15,878 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:15,878 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:15,878 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:15,878 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:16:15,878 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-19 04:16:15,878 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:15,878 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:15,879 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getUnreadCount with result: [<200 OK OK,2,[]>]
2025-04-19 04:16:15,879 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getUnreadCount executed in 1 ms
2025-04-19 04:16:15,880 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:16:15,880 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:15,881 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=12ms
2025-04-19 04:16:15,880 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getAllNotifications executed in 2 ms
2025-04-19 04:16:15,882 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:15,882 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=13ms
2025-04-19 04:16:16,469 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: POST /orders/pay
2025-04-19 04:16:16,469 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, content-length=195, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:16,469 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing POST /orders/pay?currentUserId=3
2025-04-19 04:16:16,469 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:16,470 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /orders/pay, Method: POST
2025-04-19 04:16:16,470 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:16,470 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:16:16,470 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:16,471 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:16:16,471 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:16:16,471 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:16:16,472 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:16,473 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:16,473 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:16,473 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:16,475 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:16,475 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:16:16,475 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:16,475 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2d6d8b52, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:16,475 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [POST /orders/pay?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:16,475 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured POST /orders/pay?currentUserId=3
2025-04-19 04:16:16,477 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.PaymentController.createPay(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.PaymentController]
2025-04-19 04:16:16,477 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.PaymentController.createPay(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.PaymentController]
2025-04-19 04:16:16,478 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.PaymentController.createPay(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.PaymentController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:16,478 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING createPay with args: [OrderRequest(items=[OrderItemRequest(productId=46, quantity=1)], shippingAddress=ádvb, ădawe, 12323, paymentMethod=credit, phoneNumber=3123123123, recipientName=sYn good72, couponCode=a, total=783200.0)]
2025-04-19 04:16:16,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:16,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:16,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:16,483 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:16,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:16,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:16,486 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-19 04:16:16,486 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a]
2025-04-19 04:16:16,487 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    update
        products 
    set
        average_rating=?,
        category_id=?,
        created_at=?,
        description=?,
        discount_percentage=?,
        image_url=?,
        is_featured=?,
        name=?,
        price=?,
        review_count=?,
        sold_count=?,
        stock=?,
        updated_at=? 
    where
        id=?
2025-04-19 04:16:16,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [DOUBLE] - [4.6]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [BIGINT] - [18]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [3] as [TIMESTAMP] - [2025-04-17T02:31:26]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [4] as [VARCHAR] - [Pin dự phòng Xiaomi Mi Power Bank 3 20000mAh với 2 cổng USB-A và 1 cổng USB-C]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [5] as [DOUBLE] - [10.0]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [6] as [VARCHAR] - [https://example.com/images/products/mipowerbank3.jpg]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [7] as [BOOLEAN] - [false]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [8] as [VARCHAR] - [Mi Power Bank 3 20000]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [9] as [DOUBLE] - [890000.0]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [10] as [INTEGER] - [250]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [11] as [INTEGER] - [450]
2025-04-19 04:16:16,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [12] as [INTEGER] - [89]
2025-04-19 04:16:16,489 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [13] as [TIMESTAMP] - [2025-04-19T04:16:16.487785300]
2025-04-19 04:16:16,489 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [14] as [BIGINT] - [46]
2025-04-19 04:16:16,500 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING createPay with result: [<200 OK OK,https://sandbox.vnpayment.vn/paymentv2/vpcpay.html?vnp_Amount=78300000&vnp_BankCode=NCB&vnp_Command=pay&vnp_CreateDate=20250419041616&vnp_CurrCode=VND&vnp_ExpireDate=20250419043116&vnp_IpAddr=42.118.208.78&vnp_Locale=vn&vnp_OrderInfo=Thanh+toan+don+hang%3A68491638&vnp_OrderType=other&vnp_ReturnUrl=http%3A%2F%2Flocalhost%3A3000%2Fpay-success&vnp_TmnCode=I8QN1DFX&vnp_TxnRef=68491638&vnp_Version=2.1.0&vnp_SecureHash=0a847e7b102469ffe2d26ca82b3714c87b99bda4d31d4dea279a3fe6b2c7110b8eb7614d51d421abd9f5c5e23e802dbe9394e62443812e61ae0d59820e2e9f6f,[]>]
2025-04-19 04:16:16,500 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method createPay executed in 22 ms
2025-04-19 04:16:16,501 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:16,501 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=32ms
2025-04-19 04:16:35,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications
2025-04-19 04:16:35,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: POST /orders
2025-04-19 04:16:35,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:35,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, content-length=195, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:35,793 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications?currentUserId=3
2025-04-19 04:16:35,793 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing POST /orders?currentUserId=3
2025-04-19 04:16:35,794 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:35,794 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /orders, Method: POST
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /notifications, Method: GET
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:16:35,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,795 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:16:35,795 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:16:35,795 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:16:35,795 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:16:35,795 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:16:35,795 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:16:35,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:35,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:35,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:35,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:35,797 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:35,797 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:35,798 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,798 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@656798ba, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,799 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@a827dab, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,799 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [POST /orders?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:35,799 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:35,799 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured POST /orders?currentUserId=3
2025-04-19 04:16:35,799 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications?currentUserId=3
2025-04-19 04:16:35,800 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:35,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:35,800 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:35,800 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,800 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest) throws java.io.UnsupportedEncodingException; target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:35,800 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING createOrder with args: [OrderRequest(items=[OrderItemRequest(productId=46, quantity=1)], shippingAddress=ádvb, ădawe, 12323, paymentMethod=credit, phoneNumber=3123123123, recipientName=sYn good72, couponCode=a, total=783200.0)]
2025-04-19 04:16:35,801 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,801 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:35,801 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,801 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:35,801 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:35,801 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:35,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:16:35,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:35,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,803 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:16:35,803 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:35,803 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getAllNotifications executed in 2 ms
2025-04-19 04:16:35,803 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:35,804 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:35,804 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=11ms
2025-04-19 04:16:35,804 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    where
        product0_.id=? for update
            
2025-04-19 04:16:35,805 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:35,805 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications
2025-04-19 04:16:35,805 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:35,805 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications?currentUserId=3
2025-04-19 04:16:35,805 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:35,805 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /notifications, Method: GET
2025-04-19 04:16:35,805 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,806 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:16:35,806 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,806 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:16:35,806 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_,
        coupon0_.code as code2_4_,
        coupon0_.created_at as created_3_4_,
        coupon0_.description as descript4_4_,
        coupon0_.discount_type as discount5_4_,
        coupon0_.discount_value as discount6_4_,
        coupon0_.end_date as end_date7_4_,
        coupon0_.expiry_date as expiry_d8_4_,
        coupon0_.is_active as is_activ9_4_,
        coupon0_.min_purchase_amount as min_pur10_4_,
        coupon0_.start_date as start_d11_4_,
        coupon0_.type as type12_4_,
        coupon0_.updated_at as updated13_4_,
        coupon0_.used_count as used_co14_4_,
        coupon0_.user_id as user_id15_4_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-19 04:16:35,807 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:16:35,807 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:16:35,807 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a]
2025-04-19 04:16:35,807 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:35,808 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:35,808 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:35,808 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    insert 
    into
        orders
        (actual_delivery_date, billing_address, coupon_id, created_at, discount_amount, estimated_delivery_date, notes, payment_method, payment_status, phone_number, recipient_name, shipper_id, shipping_address, shipping_fee, status, total_amount, tracking_number, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-19 04:16:35,808 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,808 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [TIMESTAMP] - [null]
2025-04-19 04:16:35,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [VARCHAR] - [null]
2025-04-19 04:16:35,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [3] as [BIGINT] - [1]
2025-04-19 04:16:35,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [4] as [TIMESTAMP] - [2025-04-19T04:16:35.808136600]
2025-04-19 04:16:35,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [5] as [NUMERIC] - [12.00]
2025-04-19 04:16:35,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [6] as [TIMESTAMP] - [null]
2025-04-19 04:16:35,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:16:35,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [7] as [VARCHAR] - [null]
2025-04-19 04:16:35,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [8] as [VARCHAR] - [credit]
2025-04-19 04:16:35,810 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:35,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [9] as [VARCHAR] - [PROCESSING]
2025-04-19 04:16:35,810 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@e65e91, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [10] as [VARCHAR] - [3123123123]
2025-04-19 04:16:35,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [11] as [VARCHAR] - [sYn good72]
2025-04-19 04:16:35,810 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:35,810 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications?currentUserId=3
2025-04-19 04:16:35,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [12] as [BIGINT] - [null]
2025-04-19 04:16:35,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [13] as [VARCHAR] - [ádvb, ădawe, 12323]
2025-04-19 04:16:35,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [14] as [NUMERIC] - [null]
2025-04-19 04:16:35,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [15] as [VARCHAR] - [PENDING]
2025-04-19 04:16:35,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [16] as [NUMERIC] - [783000]
2025-04-19 04:16:35,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [17] as [VARCHAR] - [null]
2025-04-19 04:16:35,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [18] as [TIMESTAMP] - [2025-04-19T04:16:35.808136600]
2025-04-19 04:16:35,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [19] as [BIGINT] - [3]
2025-04-19 04:16:35,811 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:35,812 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,813 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,813 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    insert 
    into
        order_items
        (order_id, price, product_id, product_image_url, product_name, quantity) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-19 04:16:35,813 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,813 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [102]
2025-04-19 04:16:35,814 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:35,814 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [NUMERIC] - [890000.0]
2025-04-19 04:16:35,814 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:35,814 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [3] as [BIGINT] - [46]
2025-04-19 04:16:35,814 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [4] as [VARCHAR] - [https://example.com/images/products/mipowerbank3.jpg]
2025-04-19 04:16:35,814 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [5] as [VARCHAR] - [Mi Power Bank 3 20000]
2025-04-19 04:16:35,814 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:16:35,814 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [6] as [INTEGER] - [1]
2025-04-19 04:16:35,814 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,816 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53)],[]>]
2025-04-19 04:16:35,816 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getAllNotifications executed in 2 ms
2025-04-19 04:16:35,817 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:35,817 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=12ms
2025-04-19 04:16:35,817 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    insert 
    into
        notifications
        (created_at, is_read, message, reference_id, title, type, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-04-19 04:16:35,817 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [TIMESTAMP] - [2025-04-19T04:16:35.817997300]
2025-04-19 04:16:35,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [BOOLEAN] - [false]
2025-04-19 04:16:35,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [3] as [VARCHAR] - [Đơn hàng #102 của bạn đã được xác nhận. Tổng tiền: 783000.00 VND. Cảm ơn bạn đã mua sắm!]
2025-04-19 04:16:35,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [4] as [BIGINT] - [102]
2025-04-19 04:16:35,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [5] as [VARCHAR] - [Đặt hàng thành công]
2025-04-19 04:16:35,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [6] as [VARCHAR] - [ORDER_STATUS_CHANGE]
2025-04-19 04:16:35,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [7] as [BIGINT] - [3]
2025-04-19 04:16:35,819 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    update
        products 
    set
        average_rating=?,
        category_id=?,
        created_at=?,
        description=?,
        discount_percentage=?,
        image_url=?,
        is_featured=?,
        name=?,
        price=?,
        review_count=?,
        sold_count=?,
        stock=?,
        updated_at=? 
    where
        id=?
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [DOUBLE] - [4.6]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [BIGINT] - [18]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [3] as [TIMESTAMP] - [2025-04-17T02:31:26]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [4] as [VARCHAR] - [Pin dự phòng Xiaomi Mi Power Bank 3 20000mAh với 2 cổng USB-A và 1 cổng USB-C]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [5] as [DOUBLE] - [10.0]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [6] as [VARCHAR] - [https://example.com/images/products/mipowerbank3.jpg]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [7] as [BOOLEAN] - [false]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [8] as [VARCHAR] - [Mi Power Bank 3 20000]
2025-04-19 04:16:35,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [9] as [DOUBLE] - [890000.0]
2025-04-19 04:16:35,821 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [10] as [INTEGER] - [250]
2025-04-19 04:16:35,821 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [11] as [INTEGER] - [450]
2025-04-19 04:16:35,821 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [12] as [INTEGER] - [88]
2025-04-19 04:16:35,821 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [13] as [TIMESTAMP] - [2025-04-19T04:16:35.819995500]
2025-04-19 04:16:35,821 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [14] as [BIGINT] - [46]
2025-04-19 04:16:35,821 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    update
        orders 
    set
        actual_delivery_date=?,
        billing_address=?,
        coupon_id=?,
        created_at=?,
        discount_amount=?,
        estimated_delivery_date=?,
        notes=?,
        payment_method=?,
        payment_status=?,
        phone_number=?,
        recipient_name=?,
        shipper_id=?,
        shipping_address=?,
        shipping_fee=?,
        status=?,
        total_amount=?,
        tracking_number=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [TIMESTAMP] - [null]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [VARCHAR] - [null]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [3] as [BIGINT] - [1]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [4] as [TIMESTAMP] - [2025-04-19T04:16:35.808136600]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [5] as [NUMERIC] - [12.00]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [6] as [TIMESTAMP] - [null]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [7] as [VARCHAR] - [null]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [8] as [VARCHAR] - [credit]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [9] as [VARCHAR] - [PROCESSING]
2025-04-19 04:16:35,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [10] as [VARCHAR] - [3123123123]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [11] as [VARCHAR] - [sYn good72]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [12] as [BIGINT] - [null]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [13] as [VARCHAR] - [ádvb, ădawe, 12323]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [14] as [NUMERIC] - [null]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [15] as [VARCHAR] - [READY_TO_SHIP]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [16] as [NUMERIC] - [783000]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [17] as [VARCHAR] - [null]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [18] as [TIMESTAMP] - [2025-04-19T04:16:35.819995500]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [19] as [BIGINT] - [3]
2025-04-19 04:16:35,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [20] as [BIGINT] - [102]
2025-04-19 04:16:35,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications/unread-count
2025-04-19 04:16:35,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications
2025-04-19 04:16:35,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:35,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:35,826 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications/unread-count?currentUserId=3
2025-04-19 04:16:35,826 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications?currentUserId=3
2025-04-19 04:16:35,826 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:35,826 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /notifications, Method: GET
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING createOrder with result: [<200 OK OK,Order(id=102, userId=3, totalAmount=783000, status=READY_TO_SHIP, createdAt=2025-04-19T04:16:35.808136600, updatedAt=2025-04-19T04:16:35.819995500, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00),[]>]
2025-04-19 04:16:35,827 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method createOrder executed in 27 ms
2025-04-19 04:16:35,828 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:16:35,828 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:16:35,828 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:16:35,828 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:16:35,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:35,828 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:35,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:35,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:35,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:35,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:35,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:35,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:35,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:35,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:35,830 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,830 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,830 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:35,830 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=37ms
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6a45a250, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@66968c51, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:35,831 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /notifications/unread-count?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:35,831 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:35,831 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications/unread-count?currentUserId=3
2025-04-19 04:16:35,831 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications?currentUserId=3
2025-04-19 04:16:35,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:35,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:35,833 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,833 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,834 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,834 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,834 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,834 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:16:35,834 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:35,834 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:35,834 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:35,834 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:16:35,835 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-19 04:16:35,835 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:16:35,835 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,835 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:35,836 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getUnreadCount with result: [<200 OK OK,3,[]>]
2025-04-19 04:16:35,836 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getUnreadCount executed in 2 ms
2025-04-19 04:16:35,836 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53), Notification(id=135, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #102 của bạn đã được xác nhận. Tổng tiền: 783000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=102, isRead=false, createdAt=2025-04-19T04:16:35)],[]>]
2025-04-19 04:16:35,837 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:35,837 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getAllNotifications executed in 3 ms
2025-04-19 04:16:35,837 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=11ms
2025-04-19 04:16:35,838 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:35,838 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=12ms
2025-04-19 04:16:40,228 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /orders/my-orders
2025-04-19 04:16:40,228 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:40,229 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:40,229 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /orders/my-orders, Method: GET
2025-04-19 04:16:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:40,229 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:16:40,230 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:40,230 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:16:40,230 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:16:40,231 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:16:40,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:40,233 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:40,233 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:40,233 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,233 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:40,233 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:16:40,233 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:40,233 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@44fc2028, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:40,236 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /orders/my-orders?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:40,236 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:40,237 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:40,237 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:40,237 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:40,237 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getCurrentUserOrders
2025-04-19 04:16:40,239 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:40,240 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:40,240 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:40,240 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,244 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        order0_.id as id1_8_,
        order0_.actual_delivery_date as actual_d2_8_,
        order0_.billing_address as billing_3_8_,
        order0_.coupon_id as coupon_20_8_,
        order0_.created_at as created_4_8_,
        order0_.discount_amount as discount5_8_,
        order0_.estimated_delivery_date as estimate6_8_,
        order0_.notes as notes7_8_,
        order0_.payment_method as payment_8_8_,
        order0_.payment_status as payment_9_8_,
        order0_.phone_number as phone_n10_8_,
        order0_.recipient_name as recipie11_8_,
        order0_.shipper_id as shipper12_8_,
        order0_.shipping_address as shippin13_8_,
        order0_.shipping_fee as shippin14_8_,
        order0_.status as status15_8_,
        order0_.total_amount as total_a16_8_,
        order0_.tracking_number as trackin17_8_,
        order0_.updated_at as updated18_8_,
        order0_.user_id as user_id19_8_ 
    from
        orders order0_ 
    where
        order0_.user_id=? 
    order by
        order0_.created_at desc
2025-04-19 04:16:40,244 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,249 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:40,250 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:40,253 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:40,253 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:16:40,254 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:40,255 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,256 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getCurrentUserOrders with result: [<200 OK OK,[Order(id=102, userId=3, totalAmount=783000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:16:35, updatedAt=2025-04-19T04:16:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=101, userId=3, totalAmount=1135000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:53, updatedAt=2025-04-19T04:15:53, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=100, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:35, updatedAt=2025-04-19T04:15:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=99, userId=3, totalAmount=790000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:08:27, updatedAt=2025-04-19T04:08:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=98, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:03:33, updatedAt=2025-04-19T04:03:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=97, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:01:24, updatedAt=2025-04-19T04:01:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=96, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:57:07, updatedAt=2025-04-19T04:01:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=95, userId=3, totalAmount=17591000.00, status=CANCELLED, createdAt=2025-04-19T03:56:14, updatedAt=2025-04-19T03:56:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=94, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:45:07, updatedAt=2025-04-19T03:45:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=93, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:57:10, updatedAt=2025-04-19T02:57:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=92, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:56, updatedAt=2025-04-19T02:51:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=91, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:55, updatedAt=2025-04-19T02:51:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=90, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:26, updatedAt=2025-04-19T02:48:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=89, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:25, updatedAt=2025-04-19T02:48:26, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=88, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:52, updatedAt=2025-04-19T02:44:52, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=87, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:51, updatedAt=2025-04-19T02:44:51, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=86, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:23, updatedAt=2025-04-19T02:41:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=85, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:14, updatedAt=2025-04-19T02:41:14, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=84, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:38, updatedAt=2025-04-19T02:38:39, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=83, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:10, updatedAt=2025-04-19T02:38:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=82, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:32:28, updatedAt=2025-04-19T02:34:43, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=81, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:31:21, updatedAt=2025-04-19T02:31:36, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=80, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:56, updatedAt=2025-04-19T02:25:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=79, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:37, updatedAt=2025-04-19T02:25:37, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=78, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:28, updatedAt=2025-04-19T02:23:28, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=77, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:22, updatedAt=2025-04-19T02:23:22, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=76, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:32, updatedAt=2025-04-19T02:21:57, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=75, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:08, updatedAt=2025-04-19T02:20:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=74, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:18:29, updatedAt=2025-04-19T02:18:29, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=72, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=73, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=71, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:10:02, updatedAt=2025-04-19T02:10:02, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=69, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:03:16, updatedAt=2025-04-19T02:03:16, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=67, userId=3, totalAmount=29031000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:01:06, updatedAt=2025-04-19T02:01:06, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=65, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:59:13, updatedAt=2025-04-19T01:59:13, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=63, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:57:07, updatedAt=2025-04-19T01:57:31, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=62, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:56:34, updatedAt=2025-04-19T01:56:34, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=61, userId=3, totalAmount=65982000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:55:17, updatedAt=2025-04-19T01:55:17, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=59, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:54:45, updatedAt=2025-04-19T01:54:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=58, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:47, updatedAt=2025-04-19T01:47, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=57, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:46:03, updatedAt=2025-04-19T01:46:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=56, userId=3, totalAmount=54980000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:45:32, updatedAt=2025-04-19T01:45:32, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=55, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:44:55, updatedAt=2025-04-19T01:44:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=54, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:43:33, updatedAt=2025-04-19T01:43:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=53, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:41:30, updatedAt=2025-04-19T01:41:30, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=52, userId=3, totalAmount=22322000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:39:41, updatedAt=2025-04-19T01:39:41, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=51, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:37:25, updatedAt=2025-04-19T01:37:25, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=49, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:42, updatedAt=2025-04-19T01:35:42, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=48, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:07, updatedAt=2025-04-19T01:35:07, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=46, userId=3, totalAmount=51022000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:44, updatedAt=2025-04-19T01:30:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=45, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:08, updatedAt=2025-04-19T01:30:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00)],[]>]
2025-04-19 04:16:40,256 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getCurrentUserOrders executed in 19 ms
2025-04-19 04:16:40,257 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,258 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [102]
2025-04-19 04:16:40,261 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,262 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,263 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,263 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,264 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,264 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,267 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,268 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:40,269 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,269 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:40,269 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,270 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:40,270 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,271 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:40,271 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,271 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:16:40,272 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,272 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:40,273 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,273 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:40,274 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,274 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:40,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,275 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [99]
2025-04-19 04:16:40,275 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,276 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,276 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,278 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,278 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [98]
2025-04-19 04:16:40,279 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,279 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:40,280 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,280 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:40,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,281 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:40,281 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,282 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [97]
2025-04-19 04:16:40,282 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,282 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:40,283 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:40,283 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,283 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:40,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [96]
2025-04-19 04:16:40,284 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,284 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:40,286 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,286 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:40,286 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,286 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:40,287 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,287 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [95]
2025-04-19 04:16:40,293 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,293 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [94]
2025-04-19 04:16:40,294 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,295 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [93]
2025-04-19 04:16:40,295 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /orders/my-orders
2025-04-19 04:16:40,295 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:40,296 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:40,296 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,296 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [92]
2025-04-19 04:16:40,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /orders/my-orders, Method: GET
2025-04-19 04:16:40,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:40,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:16:40,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:40,296 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:16:40,296 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,296 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [91]
2025-04-19 04:16:40,296 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:16:40,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:16:40,298 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:40,298 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:40,299 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:40,299 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,300 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:40,300 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:16:40,300 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:40,300 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@71967e69, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:40,300 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /orders/my-orders?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:40,300 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:40,301 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:40,301 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:40,301 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:40,301 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getCurrentUserOrders
2025-04-19 04:16:40,302 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:40,302 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:40,303 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:40,303 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,304 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        order0_.id as id1_8_,
        order0_.actual_delivery_date as actual_d2_8_,
        order0_.billing_address as billing_3_8_,
        order0_.coupon_id as coupon_20_8_,
        order0_.created_at as created_4_8_,
        order0_.discount_amount as discount5_8_,
        order0_.estimated_delivery_date as estimate6_8_,
        order0_.notes as notes7_8_,
        order0_.payment_method as payment_8_8_,
        order0_.payment_status as payment_9_8_,
        order0_.phone_number as phone_n10_8_,
        order0_.recipient_name as recipie11_8_,
        order0_.shipper_id as shipper12_8_,
        order0_.shipping_address as shippin13_8_,
        order0_.shipping_fee as shippin14_8_,
        order0_.status as status15_8_,
        order0_.total_amount as total_a16_8_,
        order0_.tracking_number as trackin17_8_,
        order0_.updated_at as updated18_8_,
        order0_.user_id as user_id19_8_ 
    from
        orders order0_ 
    where
        order0_.user_id=? 
    order by
        order0_.created_at desc
2025-04-19 04:16:40,305 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,306 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,307 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [90]
2025-04-19 04:16:40,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:40,308 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:40,309 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:40,310 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:16:40,310 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:40,311 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:40,312 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getCurrentUserOrders with result: [<200 OK OK,[Order(id=102, userId=3, totalAmount=783000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:16:35, updatedAt=2025-04-19T04:16:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=101, userId=3, totalAmount=1135000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:53, updatedAt=2025-04-19T04:15:53, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=100, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:35, updatedAt=2025-04-19T04:15:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=99, userId=3, totalAmount=790000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:08:27, updatedAt=2025-04-19T04:08:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=98, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:03:33, updatedAt=2025-04-19T04:03:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=97, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:01:24, updatedAt=2025-04-19T04:01:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=96, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:57:07, updatedAt=2025-04-19T04:01:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=95, userId=3, totalAmount=17591000.00, status=CANCELLED, createdAt=2025-04-19T03:56:14, updatedAt=2025-04-19T03:56:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=94, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:45:07, updatedAt=2025-04-19T03:45:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=93, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:57:10, updatedAt=2025-04-19T02:57:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=92, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:56, updatedAt=2025-04-19T02:51:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=91, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:55, updatedAt=2025-04-19T02:51:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=90, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:26, updatedAt=2025-04-19T02:48:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=89, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:25, updatedAt=2025-04-19T02:48:26, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=88, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:52, updatedAt=2025-04-19T02:44:52, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=87, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:51, updatedAt=2025-04-19T02:44:51, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=86, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:23, updatedAt=2025-04-19T02:41:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=85, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:14, updatedAt=2025-04-19T02:41:14, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=84, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:38, updatedAt=2025-04-19T02:38:39, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=83, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:10, updatedAt=2025-04-19T02:38:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=82, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:32:28, updatedAt=2025-04-19T02:34:43, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=81, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:31:21, updatedAt=2025-04-19T02:31:36, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=80, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:56, updatedAt=2025-04-19T02:25:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=79, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:37, updatedAt=2025-04-19T02:25:37, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=78, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:28, updatedAt=2025-04-19T02:23:28, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=77, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:22, updatedAt=2025-04-19T02:23:22, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=76, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:32, updatedAt=2025-04-19T02:21:57, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=75, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:08, updatedAt=2025-04-19T02:20:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=74, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:18:29, updatedAt=2025-04-19T02:18:29, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=72, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=73, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=71, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:10:02, updatedAt=2025-04-19T02:10:02, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=69, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:03:16, updatedAt=2025-04-19T02:03:16, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=67, userId=3, totalAmount=29031000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:01:06, updatedAt=2025-04-19T02:01:06, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=65, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:59:13, updatedAt=2025-04-19T01:59:13, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=63, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:57:07, updatedAt=2025-04-19T01:57:31, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=62, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:56:34, updatedAt=2025-04-19T01:56:34, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=61, userId=3, totalAmount=65982000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:55:17, updatedAt=2025-04-19T01:55:17, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=59, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:54:45, updatedAt=2025-04-19T01:54:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=58, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:47, updatedAt=2025-04-19T01:47, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=57, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:46:03, updatedAt=2025-04-19T01:46:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=56, userId=3, totalAmount=54980000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:45:32, updatedAt=2025-04-19T01:45:32, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=55, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:44:55, updatedAt=2025-04-19T01:44:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=54, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:43:33, updatedAt=2025-04-19T01:43:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=53, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:41:30, updatedAt=2025-04-19T01:41:30, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=52, userId=3, totalAmount=22322000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:39:41, updatedAt=2025-04-19T01:39:41, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=51, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:37:25, updatedAt=2025-04-19T01:37:25, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=49, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:42, updatedAt=2025-04-19T01:35:42, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=48, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:07, updatedAt=2025-04-19T01:35:07, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=46, userId=3, totalAmount=51022000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:44, updatedAt=2025-04-19T01:30:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=45, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:08, updatedAt=2025-04-19T01:30:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00)],[]>]
2025-04-19 04:16:40,312 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getCurrentUserOrders executed in 11 ms
2025-04-19 04:16:40,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [89]
2025-04-19 04:16:40,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [102]
2025-04-19 04:16:40,315 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,315 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [88]
2025-04-19 04:16:40,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,316 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:40,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,317 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:40,317 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,318 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:40,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,319 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [87]
2025-04-19 04:16:40,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,320 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,323 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,323 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,324 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,324 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [86]
2025-04-19 04:16:40,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,333 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [85]
2025-04-19 04:16:40,333 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:40,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,334 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:40,334 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [84]
2025-04-19 04:16:40,336 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,336 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,336 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:40,336 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [83]
2025-04-19 04:16:40,336 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:40,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:16:40,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [82]
2025-04-19 04:16:40,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:40,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [81]
2025-04-19 04:16:40,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:40,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [80]
2025-04-19 04:16:40,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:40,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:40,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [99]
2025-04-19 04:16:40,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:40,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:40,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [79]
2025-04-19 04:16:40,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [78]
2025-04-19 04:16:40,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [98]
2025-04-19 04:16:40,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:40,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:40,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,344 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:40,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:40,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:40,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:40,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,345 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [77]
2025-04-19 04:16:40,345 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [97]
2025-04-19 04:16:40,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,346 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [76]
2025-04-19 04:16:40,346 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:40,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,347 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:40,347 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [75]
2025-04-19 04:16:40,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,347 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:40,347 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [74]
2025-04-19 04:16:40,347 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [96]
2025-04-19 04:16:40,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [72]
2025-04-19 04:16:40,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,348 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:40,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [73]
2025-04-19 04:16:40,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:40,349 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,350 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [71]
2025-04-19 04:16:40,350 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,350 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:40,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [69]
2025-04-19 04:16:40,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [95]
2025-04-19 04:16:40,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,351 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [67]
2025-04-19 04:16:40,351 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [94]
2025-04-19 04:16:40,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [65]
2025-04-19 04:16:40,352 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,352 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [93]
2025-04-19 04:16:40,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [92]
2025-04-19 04:16:40,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [63]
2025-04-19 04:16:40,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [91]
2025-04-19 04:16:40,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [62]
2025-04-19 04:16:40,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [90]
2025-04-19 04:16:40,354 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [61]
2025-04-19 04:16:40,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,354 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [89]
2025-04-19 04:16:40,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [59]
2025-04-19 04:16:40,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [88]
2025-04-19 04:16:40,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [58]
2025-04-19 04:16:40,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [57]
2025-04-19 04:16:40,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:40,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:40,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [56]
2025-04-19 04:16:40,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:40,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [55]
2025-04-19 04:16:40,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [87]
2025-04-19 04:16:40,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [54]
2025-04-19 04:16:40,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [53]
2025-04-19 04:16:40,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [86]
2025-04-19 04:16:40,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [85]
2025-04-19 04:16:40,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [52]
2025-04-19 04:16:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [84]
2025-04-19 04:16:40,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [51]
2025-04-19 04:16:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [83]
2025-04-19 04:16:40,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [49]
2025-04-19 04:16:40,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [82]
2025-04-19 04:16:40,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [48]
2025-04-19 04:16:40,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [81]
2025-04-19 04:16:40,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [80]
2025-04-19 04:16:40,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:40,364 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:40,364 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=136ms
2025-04-19 04:16:40,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:40,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,366 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:40,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,366 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [79]
2025-04-19 04:16:40,367 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,367 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [78]
2025-04-19 04:16:40,367 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:40,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:40,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:40,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:40,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:40,369 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:40,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,370 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [77]
2025-04-19 04:16:40,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,370 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [76]
2025-04-19 04:16:40,371 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,371 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [75]
2025-04-19 04:16:40,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [74]
2025-04-19 04:16:40,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [72]
2025-04-19 04:16:40,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [73]
2025-04-19 04:16:40,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [71]
2025-04-19 04:16:40,374 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,374 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [69]
2025-04-19 04:16:40,374 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,375 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [67]
2025-04-19 04:16:40,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,375 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [65]
2025-04-19 04:16:40,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,376 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [63]
2025-04-19 04:16:40,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,376 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [62]
2025-04-19 04:16:40,377 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,377 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [61]
2025-04-19 04:16:40,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [59]
2025-04-19 04:16:40,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [58]
2025-04-19 04:16:40,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [57]
2025-04-19 04:16:40,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [56]
2025-04-19 04:16:40,381 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,381 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [55]
2025-04-19 04:16:40,381 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,382 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [54]
2025-04-19 04:16:40,382 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,382 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [53]
2025-04-19 04:16:40,382 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,383 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [52]
2025-04-19 04:16:40,383 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,383 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [51]
2025-04-19 04:16:40,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,385 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [49]
2025-04-19 04:16:40,386 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,386 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [48]
2025-04-19 04:16:40,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,387 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:40,388 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:40,388 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:40,389 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:40,389 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=94ms
2025-04-19 04:16:43,834 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:16:43,834 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:16:43,834 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-04-19 04:16:54,335 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: OPTIONS /orders/101
2025-04-19 04:16:54,335 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: OPTIONS /orders/101
2025-04-19 04:16:54,336 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:54,336 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:54,336 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:16:54,336 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:16:54,338 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /orders/101
2025-04-19 04:16:54,338 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:54,338 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /orders/101?currentUserId=3
2025-04-19 04:16:54,338 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:54,338 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /orders/101, Method: GET
2025-04-19 04:16:54,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:54,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:16:54,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:54,341 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:16:54,341 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:16:54,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:16:54,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:54,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:54,346 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:54,346 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:54,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:54,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:16:54,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:54,346 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@57eb8569, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:54,346 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /orders/101?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:54,349 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /orders/101?currentUserId=3
2025-04-19 04:16:54,351 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:54,351 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:54,352 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:54,352 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getOrderById with args: [101]
2025-04-19 04:16:54,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        order0_.id as id1_8_0_,
        order0_.actual_delivery_date as actual_d2_8_0_,
        order0_.billing_address as billing_3_8_0_,
        order0_.coupon_id as coupon_20_8_0_,
        order0_.created_at as created_4_8_0_,
        order0_.discount_amount as discount5_8_0_,
        order0_.estimated_delivery_date as estimate6_8_0_,
        order0_.notes as notes7_8_0_,
        order0_.payment_method as payment_8_8_0_,
        order0_.payment_status as payment_9_8_0_,
        order0_.phone_number as phone_n10_8_0_,
        order0_.recipient_name as recipie11_8_0_,
        order0_.shipper_id as shipper12_8_0_,
        order0_.shipping_address as shippin13_8_0_,
        order0_.shipping_fee as shippin14_8_0_,
        order0_.status as status15_8_0_,
        order0_.total_amount as total_a16_8_0_,
        order0_.tracking_number as trackin17_8_0_,
        order0_.updated_at as updated18_8_0_,
        order0_.user_id as user_id19_8_0_ 
    from
        orders order0_ 
    where
        order0_.id=?
2025-04-19 04:16:54,355 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:54,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:54,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:54,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:54,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:54,361 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getOrderById with result: [<200 OK OK,Order(id=101, userId=3, totalAmount=1135000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:53, updatedAt=2025-04-19T04:15:53, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00),[]>]
2025-04-19 04:16:54,361 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getOrderById executed in 9 ms
2025-04-19 04:16:54,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:54,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:54,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:54,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:54,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:54,363 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:54,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:54,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:54,365 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:54,365 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=27ms
2025-04-19 04:16:54,366 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /orders/101
2025-04-19 04:16:54,366 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:54,366 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /orders/101?currentUserId=3
2025-04-19 04:16:54,366 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:54,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /orders/101, Method: GET
2025-04-19 04:16:54,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:54,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:16:54,366 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:54,367 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:16:54,367 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:16:54,367 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:16:54,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:54,369 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:54,370 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:54,370 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:54,371 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:54,371 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:16:54,371 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:54,371 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@41eb1733, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:54,371 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /orders/101?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:54,371 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /orders/101?currentUserId=3
2025-04-19 04:16:54,372 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:54,372 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:54,372 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:54,373 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getOrderById with args: [101]
2025-04-19 04:16:54,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        order0_.id as id1_8_0_,
        order0_.actual_delivery_date as actual_d2_8_0_,
        order0_.billing_address as billing_3_8_0_,
        order0_.coupon_id as coupon_20_8_0_,
        order0_.created_at as created_4_8_0_,
        order0_.discount_amount as discount5_8_0_,
        order0_.estimated_delivery_date as estimate6_8_0_,
        order0_.notes as notes7_8_0_,
        order0_.payment_method as payment_8_8_0_,
        order0_.payment_status as payment_9_8_0_,
        order0_.phone_number as phone_n10_8_0_,
        order0_.recipient_name as recipie11_8_0_,
        order0_.shipper_id as shipper12_8_0_,
        order0_.shipping_address as shippin13_8_0_,
        order0_.shipping_fee as shippin14_8_0_,
        order0_.status as status15_8_0_,
        order0_.total_amount as total_a16_8_0_,
        order0_.tracking_number as trackin17_8_0_,
        order0_.updated_at as updated18_8_0_,
        order0_.user_id as user_id19_8_0_ 
    from
        orders order0_ 
    where
        order0_.id=?
2025-04-19 04:16:54,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:54,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:16:54,375 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:54,375 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:54,376 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:54,376 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getOrderById with result: [<200 OK OK,Order(id=101, userId=3, totalAmount=1135000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:53, updatedAt=2025-04-19T04:15:53, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00),[]>]
2025-04-19 04:16:54,376 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getOrderById executed in 3 ms
2025-04-19 04:16:54,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:54,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:54,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:54,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:54,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:54,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:54,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:54,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:54,381 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:54,381 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=15ms
2025-04-19 04:16:57,674 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /orders/my-orders
2025-04-19 04:16:57,674 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:57,674 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:57,675 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:57,675 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /orders/my-orders, Method: GET
2025-04-19 04:16:57,675 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:57,675 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:16:57,675 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:57,676 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:16:57,676 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:16:57,676 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:16:57,678 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:57,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:57,680 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:57,680 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:57,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:16:57,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:57,682 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3dd5922f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:57,682 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /orders/my-orders?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:57,682 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:57,683 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:57,683 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:57,683 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:57,683 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getCurrentUserOrders
2025-04-19 04:16:57,684 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:57,684 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:57,685 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:57,685 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,687 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        order0_.id as id1_8_,
        order0_.actual_delivery_date as actual_d2_8_,
        order0_.billing_address as billing_3_8_,
        order0_.coupon_id as coupon_20_8_,
        order0_.created_at as created_4_8_,
        order0_.discount_amount as discount5_8_,
        order0_.estimated_delivery_date as estimate6_8_,
        order0_.notes as notes7_8_,
        order0_.payment_method as payment_8_8_,
        order0_.payment_status as payment_9_8_,
        order0_.phone_number as phone_n10_8_,
        order0_.recipient_name as recipie11_8_,
        order0_.shipper_id as shipper12_8_,
        order0_.shipping_address as shippin13_8_,
        order0_.shipping_fee as shippin14_8_,
        order0_.status as status15_8_,
        order0_.total_amount as total_a16_8_,
        order0_.tracking_number as trackin17_8_,
        order0_.updated_at as updated18_8_,
        order0_.user_id as user_id19_8_ 
    from
        orders order0_ 
    where
        order0_.user_id=? 
    order by
        order0_.created_at desc
2025-04-19 04:16:57,687 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,690 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:57,690 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:57,691 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:57,692 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:16:57,692 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:57,692 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,693 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getCurrentUserOrders with result: [<200 OK OK,[Order(id=102, userId=3, totalAmount=783000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:16:35, updatedAt=2025-04-19T04:16:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=101, userId=3, totalAmount=1135000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:53, updatedAt=2025-04-19T04:15:53, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=100, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:35, updatedAt=2025-04-19T04:15:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=99, userId=3, totalAmount=790000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:08:27, updatedAt=2025-04-19T04:08:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=98, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:03:33, updatedAt=2025-04-19T04:03:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=97, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:01:24, updatedAt=2025-04-19T04:01:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=96, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:57:07, updatedAt=2025-04-19T04:01:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=95, userId=3, totalAmount=17591000.00, status=CANCELLED, createdAt=2025-04-19T03:56:14, updatedAt=2025-04-19T03:56:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=94, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:45:07, updatedAt=2025-04-19T03:45:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=93, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:57:10, updatedAt=2025-04-19T02:57:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=92, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:56, updatedAt=2025-04-19T02:51:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=91, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:55, updatedAt=2025-04-19T02:51:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=90, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:26, updatedAt=2025-04-19T02:48:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=89, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:25, updatedAt=2025-04-19T02:48:26, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=88, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:52, updatedAt=2025-04-19T02:44:52, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=87, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:51, updatedAt=2025-04-19T02:44:51, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=86, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:23, updatedAt=2025-04-19T02:41:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=85, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:14, updatedAt=2025-04-19T02:41:14, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=84, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:38, updatedAt=2025-04-19T02:38:39, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=83, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:10, updatedAt=2025-04-19T02:38:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=82, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:32:28, updatedAt=2025-04-19T02:34:43, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=81, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:31:21, updatedAt=2025-04-19T02:31:36, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=80, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:56, updatedAt=2025-04-19T02:25:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=79, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:37, updatedAt=2025-04-19T02:25:37, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=78, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:28, updatedAt=2025-04-19T02:23:28, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=77, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:22, updatedAt=2025-04-19T02:23:22, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=76, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:32, updatedAt=2025-04-19T02:21:57, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=75, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:08, updatedAt=2025-04-19T02:20:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=74, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:18:29, updatedAt=2025-04-19T02:18:29, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=72, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=73, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=71, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:10:02, updatedAt=2025-04-19T02:10:02, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=69, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:03:16, updatedAt=2025-04-19T02:03:16, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=67, userId=3, totalAmount=29031000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:01:06, updatedAt=2025-04-19T02:01:06, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=65, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:59:13, updatedAt=2025-04-19T01:59:13, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=63, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:57:07, updatedAt=2025-04-19T01:57:31, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=62, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:56:34, updatedAt=2025-04-19T01:56:34, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=61, userId=3, totalAmount=65982000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:55:17, updatedAt=2025-04-19T01:55:17, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=59, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:54:45, updatedAt=2025-04-19T01:54:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=58, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:47, updatedAt=2025-04-19T01:47, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=57, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:46:03, updatedAt=2025-04-19T01:46:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=56, userId=3, totalAmount=54980000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:45:32, updatedAt=2025-04-19T01:45:32, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=55, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:44:55, updatedAt=2025-04-19T01:44:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=54, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:43:33, updatedAt=2025-04-19T01:43:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=53, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:41:30, updatedAt=2025-04-19T01:41:30, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=52, userId=3, totalAmount=22322000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:39:41, updatedAt=2025-04-19T01:39:41, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=51, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:37:25, updatedAt=2025-04-19T01:37:25, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=49, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:42, updatedAt=2025-04-19T01:35:42, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=48, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:07, updatedAt=2025-04-19T01:35:07, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=46, userId=3, totalAmount=51022000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:44, updatedAt=2025-04-19T01:30:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=45, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:08, updatedAt=2025-04-19T01:30:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00)],[]>]
2025-04-19 04:16:57,694 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getCurrentUserOrders executed in 11 ms
2025-04-19 04:16:57,695 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,695 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [102]
2025-04-19 04:16:57,696 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,696 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,697 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,697 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,698 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,698 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,699 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:57,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,700 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:57,701 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,701 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:57,701 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,701 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:57,702 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,703 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:16:57,703 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,704 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:57,704 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,704 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:57,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,705 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:57,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,705 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [99]
2025-04-19 04:16:57,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,705 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,706 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,706 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,706 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,706 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,707 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,707 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [98]
2025-04-19 04:16:57,707 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,707 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:57,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,708 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:57,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,709 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:57,709 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,710 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [97]
2025-04-19 04:16:57,710 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,710 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:57,711 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,711 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:57,711 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,711 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:57,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,712 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [96]
2025-04-19 04:16:57,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,712 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:57,713 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,713 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:57,713 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,713 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:57,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,714 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [95]
2025-04-19 04:16:57,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,714 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [94]
2025-04-19 04:16:57,716 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [93]
2025-04-19 04:16:57,717 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /orders/my-orders
2025-04-19 04:16:57,717 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:16:57,717 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:57,717 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:16:57,717 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,717 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [92]
2025-04-19 04:16:57,717 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /orders/my-orders, Method: GET
2025-04-19 04:16:57,718 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:57,718 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:16:57,718 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:16:57,718 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,718 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:16:57,718 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [91]
2025-04-19 04:16:57,718 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:16:57,719 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:16:57,719 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,719 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [90]
2025-04-19 04:16:57,719 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:57,720 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:57,720 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,720 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [89]
2025-04-19 04:16:57,720 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:57,720 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,721 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,721 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [88]
2025-04-19 04:16:57,721 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:57,721 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:16:57,722 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:16:57,722 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@56e431e6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:16:57,722 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /orders/my-orders?currentUserId=3] with attributes [authenticated]
2025-04-19 04:16:57,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,722 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /orders/my-orders?currentUserId=3
2025-04-19 04:16:57,722 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:57,722 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:57,726 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:16:57,726 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,726 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:16:57,726 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:57,726 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getCurrentUserOrders
2025-04-19 04:16:57,727 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,727 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:57,727 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:16:57,727 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:16:57,727 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,727 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:16:57,728 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [87]
2025-04-19 04:16:57,728 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,728 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,728 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [86]
2025-04-19 04:16:57,729 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        order0_.id as id1_8_,
        order0_.actual_delivery_date as actual_d2_8_,
        order0_.billing_address as billing_3_8_,
        order0_.coupon_id as coupon_20_8_,
        order0_.created_at as created_4_8_,
        order0_.discount_amount as discount5_8_,
        order0_.estimated_delivery_date as estimate6_8_,
        order0_.notes as notes7_8_,
        order0_.payment_method as payment_8_8_,
        order0_.payment_status as payment_9_8_,
        order0_.phone_number as phone_n10_8_,
        order0_.recipient_name as recipie11_8_,
        order0_.shipper_id as shipper12_8_,
        order0_.shipping_address as shippin13_8_,
        order0_.shipping_fee as shippin14_8_,
        order0_.status as status15_8_,
        order0_.total_amount as total_a16_8_,
        order0_.tracking_number as trackin17_8_,
        order0_.updated_at as updated18_8_,
        order0_.user_id as user_id19_8_ 
    from
        orders order0_ 
    where
        order0_.user_id=? 
    order by
        order0_.created_at desc
2025-04-19 04:16:57,729 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,729 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [85]
2025-04-19 04:16:57,729 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,730 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,730 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [84]
2025-04-19 04:16:57,731 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,732 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:57,732 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [83]
2025-04-19 04:16:57,732 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:16:57,733 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,733 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:57,733 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [82]
2025-04-19 04:16:57,733 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-19 04:16:57,734 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:16:57,734 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,734 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:16:57,734 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [81]
2025-04-19 04:16:57,734 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,735 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [80]
2025-04-19 04:16:57,735 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,735 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getCurrentUserOrders with result: [<200 OK OK,[Order(id=102, userId=3, totalAmount=783000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:16:35, updatedAt=2025-04-19T04:16:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=101, userId=3, totalAmount=1135000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:53, updatedAt=2025-04-19T04:15:53, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=100, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:35, updatedAt=2025-04-19T04:15:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=99, userId=3, totalAmount=790000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:08:27, updatedAt=2025-04-19T04:08:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=98, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:03:33, updatedAt=2025-04-19T04:03:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=97, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:01:24, updatedAt=2025-04-19T04:01:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=PAID, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=96, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:57:07, updatedAt=2025-04-19T04:01:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=account_balance, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=95, userId=3, totalAmount=17591000.00, status=CANCELLED, createdAt=2025-04-19T03:56:14, updatedAt=2025-04-19T03:56:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=REFUNDED, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=94, userId=3, totalAmount=23751000.00, status=CANCELLED, createdAt=2025-04-19T03:45:07, updatedAt=2025-04-19T03:45:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=93, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:57:10, updatedAt=2025-04-19T02:57:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=92, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:56, updatedAt=2025-04-19T02:51:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=91, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:51:55, updatedAt=2025-04-19T02:51:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=90, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:26, updatedAt=2025-04-19T02:48:27, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=89, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:48:25, updatedAt=2025-04-19T02:48:26, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=88, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:52, updatedAt=2025-04-19T02:44:52, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=87, userId=3, totalAmount=22871000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:44:51, updatedAt=2025-04-19T02:44:51, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=86, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:23, updatedAt=2025-04-19T02:41:24, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=85, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:41:14, updatedAt=2025-04-19T02:41:14, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=84, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:38, updatedAt=2025-04-19T02:38:39, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=83, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:38:10, updatedAt=2025-04-19T02:38:10, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=82, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:32:28, updatedAt=2025-04-19T02:34:43, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=81, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:31:21, updatedAt=2025-04-19T02:31:36, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=80, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:56, updatedAt=2025-04-19T02:25:56, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=79, userId=3, totalAmount=25402000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:25:37, updatedAt=2025-04-19T02:25:37, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=78, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:28, updatedAt=2025-04-19T02:23:28, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=77, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:23:22, updatedAt=2025-04-19T02:23:22, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=3, code=c, description=sad, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=ONE_TIME, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=111.00, usedCount=0, startDate=2025-04-16T16:14:25, endDate=2025-05-16T16:14:25, isActive=true, createdAt=2025-04-16T23:14:35, updatedAt=2025-04-16T23:14:39, expiryDate=2025-05-16T16:14:25), discountAmount=12.00), Order(id=76, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:32, updatedAt=2025-04-19T02:21:57, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=75, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:20:08, updatedAt=2025-04-19T02:20:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=74, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:18:29, updatedAt=2025-04-19T02:18:29, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=72, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=73, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:16:11, updatedAt=2025-04-19T02:16:11, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=71, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:10:02, updatedAt=2025-04-19T02:10:02, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=69, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:03:16, updatedAt=2025-04-19T02:03:16, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=67, userId=3, totalAmount=29031000.00, status=READY_TO_SHIP, createdAt=2025-04-19T02:01:06, updatedAt=2025-04-19T02:01:06, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=65, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:59:13, updatedAt=2025-04-19T01:59:13, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=63, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:57:07, updatedAt=2025-04-19T01:57:31, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=62, userId=3, totalAmount=40471000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:56:34, updatedAt=2025-04-19T01:56:34, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=61, userId=3, totalAmount=65982000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:55:17, updatedAt=2025-04-19T01:55:17, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=59, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:54:45, updatedAt=2025-04-19T01:54:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=58, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:47, updatedAt=2025-04-19T01:47, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=57, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:46:03, updatedAt=2025-04-19T01:46:03, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=56, userId=3, totalAmount=54980000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:45:32, updatedAt=2025-04-19T01:45:32, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=55, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:44:55, updatedAt=2025-04-19T01:44:55, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=54, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:43:33, updatedAt=2025-04-19T01:43:33, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=53, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:41:30, updatedAt=2025-04-19T01:41:30, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00), Order(id=52, userId=3, totalAmount=22322000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:39:41, updatedAt=2025-04-19T01:39:41, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=2, code=b, description=ab, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=23.00, minPurchaseAmount=0.00, usedCount=0, startDate=2025-04-16T13:20:22, endDate=2025-05-16T13:20:22, isActive=true, createdAt=2025-04-16T20:20:29, updatedAt=2025-04-16T23:20:24, expiryDate=2025-05-16T13:20:22), discountAmount=23.00), Order(id=51, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:37:25, updatedAt=2025-04-19T01:37:25, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=49, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:42, updatedAt=2025-04-19T01:35:42, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=48, userId=3, totalAmount=17591000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:35:07, updatedAt=2025-04-19T01:35:07, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=46, userId=3, totalAmount=51022000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:44, updatedAt=2025-04-19T01:30:45, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=credit, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00), Order(id=45, userId=3, totalAmount=28990000.00, status=READY_TO_SHIP, createdAt=2025-04-19T01:30:08, updatedAt=2025-04-19T01:30:08, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PENDING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=null, discountAmount=0.00)],[]>]
2025-04-19 04:16:57,735 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getCurrentUserOrders executed in 9 ms
2025-04-19 04:16:57,735 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:57,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,736 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [102]
2025-04-19 04:16:57,736 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:57,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,736 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,737 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:57,737 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,738 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [79]
2025-04-19 04:16:57,738 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,738 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,738 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [78]
2025-04-19 04:16:57,739 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,739 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,739 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [101]
2025-04-19 04:16:57,739 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:57,740 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,740 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,740 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:57,740 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:57,740 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,741 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,741 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:57,741 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:57,741 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,741 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,741 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [77]
2025-04-19 04:16:57,741 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [47]
2025-04-19 04:16:57,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,742 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:16:57,742 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [76]
2025-04-19 04:16:57,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,742 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,742 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:57,742 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [75]
2025-04-19 04:16:57,743 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,743 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,743 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [74]
2025-04-19 04:16:57,743 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:57,744 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,744 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,744 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [72]
2025-04-19 04:16:57,744 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:16:57,745 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,745 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,745 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [99]
2025-04-19 04:16:57,745 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [73]
2025-04-19 04:16:57,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,746 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [71]
2025-04-19 04:16:57,746 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,746 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [69]
2025-04-19 04:16:57,746 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,746 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,746 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,747 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [67]
2025-04-19 04:16:57,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,747 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [98]
2025-04-19 04:16:57,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,747 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [65]
2025-04-19 04:16:57,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,748 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:57,748 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [63]
2025-04-19 04:16:57,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,748 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,748 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:57,748 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [62]
2025-04-19 04:16:57,749 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,749 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:16:57,749 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,749 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [61]
2025-04-19 04:16:57,749 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,749 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [97]
2025-04-19 04:16:57,749 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,749 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [59]
2025-04-19 04:16:57,750 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,750 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,750 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [58]
2025-04-19 04:16:57,750 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:57,751 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,751 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,751 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:57,751 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [57]
2025-04-19 04:16:57,752 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,752 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [27]
2025-04-19 04:16:57,752 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,752 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [56]
2025-04-19 04:16:57,752 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,752 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [96]
2025-04-19 04:16:57,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,753 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [55]
2025-04-19 04:16:57,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,753 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:57,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,753 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [54]
2025-04-19 04:16:57,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,753 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,754 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:57,754 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [53]
2025-04-19 04:16:57,754 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,754 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [26]
2025-04-19 04:16:57,754 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,754 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [52]
2025-04-19 04:16:57,754 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,754 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,754 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [95]
2025-04-19 04:16:57,754 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [51]
2025-04-19 04:16:57,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,756 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [94]
2025-04-19 04:16:57,756 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [49]
2025-04-19 04:16:57,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,756 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [48]
2025-04-19 04:16:57,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,756 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [93]
2025-04-19 04:16:57,757 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,757 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,757 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,757 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [92]
2025-04-19 04:16:57,758 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,758 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,758 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [91]
2025-04-19 04:16:57,758 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,759 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,759 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [90]
2025-04-19 04:16:57,759 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:57,759 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=85ms
2025-04-19 04:16:57,759 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,760 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [89]
2025-04-19 04:16:57,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,760 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [88]
2025-04-19 04:16:57,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,761 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:57,761 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:57,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:16:57,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [87]
2025-04-19 04:16:57,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [86]
2025-04-19 04:16:57,764 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,765 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [85]
2025-04-19 04:16:57,766 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,767 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [84]
2025-04-19 04:16:57,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,768 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [83]
2025-04-19 04:16:57,768 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,768 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [82]
2025-04-19 04:16:57,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,769 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [81]
2025-04-19 04:16:57,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,769 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [80]
2025-04-19 04:16:57,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:57,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:57,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:16:57,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,772 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [79]
2025-04-19 04:16:57,773 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,773 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [78]
2025-04-19 04:16:57,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:16:57,774 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:57,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:16:57,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:57,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:16:57,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:16:57,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [77]
2025-04-19 04:16:57,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [76]
2025-04-19 04:16:57,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [75]
2025-04-19 04:16:57,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [74]
2025-04-19 04:16:57,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,778 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [72]
2025-04-19 04:16:57,778 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,778 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [73]
2025-04-19 04:16:57,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [71]
2025-04-19 04:16:57,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [69]
2025-04-19 04:16:57,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [67]
2025-04-19 04:16:57,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [65]
2025-04-19 04:16:57,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [63]
2025-04-19 04:16:57,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [62]
2025-04-19 04:16:57,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [61]
2025-04-19 04:16:57,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [59]
2025-04-19 04:16:57,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [58]
2025-04-19 04:16:57,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [57]
2025-04-19 04:16:57,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [56]
2025-04-19 04:16:57,786 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [55]
2025-04-19 04:16:57,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [54]
2025-04-19 04:16:57,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [53]
2025-04-19 04:16:57,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [52]
2025-04-19 04:16:57,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [51]
2025-04-19 04:16:57,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [49]
2025-04-19 04:16:57,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [48]
2025-04-19 04:16:57,791 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,791 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [46]
2025-04-19 04:16:57,792 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:16:57,792 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [45]
2025-04-19 04:16:57,793 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:16:57,793 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=76ms
2025-04-19 04:17:00,986 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: OPTIONS /orders/100
2025-04-19 04:17:00,986 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: OPTIONS /orders/100
2025-04-19 04:17:00,986 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:00,986 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:17:00,986 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, accept=*/*, access-control-request-method=GET, access-control-request-headers=authorization, origin=http://localhost:3000, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, sec-fetch-mode=cors, sec-fetch-site=same-site, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:00,986 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200 (OK - CORS Preflight)
2025-04-19 04:17:00,989 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /orders/100
2025-04-19 04:17:00,990 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:00,990 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /orders/100?currentUserId=3
2025-04-19 04:17:00,990 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:00,990 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /orders/100, Method: GET
2025-04-19 04:17:00,990 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:00,991 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:17:00,991 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:00,991 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:17:00,992 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:17:00,992 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:17:00,993 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:00,993 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:00,995 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:00,996 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:00,997 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:00,997 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:17:00,997 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:00,997 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7656a9c6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:00,998 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /orders/100?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:00,998 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /orders/100?currentUserId=3
2025-04-19 04:17:00,999 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:17:00,999 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:17:00,999 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:17:00,999 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getOrderById with args: [100]
2025-04-19 04:17:01,000 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        order0_.id as id1_8_0_,
        order0_.actual_delivery_date as actual_d2_8_0_,
        order0_.billing_address as billing_3_8_0_,
        order0_.coupon_id as coupon_20_8_0_,
        order0_.created_at as created_4_8_0_,
        order0_.discount_amount as discount5_8_0_,
        order0_.estimated_delivery_date as estimate6_8_0_,
        order0_.notes as notes7_8_0_,
        order0_.payment_method as payment_8_8_0_,
        order0_.payment_status as payment_9_8_0_,
        order0_.phone_number as phone_n10_8_0_,
        order0_.recipient_name as recipie11_8_0_,
        order0_.shipper_id as shipper12_8_0_,
        order0_.shipping_address as shippin13_8_0_,
        order0_.shipping_fee as shippin14_8_0_,
        order0_.status as status15_8_0_,
        order0_.total_amount as total_a16_8_0_,
        order0_.tracking_number as trackin17_8_0_,
        order0_.updated_at as updated18_8_0_,
        order0_.user_id as user_id19_8_0_ 
    from
        orders order0_ 
    where
        order0_.id=?
2025-04-19 04:17:01,001 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:17:01,003 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:17:01,003 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:01,005 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:17:01,005 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:17:01,005 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getOrderById with result: [<200 OK OK,Order(id=100, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:35, updatedAt=2025-04-19T04:15:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00),[]>]
2025-04-19 04:17:01,005 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getOrderById executed in 6 ms
2025-04-19 04:17:01,006 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:17:01,006 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:17:01,007 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:17:01,007 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:01,008 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:01,008 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:01,009 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:01,009 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:01,010 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:01,010 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=20ms
2025-04-19 04:17:01,011 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /orders/100
2025-04-19 04:17:01,011 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:01,011 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /orders/100?currentUserId=3
2025-04-19 04:17:01,011 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:01,011 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /orders/100, Method: GET
2025-04-19 04:17:01,012 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:01,012 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:17:01,012 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:01,012 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:17:01,012 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:17:01,012 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:17:01,012 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:01,012 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:01,012 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:01,012 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:01,016 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:01,016 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:17:01,016 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:01,016 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5006f8f0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:01,016 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /orders/100?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:01,016 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /orders/100?currentUserId=3
2025-04-19 04:17:01,016 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:17:01,016 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController]
2025-04-19 04:17:01,016 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getOrderById(java.lang.Long); target is of class [com.example.tmdt.controller.OrderController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:17:01,018 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getOrderById with args: [100]
2025-04-19 04:17:01,018 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        order0_.id as id1_8_0_,
        order0_.actual_delivery_date as actual_d2_8_0_,
        order0_.billing_address as billing_3_8_0_,
        order0_.coupon_id as coupon_20_8_0_,
        order0_.created_at as created_4_8_0_,
        order0_.discount_amount as discount5_8_0_,
        order0_.estimated_delivery_date as estimate6_8_0_,
        order0_.notes as notes7_8_0_,
        order0_.payment_method as payment_8_8_0_,
        order0_.payment_status as payment_9_8_0_,
        order0_.phone_number as phone_n10_8_0_,
        order0_.recipient_name as recipie11_8_0_,
        order0_.shipper_id as shipper12_8_0_,
        order0_.shipping_address as shippin13_8_0_,
        order0_.shipping_fee as shippin14_8_0_,
        order0_.status as status15_8_0_,
        order0_.total_amount as total_a16_8_0_,
        order0_.tracking_number as trackin17_8_0_,
        order0_.updated_at as updated18_8_0_,
        order0_.user_id as user_id19_8_0_ 
    from
        orders order0_ 
    where
        order0_.id=?
2025-04-19 04:17:01,018 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:17:01,024 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:17:01,024 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:01,025 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_4_0_,
        coupon0_.code as code2_4_0_,
        coupon0_.created_at as created_3_4_0_,
        coupon0_.description as descript4_4_0_,
        coupon0_.discount_type as discount5_4_0_,
        coupon0_.discount_value as discount6_4_0_,
        coupon0_.end_date as end_date7_4_0_,
        coupon0_.expiry_date as expiry_d8_4_0_,
        coupon0_.is_active as is_activ9_4_0_,
        coupon0_.min_purchase_amount as min_pur10_4_0_,
        coupon0_.start_date as start_d11_4_0_,
        coupon0_.type as type12_4_0_,
        coupon0_.updated_at as updated13_4_0_,
        coupon0_.used_count as used_co14_4_0_,
        coupon0_.user_id as user_id15_4_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-19 04:17:01,026 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-19 04:17:01,027 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getOrderById with result: [<200 OK OK,Order(id=100, userId=3, totalAmount=25511000.00, status=READY_TO_SHIP, createdAt=2025-04-19T04:15:35, updatedAt=2025-04-19T04:15:35, shippingAddress=ádvb, ădawe, 12323, billingAddress=null, phoneNumber=3123123123, recipientName=sYn good72, paymentMethod=cod, paymentStatus=PROCESSING, shipperId=null, shippingFee=null, estimatedDeliveryDate=null, actualDeliveryDate=null, trackingNumber=null, notes=null, trackingHistory=null, coupon=Coupon(id=1, code=a, description=abc, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-16T13:19:50, endDate=2025-05-16T13:19:50, isActive=true, createdAt=2025-04-16T20:20:15, updatedAt=2025-04-16T23:20:23, expiryDate=2025-05-16T13:19:50), discountAmount=12.00),[]>]
2025-04-19 04:17:01,027 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getOrderById executed in 9 ms
2025-04-19 04:17:01,027 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        orderitems0_.order_id as order_id6_7_0_,
        orderitems0_.id as id1_7_0_,
        orderitems0_.id as id1_7_1_,
        orderitems0_.order_id as order_id6_7_1_,
        orderitems0_.price as price2_7_1_,
        orderitems0_.product_id as product_7_7_1_,
        orderitems0_.product_image_url as product_3_7_1_,
        orderitems0_.product_name as product_4_7_1_,
        orderitems0_.quantity as quantity5_7_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-19 04:17:01,028 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [100]
2025-04-19 04:17:01,028 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_11_0_,
        product0_.average_rating as average_2_11_0_,
        product0_.category_id as categor14_11_0_,
        product0_.created_at as created_3_11_0_,
        product0_.description as descript4_11_0_,
        product0_.discount_percentage as discount5_11_0_,
        product0_.image_url as image_ur6_11_0_,
        product0_.is_featured as is_featu7_11_0_,
        product0_.name as name8_11_0_,
        product0_.price as price9_11_0_,
        product0_.review_count as review_10_11_0_,
        product0_.sold_count as sold_co11_11_0_,
        product0_.stock as stock12_11_0_,
        product0_.updated_at as updated13_11_0_,
        category1_.id as id1_1_1_,
        category1_.created_at as created_2_1_1_,
        category1_.description as descript3_1_1_,
        category1_.display_order as display_4_1_1_,
        category1_.image_url as image_ur5_1_1_,
        category1_.is_active as is_activ6_1_1_,
        category1_.name as name7_1_1_,
        category1_.parent_id as parent_i9_1_1_,
        category1_.updated_at as updated_8_1_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-19 04:17:01,029 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:01,029 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:01,030 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:01,030 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:01,030 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:01,031 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:01,032 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=21ms
2025-04-19 04:17:03,302 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/top
2025-04-19 04:17:03,302 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:03,303 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/top?limit=6&currentUserId=3
2025-04-19 04:17:03,303 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:03,303 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/top, Method: GET
2025-04-19 04:17:03,303 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:03,303 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:17:03,303 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:03,303 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:17:03,304 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:17:03,304 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:17:03,305 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:03,305 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:03,305 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:03,305 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:03,306 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:03,306 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:17:03,306 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:03,306 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@44dcc9aa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:03,307 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /products/top?limit=6&currentUserId=3] with attributes [permitAll]
2025-04-19 04:17:03,307 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/top?limit=6&currentUserId=3
2025-04-19 04:17:03,307 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getTopProducts with args: [6]
2025-04-19 04:17:03,308 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:17:03,309 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,309 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:17:03,310 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,310 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:17:03,310 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,310 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:17:03,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,311 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:17:03,311 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,311 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:17:03,312 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26)],[]>]
2025-04-19 04:17:03,312 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getTopProducts executed in 5 ms
2025-04-19 04:17:03,312 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,313 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:03,313 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,313 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:03,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:17:03,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:03,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:17:03,314 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,314 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:17:03,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,316 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:17:03,316 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,317 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:17:03,317 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,318 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:17:03,318 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,319 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:17:03,320 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,320 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:17:03,321 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,321 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:17:03,322 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,322 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:17:03,323 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,323 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:17:03,324 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:03,324 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=22ms
2025-04-19 04:17:03,325 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products/top
2025-04-19 04:17:03,325 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:03,326 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products/top?limit=6&currentUserId=3
2025-04-19 04:17:03,326 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:03,326 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products/top, Method: GET
2025-04-19 04:17:03,326 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:03,326 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-19 04:17:03,326 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:03,326 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-19 04:17:03,327 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-19 04:17:03,327 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-19 04:17:03,327 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:03,328 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:03,328 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:03,329 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:03,330 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:03,330 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-19 04:17:03,330 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:03,330 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1ff5f3ba, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:03,330 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-10] Authorized filter invocation [GET /products/top?limit=6&currentUserId=3] with attributes [permitAll]
2025-04-19 04:17:03,330 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products/top?limit=6&currentUserId=3
2025-04-19 04:17:03,331 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getTopProducts with args: [6]
2025-04-19 04:17:03,331 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_11_,
        product0_.average_rating as average_2_11_,
        product0_.category_id as categor14_11_,
        product0_.created_at as created_3_11_,
        product0_.description as descript4_11_,
        product0_.discount_percentage as discount5_11_,
        product0_.image_url as image_ur6_11_,
        product0_.is_featured as is_featu7_11_,
        product0_.name as name8_11_,
        product0_.price as price9_11_,
        product0_.review_count as review_10_11_,
        product0_.sold_count as sold_co11_11_,
        product0_.stock as stock12_11_,
        product0_.updated_at as updated13_11_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-19 04:17:03,333 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,333 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [6]
2025-04-19 04:17:03,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,334 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [7]
2025-04-19 04:17:03,334 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,335 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [10]
2025-04-19 04:17:03,335 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,335 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [14]
2025-04-19 04:17:03,335 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_1_0_,
        category0_.created_at as created_2_1_0_,
        category0_.description as descript3_1_0_,
        category0_.display_order as display_4_1_0_,
        category0_.image_url as image_ur5_1_0_,
        category0_.is_active as is_activ6_1_0_,
        category0_.name as name7_1_0_,
        category0_.parent_id as parent_i9_1_0_,
        category0_.updated_at as updated_8_1_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-19 04:17:03,336 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [16]
2025-04-19 04:17:03,336 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getTopProducts with result: [<200 OK OK,[Product(id=24, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=37, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:28:22, updatedAt=2025-04-19T04:15:35), Product(id=29, name=Samsung Galaxy S23 Ultra, description=Samsung Galaxy S23 Ultra 256GB, màn hình 6.8 inch Dynamic AMOLED 2X, chip Snapdragon 8 Gen 2, price=2.599E7, stock=20, imageUrl=https://example.com/images/products/s23ultra.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=5.0, reviewCount=1, soldCount=120, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T03:22:38), Product(id=36, name=MacBook Pro 14 M2 Pro, description=MacBook Pro 14 inch M2 Pro 16GB RAM, 512GB SSD, price=4.599E7, stock=7, imageUrl=https://example.com/images/products/macbookpro14.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.9, reviewCount=25, soldCount=30, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:23:28), Product(id=25, name=iPhone 14 Pro Max, description=iPhone 14 Pro Max 128GB, màn hình 6.7 inch Super Retina XDR, chip A16 Bionic, price=2.899E7, stock=1, imageUrl=https://example.com/images/products/iphone14promax.jpg, category=Category(id=6, name=Điện thoại iPhone, description=Các dòng điện thoại iPhone, imageUrl=https://example.com/images/categories/iphone.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=120, soldCount=200, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T04:03:33), Product(id=32, name=Samsung Galaxy Z Fold4, description=Samsung Galaxy Z Fold4 256GB, màn hình 7.6 inch Dynamic AMOLED 2X, chip Snapdragon 8+ Gen 1, price=3.299E7, stock=13, imageUrl=https://example.com/images/products/zfold4.jpg, category=Category(id=7, name=Điện thoại Samsung, description=Các dòng điện thoại Samsung, imageUrl=https://example.com/images/categories/samsung.jpg, isActive=true, displayOrder=2, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=50, isFeatured=true, discountPercentage=0.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-19T02:25:56), Product(id=37, name=MacBook Air M2, description=MacBook Air M2 8GB RAM, 256GB SSD, price=2.699E7, stock=20, imageUrl=https://example.com/images/products/macbookairm2.jpg, category=Category(id=10, name=Laptop Apple, description=Máy tính xách tay của Apple, imageUrl=https://example.com/images/categories/mac.jpg, isActive=true, displayOrder=1, createdAt=2025-04-17T02:21:29, updatedAt=2025-04-17T02:21:29), averageRating=4.8, reviewCount=40, soldCount=70, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-17T02:31:26, updatedAt=2025-04-17T02:31:26)],[]>]
2025-04-19 04:17:03,336 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getTopProducts executed in 5 ms
2025-04-19 04:17:03,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:03,337 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,337 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [24]
2025-04-19 04:17:03,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:17:03,338 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:03,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:17:03,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [29]
2025-04-19 04:17:03,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:17:03,340 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [36]
2025-04-19 04:17:03,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:17:03,341 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,341 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [25]
2025-04-19 04:17:03,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:17:03,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [32]
2025-04-19 04:17:03,342 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_9_0_,
        images0_.id as id1_9_0_,
        images0_.id as id1_9_1_,
        images0_.created_at as created_2_9_1_,
        images0_.display_order as display_3_9_1_,
        images0_.image_url as image_ur4_9_1_,
        images0_.product_id as product_5_9_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-19 04:17:03,342 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:17:03,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_8_13_0_,
        reviews0_.id as id1_13_0_,
        reviews0_.id as id1_13_1_,
        reviews0_.anonymous as anonymou2_13_1_,
        reviews0_.comment as comment3_13_1_,
        reviews0_.created_at as created_4_13_1_,
        reviews0_.product_id as product_8_13_1_,
        reviews0_.rating as rating5_13_1_,
        reviews0_.title as title6_13_1_,
        reviews0_.updated_at as updated_7_13_1_,
        reviews0_.user_id as user_id9_13_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-19 04:17:03,343 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [37]
2025-04-19 04:17:03,343 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:03,344 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=19ms
2025-04-19 04:17:04,653 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-04-19 04:17:04,654 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:04,654 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications?currentUserId=3
2025-04-19 04:17:04,654 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:04,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /notifications, Method: GET
2025-04-19 04:17:04,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:04,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-19 04:17:04,654 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:04,655 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-19 04:17:04,655 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-19 04:17:04,655 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-19 04:17:04,656 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:04,656 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:04,657 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:04,657 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:04,658 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:04,658 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-19 04:17:04,659 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:04,659 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3705e3a9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:04,659 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:04,659 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications?currentUserId=3
2025-04-19 04:17:04,660 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:17:04,660 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:04,661 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:17:04,662 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:17:04,662 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-9] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:17:04,662 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:17:04,662 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:17:04,663 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:04,664 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53), Notification(id=135, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #102 của bạn đã được xác nhận. Tổng tiền: 783000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=102, isRead=false, createdAt=2025-04-19T04:16:35)],[]>]
2025-04-19 04:17:04,665 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getAllNotifications executed in 3 ms
2025-04-19 04:17:04,667 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:04,667 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=13ms
2025-04-19 04:17:05,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /notifications/unread-count
2025-04-19 04:17:05,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications
2025-04-19 04:17:05,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:05,826 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:05,827 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /notifications/unread-count?currentUserId=3
2025-04-19 04:17:05,827 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications?currentUserId=3
2025-04-19 04:17:05,827 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:05,827 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /notifications, Method: GET
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-19 04:17:05,827 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-19 04:17:05,828 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:17:05,828 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-19 04:17:05,828 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:17:05,828 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-19 04:17:05,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:05,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:05,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:05,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:05,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:05,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:05,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:05,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@35f99091, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:05,830 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@165fc0be, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:05,831 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized filter invocation [GET /notifications/unread-count?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:05,831 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized filter invocation [GET /notifications?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:05,831 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /notifications/unread-count?currentUserId=3
2025-04-19 04:17:05,831 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications?currentUserId=3
2025-04-19 04:17:05,831 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:17:05,831 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_20_0_,
        user0_.address as address2_20_0_,
        user0_.email as email3_20_0_,
        user0_.full_name as full_nam4_20_0_,
        user0_.password as password5_20_0_,
        user0_.phone_number as phone_nu6_20_0_,
        user0_.username as username7_20_0_,
        roles1_.user_id as user_id1_19_1_,
        role2_.id as role_id2_19_1_,
        role2_.id as id1_14_2_,
        role2_.name as name2_14_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-19 04:17:05,832 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:05,832 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:05,833 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:17:05,833 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:17:05,833 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:17:05,833 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-19 04:17:05,833 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-4] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:17:05,833 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-2] Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController] with attributes [[authorize: 'hasRole('USER') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-04-19 04:17:05,833 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:17:05,833 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a)]
2025-04-19 04:17:05,834 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        notificati0_.id as id1_6_,
        notificati0_.created_at as created_2_6_,
        notificati0_.is_read as is_read3_6_,
        notificati0_.message as message4_6_,
        notificati0_.reference_id as referenc5_6_,
        notificati0_.title as title6_6_,
        notificati0_.type as type7_6_,
        notificati0_.user_id as user_id8_6_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-19 04:17:05,834 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-19 04:17:05,834 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:05,834 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:05,834 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getUnreadCount with result: [<200 OK OK,3,[]>]
2025-04-19 04:17:05,835 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getUnreadCount executed in 2 ms
2025-04-19 04:17:05,835 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=95, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #71 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=71, isRead=true, createdAt=2025-04-19T02:10:02), Notification(id=96, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #72 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=72, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=97, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #73 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=73, isRead=true, createdAt=2025-04-19T02:16:11), Notification(id=98, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #74 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=74, isRead=true, createdAt=2025-04-19T02:18:29), Notification(id=99, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #75 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=75, isRead=true, createdAt=2025-04-19T02:20:08), Notification(id=100, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #76 của bạn đã được xác nhận. Tổng tiền: 28990000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=76, isRead=true, createdAt=2025-04-19T02:21:57), Notification(id=101, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #77 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=77, isRead=true, createdAt=2025-04-19T02:23:22), Notification(id=102, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #78 của bạn đã được xác nhận. Tổng tiền: 40471000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=78, isRead=true, createdAt=2025-04-19T02:23:28), Notification(id=103, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #79 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=79, isRead=true, createdAt=2025-04-19T02:25:37), Notification(id=104, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #80 của bạn đã được xác nhận. Tổng tiền: 25402000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=80, isRead=true, createdAt=2025-04-19T02:25:56), Notification(id=105, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #81 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=81, isRead=true, createdAt=2025-04-19T02:31:36), Notification(id=106, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #82 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=82, isRead=true, createdAt=2025-04-19T02:34:43), Notification(id=107, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #83 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=83, isRead=true, createdAt=2025-04-19T02:38:10), Notification(id=108, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #84 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=84, isRead=true, createdAt=2025-04-19T02:38:39), Notification(id=109, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #85 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=85, isRead=true, createdAt=2025-04-19T02:41:14), Notification(id=110, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #86 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=86, isRead=true, createdAt=2025-04-19T02:41:24), Notification(id=111, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #87 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=87, isRead=true, createdAt=2025-04-19T02:44:51), Notification(id=112, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #88 của bạn đã được xác nhận. Tổng tiền: 22871000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=88, isRead=true, createdAt=2025-04-19T02:44:52), Notification(id=113, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #89 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=89, isRead=true, createdAt=2025-04-19T02:48:26), Notification(id=114, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #90 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=90, isRead=true, createdAt=2025-04-19T02:48:27), Notification(id=115, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #91 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=91, isRead=true, createdAt=2025-04-19T02:51:55), Notification(id=116, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #92 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=92, isRead=true, createdAt=2025-04-19T02:51:56), Notification(id=117, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #93 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=93, isRead=true, createdAt=2025-04-19T02:57:10), Notification(id=118, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:14:46), Notification(id=119, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=29, isRead=true, createdAt=2025-04-19T03:22:59), Notification(id=120, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Product Update, message=Someone found your review helpful!, type=PRODUCT_RESTOCK, referenceId=24, isRead=true, createdAt=2025-04-19T03:32:03), Notification(id=121, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #94 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:07), Notification(id=122, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #94 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:38), Notification(id=123, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #94 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=94, isRead=true, createdAt=2025-04-19T03:45:45), Notification(id=124, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #95 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:14), Notification(id=125, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #95 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:21), Notification(id=126, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #95 đã được hoàn tiền thành công. Số tiền 17591000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=95, isRead=true, createdAt=2025-04-19T03:56:24), Notification(id=127, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #96 của bạn đã được xác nhận. Tổng tiền: 23751000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T03:57:07), Notification(id=128, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Cập nhật trạng thái đơn hàng, message=Đơn hàng #96 của bạn đã được cập nhật trạng thái thành: CANCELLED, type=ORDER_STATUS_CHANGE, referenceId=96, isRead=true, createdAt=2025-04-19T04:00:57), Notification(id=129, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Hoàn tiền thành công, message=Đơn hàng #96 đã được hoàn tiền thành công. Số tiền 23751000.00 đã được hoàn vào tài khoản của bạn., type=SYSTEM_ANNOUNCEMENT, referenceId=96, isRead=true, createdAt=2025-04-19T04:01:03), Notification(id=130, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #97 của bạn đã được xác nhận. Tổng tiền: 17591000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=97, isRead=true, createdAt=2025-04-19T04:01:24), Notification(id=131, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #98 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=98, isRead=true, createdAt=2025-04-19T04:03:33), Notification(id=132, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #99 của bạn đã được xác nhận. Tổng tiền: 790000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=99, isRead=true, createdAt=2025-04-19T04:08:27), Notification(id=133, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #100 của bạn đã được xác nhận. Tổng tiền: 25511000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=100, isRead=false, createdAt=2025-04-19T04:15:35), Notification(id=134, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #101 của bạn đã được xác nhận. Tổng tiền: 1135000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=101, isRead=false, createdAt=2025-04-19T04:15:53), Notification(id=135, user=User(id=3, username=a1234, email=leloilonglon9929@gmail.com, password=$2a$10$IypX/2Nbx/IBYACH0y0g9eu8Kk2rFpLKr/va4tzslF72wpOKDEkTG, fullName=sYn good72, phoneNumber=123, address=a), title=Đặt hàng thành công, message=Đơn hàng #102 của bạn đã được xác nhận. Tổng tiền: 783000.00 VND. Cảm ơn bạn đã mua sắm!, type=ORDER_STATUS_CHANGE, referenceId=102, isRead=false, createdAt=2025-04-19T04:16:35)],[]>]
2025-04-19 04:17:05,835 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getAllNotifications executed in 2 ms
2025-04-19 04:17:05,835 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:05,836 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=10ms
2025-04-19 04:17:05,836 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:05,837 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=11ms
2025-04-19 04:17:06,844 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,844 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:06,844 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,844 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:06,845 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec, Method: GET
2025-04-19 04:17:06,845 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,845 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-19 04:17:06,845 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,846 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-19 04:17:06,846 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-19 04:17:06,846 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-19 04:17:06,847 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:06,849 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:06,849 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:06,849 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:06,850 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,850 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-19 04:17:06,850 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:06,850 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@10647b99, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,850 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-5] Authorized filter invocation [GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:06,850 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,866 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getChatSessionById with args: [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,876 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        chatsessio0_.id as id1_3_0_,
        chatsessio0_.ended_at as ended_at2_3_0_,
        chatsessio0_.last_message as last_mes3_3_0_,
        chatsessio0_.started_at as started_4_3_0_,
        chatsessio0_.status as status5_3_0_,
        chatsessio0_.unread_count as unread_c6_3_0_,
        chatsessio0_.user_id as user_id7_3_0_,
        chatsessio0_.user_name as user_nam8_3_0_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.id=?
2025-04-19 04:17:06,876 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,883 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getChatSessionById with result: [<200 OK OK,ChatSession(id=3927249d-181e-4e87-83c7-53d90e258eec, userId=3, userName=a1234, startedAt=2025-04-16T21:44:17, endedAt=null, status=ACTIVE, lastMessage=aasss, unreadCount=0),[]>]
2025-04-19 04:17:06,883 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getChatSessionById executed in 17 ms
2025-04-19 04:17:06,885 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:06,885 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=41ms
2025-04-19 04:17:06,887 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,888 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:06,888 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,888 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:06,888 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec, Method: GET
2025-04-19 04:17:06,888 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,888 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-19 04:17:06,888 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,889 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-19 04:17:06,889 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-19 04:17:06,889 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-19 04:17:06,890 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:06,890 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:06,891 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:06,891 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:06,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-19 04:17:06,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:06,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@14091927, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,892 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-3] Authorized filter invocation [GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:06,892 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,893 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getChatSessionById with args: [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,893 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        chatsessio0_.id as id1_3_0_,
        chatsessio0_.ended_at as ended_at2_3_0_,
        chatsessio0_.last_message as last_mes3_3_0_,
        chatsessio0_.started_at as started_4_3_0_,
        chatsessio0_.status as status5_3_0_,
        chatsessio0_.unread_count as unread_c6_3_0_,
        chatsessio0_.user_id as user_id7_3_0_,
        chatsessio0_.user_name as user_nam8_3_0_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.id=?
2025-04-19 04:17:06,894 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,895 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getChatSessionById with result: [<200 OK OK,ChatSession(id=3927249d-181e-4e87-83c7-53d90e258eec, userId=3, userName=a1234, startedAt=2025-04-16T21:44:17, endedAt=null, status=ACTIVE, lastMessage=aasss, unreadCount=0),[]>]
2025-04-19 04:17:06,895 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getChatSessionById executed in 2 ms
2025-04-19 04:17:06,896 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:06,896 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=8ms
2025-04-19 04:17:06,898 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,898 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:06,898 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,898 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:06,898 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec, Method: GET
2025-04-19 04:17:06,899 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,899 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-19 04:17:06,899 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,899 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-19 04:17:06,899 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:17:06,899 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:17:06,900 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:06,900 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:06,901 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:06,901 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:06,902 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,902 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:17:06,902 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:06,903 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@615a2291, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,903 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-1] Authorized filter invocation [GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:06,903 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,904 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getChatSessionById with args: [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,904 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        chatsessio0_.id as id1_3_0_,
        chatsessio0_.ended_at as ended_at2_3_0_,
        chatsessio0_.last_message as last_mes3_3_0_,
        chatsessio0_.started_at as started_4_3_0_,
        chatsessio0_.status as status5_3_0_,
        chatsessio0_.unread_count as unread_c6_3_0_,
        chatsessio0_.user_id as user_id7_3_0_,
        chatsessio0_.user_name as user_nam8_3_0_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.id=?
2025-04-19 04:17:06,905 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,905 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getChatSessionById with result: [<200 OK OK,ChatSession(id=3927249d-181e-4e87-83c7-53d90e258eec, userId=3, userName=a1234, startedAt=2025-04-16T21:44:17, endedAt=null, status=ACTIVE, lastMessage=aasss, unreadCount=0),[]>]
2025-04-19 04:17:06,905 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getChatSessionById executed in 1 ms
2025-04-19 04:17:06,907 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:06,907 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=9ms
2025-04-19 04:17:06,908 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /api/chat/messages/session/3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,909 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:06,909 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /api/chat/messages/session/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,909 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:06,909 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /api/chat/messages/session/3927249d-181e-4e87-83c7-53d90e258eec, Method: GET
2025-04-19 04:17:06,909 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,909 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-19 04:17:06,909 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,910 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-19 04:17:06,910 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-19 04:17:06,910 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-19 04:17:06,911 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:06,911 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:06,912 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:06,912 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:06,913 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,913 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-19 04:17:06,913 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:06,913 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1ee17774, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,913 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-8] Authorized filter invocation [GET /api/chat/messages/session/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:06,913 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /api/chat/messages/session/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,914 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getMessagesByChatSession with args: [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,914 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Getting messages for session 3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,917 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        chatmessag0_.id as id1_2_,
        chatmessag0_.chat_session_id as chat_ses2_2_,
        chatmessag0_.content as content3_2_,
        chatmessag0_.created_at as created_4_2_,
        chatmessag0_.is_read as is_read5_2_,
        chatmessag0_.receiver_id as receiver6_2_,
        chatmessag0_.sender_id as sender_i7_2_,
        chatmessag0_.sender_name as sender_n8_2_,
        chatmessag0_.sender_type as sender_t9_2_ 
    from
        chat_messages chatmessag0_ 
    where
        chatmessag0_.chat_session_id=? 
    order by
        chatmessag0_.created_at asc
2025-04-19 04:17:06,917 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,920 INFO com.example.tmdt.controller.ChatController [http-nio-8080-exec-8] Found 19 messages for session 3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,934 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getMessagesByChatSession with result: [<200 OK OK,[ChatMessage(id=433, content=aaa, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:17, read=true), ChatMessage(id=434, content=Connecting you to a support agent. Please wait a moment..., senderId=SYSTEM, senderName=System, receiverId=3, senderType=SYSTEM, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:17, read=true), ChatMessage(id=435, content=áddd, senderId=2, senderName=admin, receiverId=null, senderType=ADMIN, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:22, read=true), ChatMessage(id=436, content=asss, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:24, read=true), ChatMessage(id=437, content=Connecting you to a support agent. Please wait a moment..., senderId=SYSTEM, senderName=System, receiverId=3, senderType=SYSTEM, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:24, read=true), ChatMessage(id=438, content=aaaa, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:35, read=true), ChatMessage(id=439, content=aaa, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:39, read=true), ChatMessage(id=440, content=dâdawdadw, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:43, read=true), ChatMessage(id=441, content=ádds, senderId=2, senderName=admin, receiverId=null, senderType=ADMIN, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:48, read=true), ChatMessage(id=442, content=ádds, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-16T21:44:51, read=true), ChatMessage(id=443, content=b, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:04, read=true), ChatMessage(id=444, content=ds, senderId=2, senderName=admin, receiverId=null, senderType=ADMIN, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:10, read=true), ChatMessage(id=445, content=as, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:13, read=true), ChatMessage(id=446, content=da, senderId=2, senderName=admin, receiverId=null, senderType=ADMIN, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:21, read=true), ChatMessage(id=447, content=asss, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:24, read=true), ChatMessage(id=448, content=ak, senderId=2, senderName=admin, receiverId=null, senderType=ADMIN, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:35, read=true), ChatMessage(id=449, content=dsadsads, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:39, read=true), ChatMessage(id=450, content=as, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:53, read=true), ChatMessage(id=451, content=aasss, senderId=3, senderName=a1234, receiverId=null, senderType=USER, chatSessionId=3927249d-181e-4e87-83c7-53d90e258eec, createdAt=2025-04-19T04:07:58, read=true)],[]>]
2025-04-19 04:17:06,934 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getMessagesByChatSession executed in 20 ms
2025-04-19 04:17:06,940 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:06,940 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=31ms
2025-04-19 04:17:06,942 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,943 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:06,943 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,943 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:06,943 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec, Method: GET
2025-04-19 04:17:06,943 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,943 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-19 04:17:06,943 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,944 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-19 04:17:06,944 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-19 04:17:06,944 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-19 04:17:06,945 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:06,945 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:06,946 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:06,946 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:06,946 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,946 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-19 04:17:06,946 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:06,946 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@662e223f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,948 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-6] Authorized filter invocation [GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:06,948 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,948 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getChatSessionById with args: [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,949 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        chatsessio0_.id as id1_3_0_,
        chatsessio0_.ended_at as ended_at2_3_0_,
        chatsessio0_.last_message as last_mes3_3_0_,
        chatsessio0_.started_at as started_4_3_0_,
        chatsessio0_.status as status5_3_0_,
        chatsessio0_.unread_count as unread_c6_3_0_,
        chatsessio0_.user_id as user_id7_3_0_,
        chatsessio0_.user_name as user_nam8_3_0_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.id=?
2025-04-19 04:17:06,949 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,950 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getChatSessionById with result: [<200 OK OK,ChatSession(id=3927249d-181e-4e87-83c7-53d90e258eec, userId=3, userName=a1234, startedAt=2025-04-16T21:44:17, endedAt=null, status=ACTIVE, lastMessage=aasss, unreadCount=0),[]>]
2025-04-19 04:17:06,950 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getChatSessionById executed in 2 ms
2025-04-19 04:17:06,951 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:06,951 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=8ms
2025-04-19 04:17:06,963 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:06,963 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Microsoft Edge";v="135", "Not-A.Brand";v="8", "Chromium";v="135", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8
2025-04-19 04:17:06,964 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,964 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:06,964 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec, Method: GET
2025-04-19 04:17:06,964 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,964 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-19 04:17:06,964 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,964 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-19 04:17:06,965 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-19 04:17:06,965 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-19 04:17:06,966 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:06,966 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:06,967 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-1] REQUEST: GET /chat
2025-04-19 04:17:06,967 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:06,967 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-1] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=W7MMIi/Q/JfTZxIxtxBtsQ==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-04-19 04:17:06,967 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:06,968 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-1] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,968 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:06,968 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] Processing request to URL: /chat, Method: GET
2025-04-19 04:17:06,968 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] Authorization header: null
2025-04-19 04:17:06,968 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] Found token in URL parameter: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,968 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,969 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8089-exec-1] JWT token validation successful
2025-04-19 04:17:06,969 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,969 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8089-exec-1] Extracted username from JWT token: a1234
2025-04-19 04:17:06,969 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-19 04:17:06,969 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] Valid JWT token found for user: a1234
2025-04-19 04:17:06,969 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:06,969 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@fe330c2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,969 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8080-exec-7] Authorized filter invocation [GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3] with attributes [authenticated]
2025-04-19 04:17:06,969 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /api/chat/sessions/3927249d-181e-4e87-83c7-53d90e258eec?currentUserId=3
2025-04-19 04:17:06,969 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-1] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:06,970 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:06,970 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getChatSessionById with args: [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,970 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-1] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:06,971 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        chatsessio0_.id as id1_3_0_,
        chatsessio0_.ended_at as ended_at2_3_0_,
        chatsessio0_.last_message as last_mes3_3_0_,
        chatsessio0_.started_at as started_4_3_0_,
        chatsessio0_.status as status5_3_0_,
        chatsessio0_.unread_count as unread_c6_3_0_,
        chatsessio0_.user_id as user_id7_3_0_,
        chatsessio0_.user_name as user_nam8_3_0_ 
    from
        chat_sessions chatsessio0_ 
    where
        chatsessio0_.id=?
2025-04-19 04:17:06,971 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:06,971 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:06,972 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getChatSessionById with result: [<200 OK OK,ChatSession(id=3927249d-181e-4e87-83c7-53d90e258eec, userId=3, userName=a1234, startedAt=2025-04-16T21:44:17, endedAt=null, status=ACTIVE, lastMessage=aasss, unreadCount=0),[]>]
2025-04-19 04:17:06,972 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,972 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getChatSessionById executed in 2 ms
2025-04-19 04:17:06,972 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] User authorities: [ROLE_USER]
2025-04-19 04:17:06,972 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:06,972 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3839feb1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:06,972 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8089-exec-1] Authorized filter invocation [GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg] with attributes [authenticated]
2025-04-19 04:17:06,972 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-1] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:06,972 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:06,973 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=10ms
2025-04-19 04:17:07,030 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-1] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:07,030 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-1] RESPONSE: Status=101, Time=63ms
2025-04-19 04:17:07,048 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-2] REQUEST: GET /chat
2025-04-19 04:17:07,048 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-2] HEADERS: host=localhost:8089, connection=Upgrade, pragma=no-cache, cache-control=no-cache, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0, upgrade=websocket, origin=http://localhost:3000, sec-websocket-version=13, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, sec-websocket-key=YG8XD0Y5HAXBndOv2RYVxg==, sec-websocket-extensions=permessage-deflate; client_max_window_bits
2025-04-19 04:17:07,049 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8089-exec-2] Securing GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:07,049 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-19 04:17:07,049 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] Processing request to URL: /chat, Method: GET
2025-04-19 04:17:07,049 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] Authorization header: null
2025-04-19 04:17:07,049 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] Found token in URL parameter: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:07,049 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:07,049 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8089-exec-2] JWT token validation successful
2025-04-19 04:17:07,050 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8089-exec-2] Extracted username from JWT token: a1234
2025-04-19 04:17:07,050 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] Valid JWT token found for user: a1234
2025-04-19 04:17:07,051 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-2] 
    select
        user0_.id as id1_20_,
        user0_.address as address2_20_,
        user0_.email as email3_20_,
        user0_.full_name as full_nam4_20_,
        user0_.password as password5_20_,
        user0_.phone_number as phone_nu6_20_,
        user0_.username as username7_20_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-19 04:17:07,051 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-19 04:17:07,052 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-2] 
    select
        roles0_.user_id as user_id1_19_0_,
        roles0_.role_id as role_id2_19_0_,
        role1_.id as id1_14_1_,
        role1_.name as name2_14_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-19 04:17:07,052 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-19 04:17:07,053 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:07,053 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] User authorities: [ROLE_USER]
2025-04-19 04:17:07,053 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-19 04:17:07,053 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8089-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@113a8504, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-19 04:17:07,053 DEBUG org.springframework.security.access.intercept.AbstractSecurityInterceptor [http-nio-8089-exec-2] Authorized filter invocation [GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg] with attributes [authenticated]
2025-04-19 04:17:07,053 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8089-exec-2] Secured GET /chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:07,056 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8089-exec-2] Cleared SecurityContextHolder to complete request
2025-04-19 04:17:07,056 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8089-exec-2] RESPONSE: Status=101, Time=8ms
2025-04-19 04:17:07,062 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] WebSocket connection established: 00acae21-8c04-2897-7065-6197e65a254f
2025-04-19 04:17:07,062 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] WebSocket connection established: 0d09ddbb-fb3c-ab55-a364-23bb56126da4
2025-04-19 04:17:07,062 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Remote address: /[0:0:0:0:0:0:0:1]:64858
2025-04-19 04:17:07,062 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Remote address: /[0:0:0:0:0:0:0:1]:64857
2025-04-19 04:17:07,062 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:07,062 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] URI: ws://localhost:8089/chat?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg
2025-04-19 04:17:07,072 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Received message: {"type":"USER_CONNECT","userId":"3","username":"a1234","isAnonymous":false,"sessionId":"3927249d-181e-4e87-83c7-53d90e258eec","timestamp":1745011027058,"senderType":"USER","sender":"user","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg"}
2025-04-19 04:17:07,072 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Received message: {"type":"USER_CONNECT","userId":"3","username":"a1234","isAnonymous":false,"sessionId":"3927249d-181e-4e87-83c7-53d90e258eec","timestamp":1745011027032,"senderType":"USER","sender":"user","token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0NTAxMDA1MCwiZXhwIjoxNzQ1MDk2NDUwfQ.FsKPwgbp8KwvRkqinNJ14EIjA4yIUim6-zPr6voyblq6fTaGyVeuSua11bfeSjVabepmHmuAIpQUIy_rjSw9cg"}
2025-04-19 04:17:07,081 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] User connected: a1234 (3) isAnonymous: false
2025-04-19 04:17:07,081 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] User connected: a1234 (3) isAnonymous: false
2025-04-19 04:17:07,081 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Storing mappings for user 3 with session ID 3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:07,081 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Storing mappings for user 3 with session ID 3927249d-181e-4e87-83c7-53d90e258eec
2025-04-19 04:17:07,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-2] 
    select
        chatmessag0_.id as id1_2_,
        chatmessag0_.chat_session_id as chat_ses2_2_,
        chatmessag0_.content as content3_2_,
        chatmessag0_.created_at as created_4_2_,
        chatmessag0_.is_read as is_read5_2_,
        chatmessag0_.receiver_id as receiver6_2_,
        chatmessag0_.sender_id as sender_i7_2_,
        chatmessag0_.sender_name as sender_n8_2_,
        chatmessag0_.sender_type as sender_t9_2_ 
    from
        chat_messages chatmessag0_ 
    where
        chatmessag0_.chat_session_id=? 
    order by
        chatmessag0_.created_at asc
2025-04-19 04:17:07,120 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8089-exec-1] 
    select
        chatmessag0_.id as id1_2_,
        chatmessag0_.chat_session_id as chat_ses2_2_,
        chatmessag0_.content as content3_2_,
        chatmessag0_.created_at as created_4_2_,
        chatmessag0_.is_read as is_read5_2_,
        chatmessag0_.receiver_id as receiver6_2_,
        chatmessag0_.sender_id as sender_i7_2_,
        chatmessag0_.sender_name as sender_n8_2_,
        chatmessag0_.sender_type as sender_t9_2_ 
    from
        chat_messages chatmessag0_ 
    where
        chatmessag0_.chat_session_id=? 
    order by
        chatmessag0_.created_at asc
2025-04-19 04:17:07,121 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-1] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:07,121 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8089-exec-2] binding parameter [1] as [VARCHAR] - [3927249d-181e-4e87-83c7-53d90e258eec]
2025-04-19 04:17:07,121 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Sending 19 previous messages to user 3
2025-04-19 04:17:07,121 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Sending 19 previous messages to user 3
2025-04-19 04:17:07,124 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Notifying admins about new user: a1234 (3)
2025-04-19 04:17:07,124 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Notifying admins about new user: a1234 (3)
2025-04-19 04:17:07,125 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] Number of admin sessions: 0
2025-04-19 04:17:07,125 INFO com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] Number of admin sessions: 0
2025-04-19 04:17:07,125 WARN com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-2] No admin sessions available to receive new user notification
2025-04-19 04:17:07,125 WARN com.example.tmdt.websocket.ChatWebSocketHandler [http-nio-8089-exec-1] No admin sessions available to receive new user notification
2025-04-19 04:17:13,840 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Before cleanup stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:17:13,841 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - After cleanup  stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:17:13,841 DEBUG com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Fill pool skipped, pool is at sufficient level.
2025-04-19 04:17:13,884 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-04-19 04:17:13,884 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@12f4b3a2]]
2025-04-19 04:17:13,884 INFO org.springframework.core.log.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] WebSocket connection closed: 00acae21-8c04-2897-7065-6197e65a254f with status CloseStatus[code=1001, reason=The web application is stopping]
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Found chat session ID 3927249d-181e-4e87-83c7-53d90e258eec for closed WebSocket session
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] User 3 with session 3927249d-181e-4e87-83c7-53d90e258eec disconnected
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Notifying admins that user 3 has disconnected
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Current number of admin sessions: 0
2025-04-19 04:17:13,903 WARN com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] No admin sessions available to notify about user disconnect
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] WebSocket connection closed: 0d09ddbb-fb3c-ab55-a364-23bb56126da4 with status CloseStatus[code=1001, reason=The web application is stopping]
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Found chat session ID 3927249d-181e-4e87-83c7-53d90e258eec for closed WebSocket session
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] User 3 with session 3927249d-181e-4e87-83c7-53d90e258eec disconnected
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Notifying admins that user 3 has disconnected
2025-04-19 04:17:13,903 INFO com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] Current number of admin sessions: 0
2025-04-19 04:17:13,903 WARN com.example.tmdt.websocket.ChatWebSocketHandler [SpringApplicationShutdownHook] No admin sessions available to notify about user disconnect
2025-04-19 04:17:13,917 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-19 04:17:13,919 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-04-19 04:17:13,919 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - Before shutdown stats (total=5, active=0, idle=5, waiting=0)
2025-04-19 04:17:13,921 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@144ee8a7: (connection evicted)
2025-04-19 04:17:13,925 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@68f0560f: (connection evicted)
2025-04-19 04:17:13,926 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@27e9a00b: (connection evicted)
2025-04-19 04:17:13,926 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@696f8ef2: (connection evicted)
2025-04-19 04:17:13,926 DEBUG com.zaxxer.hikari.pool.PoolBase [HikariPool-1 connection closer] HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@4cc191e4: (connection evicted)
2025-04-19 04:17:13,927 DEBUG com.zaxxer.hikari.pool.HikariPool [SpringApplicationShutdownHook] HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)
2025-04-19 04:17:13,927 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
