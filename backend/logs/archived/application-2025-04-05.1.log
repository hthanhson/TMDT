2025-04-05 01:46:57,763 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /notifications/unread-count
2025-04-05 01:46:57,766 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:46:57,767 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /notifications/unread-count
2025-04-05 01:46:57,767 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:46:57,767 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:46:57,767 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:46:57,767 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:46:57,767 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:46:57,768 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:46:57,768 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:46:57,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:46:57,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:46:57,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:46:57,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:46:57,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:46:57,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:46:57,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:46:57,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:46:57,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@49e96756, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:46:57,773 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /notifications/unread-count
2025-04-05 01:46:57,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:46:57,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:46:57,776 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:46:57,776 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:46:57,776 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:46:57,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:46:57,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:46:57,778 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:46:57,778 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getUnreadCount executed in 2 ms
2025-04-05 01:46:57,779 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:46:57,779 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=16ms
2025-04-05 01:47:27,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /notifications/unread-count
2025-04-05 01:47:27,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:47:27,780 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /notifications/unread-count
2025-04-05 01:47:27,780 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:47:27,780 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:47:27,780 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:47:27,780 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:47:27,780 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:47:27,782 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:47:27,782 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:47:27,782 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:47:27,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:47:27,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:47:27,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:47:27,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:47:27,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:47:27,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:47:27,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:47:27,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2b9f92e8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:47:27,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /notifications/unread-count
2025-04-05 01:47:27,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:47:27,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:47:27,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:47:27,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:47:27,790 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:47:27,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:47:27,791 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:47:27,791 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:47:27,791 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getUnreadCount executed in 1 ms
2025-04-05 01:47:27,792 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:47:27,792 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=12ms
2025-04-05 01:47:57,773 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /notifications/unread-count
2025-04-05 01:47:57,774 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:47:57,774 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /notifications/unread-count
2025-04-05 01:47:57,774 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:47:57,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:47:57,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:47:57,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:47:57,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:47:57,775 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:47:57,775 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:47:57,775 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:47:57,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:47:57,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:47:57,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:47:57,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:47:57,778 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:47:57,778 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:47:57,779 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:47:57,779 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4dd85d3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:47:57,779 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /notifications/unread-count
2025-04-05 01:47:57,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:47:57,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:47:57,781 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:47:57,781 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:47:57,781 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:47:57,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:47:57,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:47:57,783 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:47:57,783 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getUnreadCount executed in 2 ms
2025-04-05 01:47:57,784 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:47:57,784 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=11ms
2025-04-05 01:48:03,800 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications
2025-04-05 01:48:03,801 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:03,801 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications
2025-04-05 01:48:03,801 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:03,801 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/top
2025-04-05 01:48:03,802 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /notifications, Method: GET
2025-04-05 01:48:03,802 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/top?limit=6
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,802 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,802 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:48:03,803 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:48:03,803 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:48:03,803 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:48:03,803 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:48:03,803 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:48:03,804 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:03,804 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:03,805 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:03,805 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:03,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:03,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:03,806 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,806 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:48:03,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:48:03,810 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:03,810 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:03,810 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@20b4cdf4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,810 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@576ea10c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,810 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/top?limit=6
2025-04-05 01:48:03,810 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications
2025-04-05 01:48:03,810 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getTopProducts
2025-04-05 01:48:03,811 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:03,811 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:03,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,811 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:03,812 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:03,812 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,812 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:03,812 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:03,813 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        notificati0_.id as id1_3_,
        notificati0_.created_at as created_2_3_,
        notificati0_.is_read as is_read3_3_,
        notificati0_.message as message4_3_,
        notificati0_.reference_id as referenc5_3_,
        notificati0_.title as title6_3_,
        notificati0_.type as type7_3_,
        notificati0_.user_id as user_id8_3_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-05 01:48:03,813 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:03,813 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,813 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,814 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:03,816 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), title=Äáº·t hÃ ng thÃ nh cÃ´ng, message=ÄÆ¡n hÃ ng #20 cá»§a báº¡n ÄÃ£ ÄÆ°á»£c Äáº·t thÃ nh cÃ´ng. Tá»ng tiá»n: 1299.99 VND. Cáº£m Æ¡n báº¡n ÄÃ£ mua sáº¯m!, type=ORDER_STATUS_CHANGE, referenceId=20, isRead=true, createdAt=2025-04-04T23:50:35), Notification(id=9, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), title=Äáº·t hÃ ng thÃ nh cÃ´ng, message=ÄÆ¡n hÃ ng #23 cá»§a báº¡n ÄÃ£ ÄÆ°á»£c Äáº·t thÃ nh cÃ´ng. Tá»ng tiá»n: 879.9912 VND. Cáº£m Æ¡n báº¡n ÄÃ£ mua sáº¯m!, type=ORDER_STATUS_CHANGE, referenceId=23, isRead=true, createdAt=2025-04-05T00:46:20)],[]>]
2025-04-05 01:48:03,816 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getAllNotifications executed in 4 ms
2025-04-05 01:48:03,816 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:03,817 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:03,817 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=17ms
2025-04-05 01:48:03,818 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:03,818 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getTopProducts executed in 8 ms
2025-04-05 01:48:03,819 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,821 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,822 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,824 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications
2025-04-05 01:48:03,824 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:03,824 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications
2025-04-05 01:48:03,824 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:03,824 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /notifications, Method: GET
2025-04-05 01:48:03,825 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,825 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:48:03,825 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,825 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:48:03,825 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:03,828 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:48:03,828 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:48:03,828 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:03,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:03,829 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,830 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:03,830 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:03,830 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:03,831 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,831 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:03,831 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,832 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:03,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,832 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:48:03,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:03,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2a472b29, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,833 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications
2025-04-05 01:48:03,833 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,834 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:03,835 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:03,835 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,836 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,836 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:03,837 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:03,838 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,838 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:03,838 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:03,838 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,839 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        notificati0_.id as id1_3_,
        notificati0_.created_at as created_2_3_,
        notificati0_.is_read as is_read3_3_,
        notificati0_.message as message4_3_,
        notificati0_.reference_id as referenc5_3_,
        notificati0_.title as title6_3_,
        notificati0_.type as type7_3_,
        notificati0_.user_id as user_id8_3_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-05 01:48:03,839 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,839 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,840 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,840 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:03,841 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=40ms
2025-04-05 01:48:03,840 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), title=Äáº·t hÃ ng thÃ nh cÃ´ng, message=ÄÆ¡n hÃ ng #20 cá»§a báº¡n ÄÃ£ ÄÆ°á»£c Äáº·t thÃ nh cÃ´ng. Tá»ng tiá»n: 1299.99 VND. Cáº£m Æ¡n báº¡n ÄÃ£ mua sáº¯m!, type=ORDER_STATUS_CHANGE, referenceId=20, isRead=true, createdAt=2025-04-04T23:50:35), Notification(id=9, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), title=Äáº·t hÃ ng thÃ nh cÃ´ng, message=ÄÆ¡n hÃ ng #23 cá»§a báº¡n ÄÃ£ ÄÆ°á»£c Äáº·t thÃ nh cÃ´ng. Tá»ng tiá»n: 879.9912 VND. Cáº£m Æ¡n báº¡n ÄÃ£ mua sáº¯m!, type=ORDER_STATUS_CHANGE, referenceId=23, isRead=true, createdAt=2025-04-05T00:46:20)],[]>]
2025-04-05 01:48:03,841 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getAllNotifications executed in 3 ms
2025-04-05 01:48:03,842 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:03,843 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=20ms
2025-04-05 01:48:03,843 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/top
2025-04-05 01:48:03,843 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:03,843 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/top?limit=6
2025-04-05 01:48:03,843 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:03,844 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:03,844 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,844 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:48:03,844 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,844 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:48:03,845 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:48:03,845 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:48:03,846 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:03,847 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:03,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:03,849 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,850 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,851 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:48:03,851 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:03,851 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@26a1bba2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,851 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/top?limit=6
2025-04-05 01:48:03,852 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getTopProducts
2025-04-05 01:48:03,853 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:03,854 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:03,854 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,855 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:03,856 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,857 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:03,857 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:03,859 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:03,859 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getTopProducts executed in 7 ms
2025-04-05 01:48:03,860 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,860 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,861 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,861 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,862 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:03,863 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:03,864 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,864 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:03,865 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,865 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:03,866 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:03,866 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:03,867 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,868 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:03,869 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,870 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:03,871 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:03,871 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:03,873 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,874 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:03,874 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=31ms
2025-04-05 01:48:03,890 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications/unread-count
2025-04-05 01:48:03,891 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:03,891 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications/unread-count
2025-04-05 01:48:03,891 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:03,891 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:48:03,891 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:48:03,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:03,892 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:48:03,892 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:48:03,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:48:03,893 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:03,893 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:03,894 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:03,894 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,895 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,895 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:48:03,896 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:03,896 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@41a04b1a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:03,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications/unread-count
2025-04-05 01:48:03,897 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:03,898 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,900 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:03,900 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:03,901 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:03,901 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:48:03,901 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:03,903 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:48:03,903 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getUnreadCount executed in 2 ms
2025-04-05 01:48:03,904 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:03,904 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=14ms
2025-04-05 01:48:09,133 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-05 01:48:09,135 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-04-05 01:48:09,142 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-04-05 01:48:12,313 INFO org.springframework.boot.StartupInfoLogger [main] Starting TmdtApplication using Java 17.0.12 on MyPC with PID 7612 (E:\tmdt\TMDT\backend\target\classes started by leloi in E:\tmdt\TMDT\backend)
2025-04-05 01:48:12,315 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-04-05 01:48:12,867 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-05 01:48:12,931 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 57 ms. Found 15 JPA repository interfaces.
2025-04-05 01:48:13,483 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2025-04-05 01:48:13,489 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-05 01:48:13,491 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2025-04-05 01:48:13,491 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-04-05 01:48:13,579 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2025-04-05 01:48:13,579 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1235 ms
2025-04-05 01:48:13,990 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2025-04-05 01:48:14,099 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2025-04-05 01:48:14,722 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-05 01:48:15,132 DEBUG org.springframework.web.filter.GenericFilterBean [main] Filter 'authenticationJwtTokenFilter' configured for use
2025-04-05 01:48:16,304 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@641001c2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@468dbd07, org.springframework.security.web.context.SecurityContextPersistenceFilter@2fc51562, org.springframework.security.web.header.HeaderWriterFilter@1c63b39a, org.springframework.web.filter.CorsFilter@77cca767, org.springframework.security.web.authentication.logout.LogoutFilter@4ce9985f, com.example.tmdt.security.jwt.AuthTokenFilter@501956f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a9e44ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f8e1096, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fedae96, org.springframework.security.web.session.SessionManagementFilter@64ee9290, org.springframework.security.web.access.ExceptionTranslationFilter@50177966, org.springframework.security.web.access.intercept.AuthorizationFilter@119f02d2]
2025-04-05 01:48:16,376 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-05 01:48:16,460 INFO com.example.tmdt.config.WebMvcConfig [main] Added CurrentUserArgumentResolver to Spring MVC
2025-04-05 01:48:16,827 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2025-04-05 01:48:16,844 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2025-04-05 01:48:16,851 INFO org.springframework.boot.StartupInfoLogger [main] Started TmdtApplication in 4.923 seconds (JVM running for 5.56)
2025-04-05 01:48:16,868 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [main] 
    select
        count(*) as col_0_0_ 
    from
        roles role0_
2025-04-05 01:48:21,267 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-05 01:48:21,267 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2025-04-05 01:48:21,268 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2025-04-05 01:48:21,274 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products
2025-04-05 01:48:21,274 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products/recommended
2025-04-05 01:48:21,274 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /categories
2025-04-05 01:48:21,274 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/top
2025-04-05 01:48:21,274 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /wishlist
2025-04-05 01:48:21,275 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,275 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,275 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,275 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,275 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,280 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /categories
2025-04-05 01:48:21,280 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /wishlist
2025-04-05 01:48:21,280 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products?sort=newest
2025-04-05 01:48:21,280 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/top?limit=4
2025-04-05 01:48:21,280 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products/recommended?limit=4
2025-04-05 01:48:21,283 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,283 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,283 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,283 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,283 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,295 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,295 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:48:21,295 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products, Method: GET
2025-04-05 01:48:21,295 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /categories, Method: GET
2025-04-05 01:48:21,295 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,296 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,342 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:48:21,342 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:48:21,342 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:48:21,342 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:48:21,342 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:48:21,343 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:48:21,343 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:48:21,343 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:48:21,343 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:48:21,343 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:48:21,344 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:48:21,344 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:48:21,344 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:48:21,344 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:48:21,344 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:48:21,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,402 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,402 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,402 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,402 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,402 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,403 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:48:21,403 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:48:21,403 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:48:21,403 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:48:21,403 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3e91dadf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@17e7951d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5dc4b5fd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@407bcaeb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@434965ce, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,406 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /categories
2025-04-05 01:48:21,406 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products?sort=newest
2025-04-05 01:48:21,406 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products/recommended?limit=4
2025-04-05 01:48:21,406 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /wishlist
2025-04-05 01:48:21,406 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/top?limit=4
2025-04-05 01:48:21,420 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getAllCategories
2025-04-05 01:48:21,420 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getAllProducts
2025-04-05 01:48:21,420 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getTopProducts
2025-04-05 01:48:21,422 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:48:21,425 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,425 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:48:21,428 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:48:21,428 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:48:21,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,430 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,430 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,430 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,441 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:48:21,441 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getAllCategories executed in 22 ms
2025-04-05 01:48:21,452 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,452 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28)],[]>]
2025-04-05 01:48:21,452 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,453 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getRecommendedProducts executed in 31 ms
2025-04-05 01:48:21,453 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getTopProducts executed in 34 ms
2025-04-05 01:48:21,453 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getAllProducts executed in 34 ms
2025-04-05 01:48:21,460 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:48:21,463 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:21,466 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-3] Get wishlist request for user: 3
2025-04-05 01:48:21,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:48:21,471 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:21,476 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,479 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,479 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,482 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@5295d3fa],[]>]
2025-04-05 01:48:21,483 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getWishlist executed in 23 ms
2025-04-05 01:48:21,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,487 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,490 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,492 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,492 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=221ms
2025-04-05 01:48:21,493 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,494 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,498 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,498 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=227ms
2025-04-05 01:48:21,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,497 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /wishlist
2025-04-05 01:48:21,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,498 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,500 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,500 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /wishlist
2025-04-05 01:48:21,500 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,501 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:48:21,501 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,501 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:48:21,501 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,503 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:48:21,504 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:48:21,505 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:48:21,506 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /categories
2025-04-05 01:48:21,507 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,509 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /categories
2025-04-05 01:48:21,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,509 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,510 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,510 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,510 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,510 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,510 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,510 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /categories, Method: GET
2025-04-05 01:48:21,510 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,511 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:48:21,511 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,511 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,512 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,512 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,512 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,512 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,513 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:48:21,515 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:48:21,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,516 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:48:21,516 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,516 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,516 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,516 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:48:21,516 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,516 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@59e0d276, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,517 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /wishlist
2025-04-05 01:48:21,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,519 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,519 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,519 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,519 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,520 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,523 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,523 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,524 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,524 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,524 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,528 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,528 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:48:21,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,528 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,529 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@216da8ef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,529 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,529 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /categories
2025-04-05 01:48:21,529 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,529 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,530 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getAllCategories
2025-04-05 01:48:21,530 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:48:21,531 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:48:21,531 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:21,532 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-6] Get wishlist request for user: 3
2025-04-05 01:48:21,532 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,532 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,532 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=261ms
2025-04-05 01:48:21,533 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:48:21,533 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,534 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,534 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:48:21,535 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,536 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=265ms
2025-04-05 01:48:21,536 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,537 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=266ms
2025-04-05 01:48:21,538 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/recommended
2025-04-05 01:48:21,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:21,539 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,539 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,539 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/recommended?limit=4
2025-04-05 01:48:21,539 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,541 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:48:21,541 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,542 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:48:21,542 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,543 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,543 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/top
2025-04-05 01:48:21,543 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,543 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:48:21,543 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:48:21,543 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getAllCategories executed in 13 ms
2025-04-05 01:48:21,543 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,544 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/top?limit=4
2025-04-05 01:48:21,544 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products
2025-04-05 01:48:21,544 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,544 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,544 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products?sort=newest
2025-04-05 01:48:21,544 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,544 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products, Method: GET
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:48:21,546 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:48:21,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:48:21,547 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@1eb77047],[]>]
2025-04-05 01:48:21,547 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,547 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getWishlist executed in 16 ms
2025-04-05 01:48:21,549 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:48:21,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,549 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:48:21,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,550 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:48:21,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,550 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,550 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=53ms
2025-04-05 01:48:21,550 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:48:21,551 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:48:21,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,552 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:48:21,552 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,553 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,553 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,554 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,554 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:48:21,555 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,555 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,556 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,556 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,557 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,557 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,557 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:48:21,557 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=52ms
2025-04-05 01:48:21,557 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,557 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,558 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7800193e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,558 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/recommended?limit=4
2025-04-05 01:48:21,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,559 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,559 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:48:21,561 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,563 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,563 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:48:21,563 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,563 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@520c9e81, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,564 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/top?limit=4
2025-04-05 01:48:21,564 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,564 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:48:21,564 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,564 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3dd95525, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,564 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products?sort=newest
2025-04-05 01:48:21,564 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getTopProducts
2025-04-05 01:48:21,566 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getAllProducts
2025-04-05 01:48:21,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,567 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:48:21,570 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,571 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,571 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,571 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,574 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,574 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,574 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,577 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,577 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,577 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,578 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getRecommendedProducts executed in 19 ms
2025-04-05 01:48:21,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,578 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,578 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,579 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,579 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,579 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getTopProducts executed in 15 ms
2025-04-05 01:48:21,580 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28)],[]>]
2025-04-05 01:48:21,580 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getAllProducts executed in 14 ms
2025-04-05 01:48:21,580 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,581 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,581 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,582 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,585 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,585 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,584 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,585 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,585 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,585 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,587 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,587 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,587 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,588 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,588 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,588 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,591 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,591 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,591 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,591 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,591 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,591 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,594 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,594 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,594 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,595 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,595 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,595 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,598 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,599 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,599 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,601 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,601 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,601 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,601 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,602 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,602 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,604 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,604 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,604 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,605 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,605 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,605 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,607 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,606 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,606 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,607 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,607 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,607 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,608 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,608 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,608 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,609 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,609 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,609 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,610 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,610 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,610 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=66ms
2025-04-05 01:48:21,610 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=67ms
2025-04-05 01:48:21,611 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,611 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=73ms
2025-04-05 01:48:21,612 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /products/top
2025-04-05 01:48:21,612 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,613 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /products/top?limit=4
2025-04-05 01:48:21,613 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:48:21,614 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,615 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:48:21,615 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:48:21,616 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:48:21,617 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,617 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,618 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,618 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,620 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,620 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:48:21,620 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,620 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2218a8e4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,620 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /products/top?limit=4
2025-04-05 01:48:21,621 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getTopProducts
2025-04-05 01:48:21,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,628 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,629 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,629 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getTopProducts executed in 8 ms
2025-04-05 01:48:21,630 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,630 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,631 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,633 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,633 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,635 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,636 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,638 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,638 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,640 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,640 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,641 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,641 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,642 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,642 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,644 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,645 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,646 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,647 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,649 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,649 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=37ms
2025-04-05 01:48:21,650 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products/top
2025-04-05 01:48:21,650 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,651 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products/top?limit=4
2025-04-05 01:48:21,651 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,651 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,651 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,651 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:48:21,651 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,652 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:48:21,652 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:48:21,653 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:48:21,654 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,654 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,655 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,655 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,657 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,657 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:48:21,657 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,657 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4918fc19, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,658 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products/top?limit=4
2025-04-05 01:48:21,658 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getTopProducts
2025-04-05 01:48:21,659 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,661 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,661 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,662 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,662 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,664 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,664 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,666 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,666 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getTopProducts executed in 8 ms
2025-04-05 01:48:21,667 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,667 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,668 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,669 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,670 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,670 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,671 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,671 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,673 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,673 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,675 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,675 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,677 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,677 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,678 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,678 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,680 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,680 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,681 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,682 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,683 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,683 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=33ms
2025-04-05 01:48:21,685 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products/top
2025-04-05 01:48:21,685 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,685 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products/top?limit=4
2025-04-05 01:48:21,685 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:48:21,686 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,687 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:48:21,688 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:48:21,688 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:48:21,689 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,689 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,690 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,691 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,692 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,692 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:48:21,693 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,693 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3e53f7c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,693 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products/top?limit=4
2025-04-05 01:48:21,694 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getTopProducts
2025-04-05 01:48:21,694 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,696 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,697 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,699 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,699 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,701 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,701 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,704 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,704 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getTopProducts executed in 10 ms
2025-04-05 01:48:21,705 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,706 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,708 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,708 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,710 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,710 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,712 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,712 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,714 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,716 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,717 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,718 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,719 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,722 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,722 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,723 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,724 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,725 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,726 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,728 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,728 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=44ms
2025-04-05 01:48:21,732 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/top
2025-04-05 01:48:21,732 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,733 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/top?limit=4
2025-04-05 01:48:21,733 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,734 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,734 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,734 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:48:21,734 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,736 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:48:21,736 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:48:21,737 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:48:21,738 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,738 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,740 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,740 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,744 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,744 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:48:21,744 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,744 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@9120cd3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,745 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/top?limit=4
2025-04-05 01:48:21,746 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getTopProducts
2025-04-05 01:48:21,747 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,750 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,750 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,754 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,755 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,758 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,758 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,760 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,760 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getTopProducts executed in 14 ms
2025-04-05 01:48:21,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,764 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,765 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,767 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,773 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,773 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,778 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,787 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,788 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=56ms
2025-04-05 01:48:21,789 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products/top
2025-04-05 01:48:21,790 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,790 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products/top?limit=4
2025-04-05 01:48:21,790 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:48:21,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,792 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:48:21,792 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:48:21,792 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:48:21,793 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,794 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,795 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,795 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,798 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,798 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:48:21,798 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,798 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@680d5b16, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,798 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products/top?limit=4
2025-04-05 01:48:21,799 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getTopProducts
2025-04-05 01:48:21,799 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,803 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,804 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,806 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,806 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,809 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,809 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getTopProducts executed in 10 ms
2025-04-05 01:48:21,810 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,811 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,812 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,813 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,814 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,815 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,817 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,819 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,820 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,822 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,824 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,825 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,826 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,827 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,827 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,827 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,828 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,830 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,830 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=41ms
2025-04-05 01:48:21,831 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/top
2025-04-05 01:48:21,831 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:21,832 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/top?limit=4
2025-04-05 01:48:21,832 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:21,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products/top, Method: GET
2025-04-05 01:48:21,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,833 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:48:21,833 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:21,833 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:48:21,834 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:48:21,841 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:48:21,843 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:21,843 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:21,844 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:21,844 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,846 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,846 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:48:21,846 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:21,846 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2251e408, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:21,846 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/top?limit=4
2025-04-05 01:48:21,847 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getTopProducts
2025-04-05 01:48:21,847 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:48:21,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,849 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,849 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,850 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,850 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:48:21,850 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,851 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=151, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-04T17:51:28), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:48:21,851 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getTopProducts executed in 4 ms
2025-04-05 01:48:21,851 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,852 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,854 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,854 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,856 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,856 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,857 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,858 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,859 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,860 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:21,861 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:21,861 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:21,863 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,863 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,864 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,865 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:21,866 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:21,866 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,867 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:21,868 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:21,869 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:21,869 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=38ms
2025-04-05 01:48:25,100 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons/my-coupons
2025-04-05 01:48:25,100 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:25,100 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons/my-coupons
2025-04-05 01:48:25,100 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:25,100 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-05 01:48:25,102 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:25,102 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:48:25,102 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:25,103 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:48:25,104 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:48:25,104 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:48:25,105 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:25,105 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:25,106 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:25,106 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:25,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:25,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:48:25,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:25,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4a7669c0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:25,108 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons/my-coupons
2025-04-05 01:48:25,110 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:25,111 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:25,112 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:48:25,112 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:48:25,113 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:25,118 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting coupons for user: 3
2025-04-05 01:48:25,125 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-05 01:48:25,125 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:25,126 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [BOOLEAN] - [true]
2025-04-05 01:48:25,126 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [3] as [TIMESTAMP] - [2025-04-05T01:48:25.122636]
2025-04-05 01:48:25,138 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), Coupon(id=4, code=d, description=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=ONE_TIME, discountType=PERCENTAGE, discountValue=1.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T16:44:59, endDate=2025-05-04T16:44:59, isActive=true, createdAt=2025-04-04T23:45:10, updatedAt=2025-04-04T23:45:17, expiryDate=2025-05-04T16:44:59)],[]>]
2025-04-05 01:48:25,139 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getMyCoupons executed in 27 ms
2025-04-05 01:48:25,143 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:25,143 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=44ms
2025-04-05 01:48:25,145 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /coupons/my-coupons
2025-04-05 01:48:25,146 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:25,146 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /coupons/my-coupons
2025-04-05 01:48:25,146 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:25,146 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-05 01:48:25,147 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:25,147 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:48:25,147 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:25,147 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:48:25,148 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:48:25,148 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:48:25,149 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:25,149 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:25,150 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:25,150 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:25,153 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:25,154 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:48:25,154 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:25,154 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@614bb504, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:25,154 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /coupons/my-coupons
2025-04-05 01:48:25,155 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:25,155 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:25,156 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:48:25,157 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:48:25,157 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:25,157 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-9] Getting coupons for user: 3
2025-04-05 01:48:25,158 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-05 01:48:25,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:25,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [2] as [BOOLEAN] - [true]
2025-04-05 01:48:25,159 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [3] as [TIMESTAMP] - [2025-04-05T01:48:25.157273700]
2025-04-05 01:48:25,160 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), Coupon(id=4, code=d, description=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=ONE_TIME, discountType=PERCENTAGE, discountValue=1.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T16:44:59, endDate=2025-05-04T16:44:59, isActive=true, createdAt=2025-04-04T23:45:10, updatedAt=2025-04-04T23:45:17, expiryDate=2025-05-04T16:44:59)],[]>]
2025-04-05 01:48:25,161 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getMyCoupons executed in 4 ms
2025-04-05 01:48:25,162 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:25,162 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=17ms
2025-04-05 01:48:33,899 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications/unread-count
2025-04-05 01:48:33,899 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:33,900 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications/unread-count
2025-04-05 01:48:33,900 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:33,901 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:48:33,902 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:33,902 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:48:33,903 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:33,904 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:48:33,905 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:48:33,905 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:48:33,907 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:33,907 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:33,908 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:33,909 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:33,911 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:33,911 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:48:33,911 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:33,911 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@cf2e119, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:33,911 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications/unread-count
2025-04-05 01:48:33,913 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:33,913 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:33,915 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:33,916 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:33,916 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:33,924 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:48:33,925 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:33,926 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:48:33,926 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getUnreadCount executed in 10 ms
2025-04-05 01:48:33,928 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:33,928 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=29ms
2025-04-05 01:48:35,101 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing POST /coupons/verify
2025-04-05 01:48:35,102 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:35,102 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /coupons/verify, Method: POST
2025-04-05 01:48:35,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:35,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:48:35,103 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:35,103 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:48:35,104 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:48:35,104 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:48:35,105 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:35,105 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:35,106 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:35,106 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:35,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:35,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:48:35,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:35,108 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@70f69a6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:35,109 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured POST /coupons/verify
2025-04-05 01:48:35,111 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:35,111 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:35,133 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:48:35,134 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.verifyCoupon(com.example.tmdt.model.User,com.example.tmdt.payload.request.CouponVerifyRequest); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:48:35,135 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING verifyCoupon with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), CouponVerifyRequest(code=c, orderAmount=49.99)]
2025-04-05 01:48:35,135 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-8] Verifying coupon: c for user: 3
2025-04-05 01:48:35,138 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-05 01:48:35,138 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [c]
2025-04-05 01:48:35,142 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING verifyCoupon with result: [<200 OK OK,{valid=true, coupon=Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), message=Coupon is valid},[]>]
2025-04-05 01:48:35,143 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method verifyCoupon executed in 8 ms
2025-04-05 01:48:35,148 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:35,149 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: POST /coupons/verify
2025-04-05 01:48:35,149 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, content-length=32, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:35,149 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=0ms
2025-04-05 01:48:40,627 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing POST /orders
2025-04-05 01:48:40,627 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:40,628 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /orders, Method: POST
2025-04-05 01:48:40,628 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:40,628 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:48:40,628 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:40,629 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:48:40,629 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:48:40,629 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:48:40,630 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:40,631 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:40,631 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:40,632 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:40,633 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:40,633 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:48:40,634 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:40,634 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3f305d9d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:40,634 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured POST /orders
2025-04-05 01:48:40,639 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest); target is of class [com.example.tmdt.controller.OrderController]
2025-04-05 01:48:40,640 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.createOrder(com.example.tmdt.payload.request.OrderRequest); target is of class [com.example.tmdt.controller.OrderController]
2025-04-05 01:48:40,642 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING createOrder with args: [OrderRequest(items=[OrderItemRequest(productId=4, quantity=1)], shippingAddress=a, 123a, 123, paymentMethod=cod, couponCode=c, total=43.9912)]
2025-04-05 01:48:40,648 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:40,649 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:40,650 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:40,650 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:40,657 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:40,658 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:40,671 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-05 01:48:40,673 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [c]
2025-04-05 01:48:40,675 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.code=?
2025-04-05 01:48:40,675 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [c]
2025-04-05 01:48:40,686 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    insert 
    into
        orders
        (coupon_id, created_at, discount_amount, payment_method, payment_status, shipping_address, status, total_amount, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-05 01:48:40,687 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:40,687 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [TIMESTAMP] - [2025-04-05T01:48:40.680071100]
2025-04-05 01:48:40,688 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [NUMERIC] - [5.9988]
2025-04-05 01:48:40,688 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [4] as [VARCHAR] - [cod]
2025-04-05 01:48:40,688 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [5] as [VARCHAR] - [PENDING]
2025-04-05 01:48:40,688 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [6] as [VARCHAR] - [a, 123a, 123]
2025-04-05 01:48:40,688 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [7] as [VARCHAR] - [PENDING]
2025-04-05 01:48:40,688 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [8] as [NUMERIC] - [43.9912]
2025-04-05 01:48:40,689 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [9] as [TIMESTAMP] - [2025-04-05T01:48:40.680071100]
2025-04-05 01:48:40,689 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [10] as [BIGINT] - [3]
2025-04-05 01:48:40,704 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    insert 
    into
        order_items
        (order_id, price, product_id, product_image_url, product_name, quantity) 
    values
        (?, ?, ?, ?, ?, ?)
2025-04-05 01:48:40,704 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [26]
2025-04-05 01:48:40,705 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [NUMERIC] - [49.99]
2025-04-05 01:48:40,705 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [BIGINT] - [4]
2025-04-05 01:48:40,705 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [4] as [VARCHAR] - [https://example.com/dress.jpg]
2025-04-05 01:48:40,705 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [5] as [VARCHAR] - [Summer Dress]
2025-04-05 01:48:40,706 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [6] as [INTEGER] - [1]
2025-04-05 01:48:40,713 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    update
        products 
    set
        average_rating=?,
        category_id=?,
        created_at=?,
        description=?,
        discount_percentage=?,
        image_url=?,
        is_featured=?,
        name=?,
        price=?,
        review_count=?,
        sold_count=?,
        stock=?,
        updated_at=? 
    where
        id=?
2025-04-05 01:48:40,714 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [DOUBLE] - [4.7]
2025-04-05 01:48:40,714 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [BIGINT] - [4]
2025-04-05 01:48:40,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [TIMESTAMP] - [2025-04-02T16:06:04]
2025-04-05 01:48:40,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [4] as [VARCHAR] - [Light and breezy summer dress]
2025-04-05 01:48:40,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [5] as [DOUBLE] - [15.0]
2025-04-05 01:48:40,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [6] as [VARCHAR] - [https://example.com/dress.jpg]
2025-04-05 01:48:40,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [7] as [BOOLEAN] - [true]
2025-04-05 01:48:40,715 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [8] as [VARCHAR] - [Summer Dress]
2025-04-05 01:48:40,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [9] as [DOUBLE] - [49.99]
2025-04-05 01:48:40,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [10] as [INTEGER] - [180]
2025-04-05 01:48:40,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [11] as [INTEGER] - [800]
2025-04-05 01:48:40,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [12] as [INTEGER] - [150]
2025-04-05 01:48:40,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [13] as [TIMESTAMP] - [2025-04-05T01:48:40.707905700]
2025-04-05 01:48:40,716 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [14] as [BIGINT] - [4]
2025-04-05 01:48:40,725 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING createOrder with result: [<200 OK OK,Order(id=26, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=43.9912, status=PENDING, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), discountAmount=5.9988, createdAt=2025-04-05T01:48:40.680071100, updatedAt=2025-04-05T01:48:40.680071100),[]>]
2025-04-05 01:48:40,726 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method createOrder executed in 86 ms
2025-04-05 01:48:40,729 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:40,730 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:40,731 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:40,731 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:40,732 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:40,734 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: POST /orders
2025-04-05 01:48:40,734 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, content-length=128, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", content-type=application/json, sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:40,734 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=0ms
2025-04-05 01:48:43,402 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /orders/my-orders
2025-04-05 01:48:43,402 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:43,403 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /orders/my-orders
2025-04-05 01:48:43,403 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:43,403 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /orders/my-orders, Method: GET
2025-04-05 01:48:43,403 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:43,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:48:43,404 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:43,404 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:48:43,405 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:48:43,405 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:48:43,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:43,408 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:43,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:43,409 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,411 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:43,411 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:48:43,411 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:43,411 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3b92e63b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:43,412 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /orders/my-orders
2025-04-05 01:48:43,413 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-05 01:48:43,414 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-4] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-05 01:48:43,414 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getCurrentUserOrders
2025-04-05 01:48:43,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:43,415 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:43,416 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:43,416 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        order0_.id as id1_5_,
        order0_.coupon_id as coupon_10_5_,
        order0_.created_at as created_2_5_,
        order0_.discount_amount as discount3_5_,
        order0_.payment_method as payment_4_5_,
        order0_.payment_status as payment_5_5_,
        order0_.shipping_address as shipping6_5_,
        order0_.status as status7_5_,
        order0_.total_amount as total_am8_5_,
        order0_.updated_at as updated_9_5_,
        order0_.user_id as user_id11_5_ 
    from
        orders order0_ 
    where
        order0_.user_id=? 
    order by
        order0_.created_at desc
2025-04-05 01:48:43,421 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,424 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        coupon0_.id as id1_1_0_,
        coupon0_.code as code2_1_0_,
        coupon0_.created_at as created_3_1_0_,
        coupon0_.description as descript4_1_0_,
        coupon0_.discount_type as discount5_1_0_,
        coupon0_.discount_value as discount6_1_0_,
        coupon0_.end_date as end_date7_1_0_,
        coupon0_.expiry_date as expiry_d8_1_0_,
        coupon0_.is_active as is_activ9_1_0_,
        coupon0_.min_purchase_amount as min_pur10_1_0_,
        coupon0_.start_date as start_d11_1_0_,
        coupon0_.type as type12_1_0_,
        coupon0_.updated_at as updated13_1_0_,
        coupon0_.used_count as used_co14_1_0_,
        coupon0_.user_id as user_id15_1_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-05 01:48:43,424 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,426 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getCurrentUserOrders with result: [<200 OK OK,[Order(id=26, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=43.99, status=PENDING, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), discountAmount=6.00, createdAt=2025-04-05T01:48:40, updatedAt=2025-04-05T01:48:40), Order(id=25, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=29.99, status=PENDING, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), discountAmount=3.60, createdAt=2025-04-05T01:44:15, updatedAt=2025-04-05T01:44:15), Order(id=24, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T01:29:55, updatedAt=2025-04-05T01:30:15), Order(id=23, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=879.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T00:46:20, updatedAt=2025-04-05T01:40:01), Order(id=22, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=26.39, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T00:34:02, updatedAt=2025-04-05T00:37:44), Order(id=21, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=29.69, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T00:24:38, updatedAt=2025-04-05T00:33:09), Order(id=20, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T23:50:35, updatedAt=2025-04-04T23:51:47), Order(id=19, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T23:33, updatedAt=2025-04-04T23:33:58), Order(id=18, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1286.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T23:13:51, updatedAt=2025-04-04T23:16:29), Order(id=17, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:57:40, updatedAt=2025-04-04T23:16:32), Order(id=16, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:38:49, updatedAt=2025-04-04T23:16:40), Order(id=15, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:37:55, updatedAt=2025-04-04T23:16:44), Order(id=14, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:08:42, updatedAt=2025-04-04T23:16:49), Order(id=13, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T19:54:55, updatedAt=2025-04-04T23:16:22), Order(id=12, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T16:47:45, updatedAt=2025-04-04T16:47:57), Order(id=11, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=2599.98, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T16:15:15, updatedAt=2025-04-04T17:50:58), Order(id=10, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=29.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:41:29, updatedAt=2025-04-04T16:14:23), Order(id=9, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=49.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:39:43, updatedAt=2025-04-04T16:14:28), Order(id=8, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:06:44, updatedAt=2025-04-03T16:37:54), Order(id=7, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:05:03, updatedAt=2025-04-03T16:38:01), Order(id=6, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:04:22, updatedAt=2025-04-03T16:38:11), Order(id=5, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:00:05, updatedAt=2025-04-03T16:38:21), Order(id=4, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T15:57:44, updatedAt=2025-04-03T16:38:28)],[]>]
2025-04-05 01:48:43,426 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getCurrentUserOrders executed in 12 ms
2025-04-05 01:48:43,427 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,427 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [26]
2025-04-05 01:48:43,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,430 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,432 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,432 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [25]
2025-04-05 01:48:43,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,441 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:43,443 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,444 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [24]
2025-04-05 01:48:43,445 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,446 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,447 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:43,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,451 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [23]
2025-04-05 01:48:43,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,452 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,452 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,454 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,454 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,456 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [22]
2025-04-05 01:48:43,457 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,457 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [21]
2025-04-05 01:48:43,458 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,458 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [20]
2025-04-05 01:48:43,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,459 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [19]
2025-04-05 01:48:43,460 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,460 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [18]
2025-04-05 01:48:43,463 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,463 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [17]
2025-04-05 01:48:43,464 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,465 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [16]
2025-04-05 01:48:43,466 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,466 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [15]
2025-04-05 01:48:43,467 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,467 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [14]
2025-04-05 01:48:43,469 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,469 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [13]
2025-04-05 01:48:43,472 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,473 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [12]
2025-04-05 01:48:43,476 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,476 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [11]
2025-04-05 01:48:43,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [10]
2025-04-05 01:48:43,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [9]
2025-04-05 01:48:43,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,483 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [8]
2025-04-05 01:48:43,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,484 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [7]
2025-04-05 01:48:43,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [6]
2025-04-05 01:48:43,486 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,486 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [5]
2025-04-05 01:48:43,486 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,488 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:43,488 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=86ms
2025-04-05 01:48:43,489 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /orders/my-orders
2025-04-05 01:48:43,490 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:43,490 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /orders/my-orders
2025-04-05 01:48:43,490 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:43,490 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /orders/my-orders, Method: GET
2025-04-05 01:48:43,490 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:43,490 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:48:43,490 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:43,490 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:48:43,492 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:48:43,492 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:48:43,493 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:43,493 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:43,494 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:43,494 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:43,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:48:43,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:43,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7a09eb4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:43,496 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /orders/my-orders
2025-04-05 01:48:43,497 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-05 01:48:43,497 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.OrderController.getCurrentUserOrders(); target is of class [com.example.tmdt.controller.OrderController]
2025-04-05 01:48:43,497 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getCurrentUserOrders
2025-04-05 01:48:43,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:43,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:43,499 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:43,499 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,501 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        order0_.id as id1_5_,
        order0_.coupon_id as coupon_10_5_,
        order0_.created_at as created_2_5_,
        order0_.discount_amount as discount3_5_,
        order0_.payment_method as payment_4_5_,
        order0_.payment_status as payment_5_5_,
        order0_.shipping_address as shipping6_5_,
        order0_.status as status7_5_,
        order0_.total_amount as total_am8_5_,
        order0_.updated_at as updated_9_5_,
        order0_.user_id as user_id11_5_ 
    from
        orders order0_ 
    where
        order0_.user_id=? 
    order by
        order0_.created_at desc
2025-04-05 01:48:43,501 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,505 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        coupon0_.id as id1_1_0_,
        coupon0_.code as code2_1_0_,
        coupon0_.created_at as created_3_1_0_,
        coupon0_.description as descript4_1_0_,
        coupon0_.discount_type as discount5_1_0_,
        coupon0_.discount_value as discount6_1_0_,
        coupon0_.end_date as end_date7_1_0_,
        coupon0_.expiry_date as expiry_d8_1_0_,
        coupon0_.is_active as is_activ9_1_0_,
        coupon0_.min_purchase_amount as min_pur10_1_0_,
        coupon0_.start_date as start_d11_1_0_,
        coupon0_.type as type12_1_0_,
        coupon0_.updated_at as updated13_1_0_,
        coupon0_.used_count as used_co14_1_0_,
        coupon0_.user_id as user_id15_1_0_ 
    from
        coupons coupon0_ 
    where
        coupon0_.id=?
2025-04-05 01:48:43,505 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,506 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getCurrentUserOrders with result: [<200 OK OK,[Order(id=26, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=43.99, status=PENDING, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), discountAmount=6.00, createdAt=2025-04-05T01:48:40, updatedAt=2025-04-05T01:48:40), Order(id=25, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=29.99, status=PENDING, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), discountAmount=3.60, createdAt=2025-04-05T01:44:15, updatedAt=2025-04-05T01:44:15), Order(id=24, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T01:29:55, updatedAt=2025-04-05T01:30:15), Order(id=23, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=879.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T00:46:20, updatedAt=2025-04-05T01:40:01), Order(id=22, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=26.39, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T00:34:02, updatedAt=2025-04-05T00:37:44), Order(id=21, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=29.69, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-05T00:24:38, updatedAt=2025-04-05T00:33:09), Order(id=20, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T23:50:35, updatedAt=2025-04-04T23:51:47), Order(id=19, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T23:33, updatedAt=2025-04-04T23:33:58), Order(id=18, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1286.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T23:13:51, updatedAt=2025-04-04T23:16:29), Order(id=17, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:57:40, updatedAt=2025-04-04T23:16:32), Order(id=16, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:38:49, updatedAt=2025-04-04T23:16:40), Order(id=15, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:37:55, updatedAt=2025-04-04T23:16:44), Order(id=14, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T22:08:42, updatedAt=2025-04-04T23:16:49), Order(id=13, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T19:54:55, updatedAt=2025-04-04T23:16:22), Order(id=12, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T16:47:45, updatedAt=2025-04-04T16:47:57), Order(id=11, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=2599.98, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-04T16:15:15, updatedAt=2025-04-04T17:50:58), Order(id=10, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=29.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:41:29, updatedAt=2025-04-04T16:14:23), Order(id=9, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=49.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:39:43, updatedAt=2025-04-04T16:14:28), Order(id=8, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=1299.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:06:44, updatedAt=2025-04-03T16:37:54), Order(id=7, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:05:03, updatedAt=2025-04-03T16:38:01), Order(id=6, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:04:22, updatedAt=2025-04-03T16:38:11), Order(id=5, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T16:00:05, updatedAt=2025-04-03T16:38:21), Order(id=4, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), totalAmount=999.99, status=CANCELLED, shippingAddress=a, 123a, 123, paymentMethod=cod, paymentStatus=PENDING, coupon=null, discountAmount=null, createdAt=2025-04-03T15:57:44, updatedAt=2025-04-03T16:38:28)],[]>]
2025-04-05 01:48:43,506 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getCurrentUserOrders executed in 9 ms
2025-04-05 01:48:43,507 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,507 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [26]
2025-04-05 01:48:43,508 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,509 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,510 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,511 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,513 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,514 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,514 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [25]
2025-04-05 01:48:43,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,516 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,517 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,517 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,518 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:43,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:43,519 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,520 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,521 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [24]
2025-04-05 01:48:43,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,522 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,523 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,523 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:48:43,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:43,525 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,526 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,526 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [23]
2025-04-05 01:48:43,527 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:48:43,528 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,529 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:48:43,529 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:48:43,531 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:48:43,533 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,533 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [22]
2025-04-05 01:48:43,534 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,534 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [21]
2025-04-05 01:48:43,535 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,536 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [20]
2025-04-05 01:48:43,537 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,537 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [19]
2025-04-05 01:48:43,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,539 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [18]
2025-04-05 01:48:43,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,540 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [17]
2025-04-05 01:48:43,541 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,542 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [16]
2025-04-05 01:48:43,543 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,543 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [15]
2025-04-05 01:48:43,545 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,545 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [14]
2025-04-05 01:48:43,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,546 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [13]
2025-04-05 01:48:43,547 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,547 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [12]
2025-04-05 01:48:43,548 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,548 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [11]
2025-04-05 01:48:43,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,549 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [10]
2025-04-05 01:48:43,550 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [9]
2025-04-05 01:48:43,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,551 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [8]
2025-04-05 01:48:43,551 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,552 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [7]
2025-04-05 01:48:43,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,553 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [6]
2025-04-05 01:48:43,553 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,554 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [5]
2025-04-05 01:48:43,554 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        orderitems0_.order_id as order_id6_4_0_,
        orderitems0_.id as id1_4_0_,
        orderitems0_.id as id1_4_1_,
        orderitems0_.order_id as order_id6_4_1_,
        orderitems0_.price as price2_4_1_,
        orderitems0_.product_id as product_7_4_1_,
        orderitems0_.product_image_url as product_3_4_1_,
        orderitems0_.product_name as product_4_4_1_,
        orderitems0_.quantity as quantity5_4_1_ 
    from
        order_items orderitems0_ 
    where
        orderitems0_.order_id=?
2025-04-05 01:48:43,555 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:48:43,555 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:43,555 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=66ms
2025-04-05 01:48:57,767 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /notifications
2025-04-05 01:48:57,767 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:48:57,767 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /notifications
2025-04-05 01:48:57,767 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:48:57,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /notifications, Method: GET
2025-04-05 01:48:57,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:57,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:48:57,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:48:57,768 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:48:57,769 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:48:57,769 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:48:57,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:48:57,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:48:57,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:48:57,773 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:57,775 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:57,776 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:48:57,776 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:48:57,776 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@5b9e5624, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:48:57,776 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /notifications
2025-04-05 01:48:57,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:48:57,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:57,781 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:57,782 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-1] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getAllNotifications(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:48:57,782 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getAllNotifications with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:48:57,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        notificati0_.id as id1_3_,
        notificati0_.created_at as created_2_3_,
        notificati0_.is_read as is_read3_3_,
        notificati0_.message as message4_3_,
        notificati0_.reference_id as referenc5_3_,
        notificati0_.title as title6_3_,
        notificati0_.type as type7_3_,
        notificati0_.user_id as user_id8_3_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=?
2025-04-05 01:48:57,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:48:57,791 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getAllNotifications with result: [<200 OK OK,[Notification(id=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), title=Äáº·t hÃ ng thÃ nh cÃ´ng, message=ÄÆ¡n hÃ ng #20 cá»§a báº¡n ÄÃ£ ÄÆ°á»£c Äáº·t thÃ nh cÃ´ng. Tá»ng tiá»n: 1299.99 VND. Cáº£m Æ¡n báº¡n ÄÃ£ mua sáº¯m!, type=ORDER_STATUS_CHANGE, referenceId=20, isRead=true, createdAt=2025-04-04T23:50:35), Notification(id=9, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), title=Äáº·t hÃ ng thÃ nh cÃ´ng, message=ÄÆ¡n hÃ ng #23 cá»§a báº¡n ÄÃ£ ÄÆ°á»£c Äáº·t thÃ nh cÃ´ng. Tá»ng tiá»n: 879.9912 VND. Cáº£m Æ¡n báº¡n ÄÃ£ mua sáº¯m!, type=ORDER_STATUS_CHANGE, referenceId=23, isRead=true, createdAt=2025-04-05T00:46:20)],[]>]
2025-04-05 01:48:57,791 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getAllNotifications executed in 9 ms
2025-04-05 01:48:57,793 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:48:57,794 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=27ms
2025-04-05 01:49:01,349 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products
2025-04-05 01:49:01,349 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,349 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products?sort=newest
2025-04-05 01:49:01,350 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,350 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products, Method: GET
2025-04-05 01:49:01,350 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,350 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/top
2025-04-05 01:49:01,350 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /wishlist
2025-04-05 01:49:01,350 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:49:01,351 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,351 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,351 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/top?limit=4
2025-04-05 01:49:01,351 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /wishlist
2025-04-05 01:49:01,351 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,351 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,351 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:49:01,352 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /categories
2025-04-05 01:49:01,352 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,352 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products/recommended
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:49:01,352 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:49:01,352 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:49:01,352 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /categories
2025-04-05 01:49:01,353 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,353 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products/recommended?limit=4
2025-04-05 01:49:01,353 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,353 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /categories, Method: GET
2025-04-05 01:49:01,353 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,353 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:49:01,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,353 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,353 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:49:01,353 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,353 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,353 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,353 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:49:01,355 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,355 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:49:01,355 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:49:01,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,355 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,356 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:49:01,356 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:49:01,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,356 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:49:01,356 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:49:01,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,356 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,356 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7f1247b6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@12defc29, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,357 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@69806966, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/top?limit=4
2025-04-05 01:49:01,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /wishlist
2025-04-05 01:49:01,357 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products?sort=newest
2025-04-05 01:49:01,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,358 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getAllProducts
2025-04-05 01:49:01,358 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getTopProducts
2025-04-05 01:49:01,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,359 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,359 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:49:01,359 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,359 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:49:01,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:49:01,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@66e493fc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,360 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@53389c92, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,360 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /categories
2025-04-05 01:49:01,360 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products/recommended?limit=4
2025-04-05 01:49:01,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,360 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:01,360 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,361 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:01,361 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getAllCategories
2025-04-05 01:49:01,362 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:49:01,362 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:01,362 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-6] Get wishlist request for user: 3
2025-04-05 01:49:01,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,362 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:49:01,362 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,363 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:49:01,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:49:01,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,364 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,365 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,365 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getTopProducts executed in 7 ms
2025-04-05 01:49:01,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,365 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,365 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40)],[]>]
2025-04-05 01:49:01,365 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:49:01,365 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getAllProducts executed in 7 ms
2025-04-05 01:49:01,365 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getAllCategories executed in 4 ms
2025-04-05 01:49:01,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,366 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@50e7aeeb],[]>]
2025-04-05 01:49:01,366 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,366 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,366 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,367 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getWishlist executed in 5 ms
2025-04-05 01:49:01,367 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,367 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,368 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,368 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,368 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,368 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=18ms
2025-04-05 01:49:01,368 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getRecommendedProducts executed in 6 ms
2025-04-05 01:49:01,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,368 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,369 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,371 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,371 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,371 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,371 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,371 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /wishlist
2025-04-05 01:49:01,371 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,371 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,371 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,371 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /wishlist
2025-04-05 01:49:01,371 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:49:01,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,372 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:49:01,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,372 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,372 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,373 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:49:01,373 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,373 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,373 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=21ms
2025-04-05 01:49:01,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,373 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,374 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:49:01,374 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:49:01,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,376 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /categories
2025-04-05 01:49:01,376 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,377 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,377 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,377 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,377 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,377 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,377 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /categories
2025-04-05 01:49:01,377 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,377 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /categories, Method: GET
2025-04-05 01:49:01,378 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,378 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:49:01,378 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,378 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,378 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,379 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:49:01,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,379 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:49:01,379 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,379 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:49:01,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,379 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,380 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,380 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:49:01,380 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,380 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@659c59f3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,380 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /wishlist
2025-04-05 01:49:01,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,380 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,380 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,382 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,382 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,382 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,383 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,383 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,383 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,383 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,383 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,383 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,383 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,384 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,384 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,384 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,384 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=35ms
2025-04-05 01:49:01,384 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=34ms
2025-04-05 01:49:01,384 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,384 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:01,384 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,385 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:49:01,385 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,385 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,385 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:01,385 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4637718a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,386 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /categories
2025-04-05 01:49:01,386 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:01,386 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-8] Get wishlist request for user: 3
2025-04-05 01:49:01,386 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products/top
2025-04-05 01:49:01,386 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,386 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getAllCategories
2025-04-05 01:49:01,386 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products/top?limit=4
2025-04-05 01:49:01,387 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:49:01,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,387 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,387 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,387 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,387 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:49:01,387 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,388 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:49:01,388 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,388 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products
2025-04-05 01:49:01,388 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,389 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products?sort=newest
2025-04-05 01:49:01,389 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,389 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:49:01,389 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products, Method: GET
2025-04-05 01:49:01,389 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,390 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:49:01,390 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,390 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,390 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:49:01,390 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:49:01,390 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=38ms
2025-04-05 01:49:01,390 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:49:01,390 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,390 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:49:01,390 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:49:01,391 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getAllCategories executed in 5 ms
2025-04-05 01:49:01,391 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,392 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:49:01,391 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,392 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/recommended
2025-04-05 01:49:01,392 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:49:01,392 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,392 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,393 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,392 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,393 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,393 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/recommended?limit=4
2025-04-05 01:49:01,394 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,394 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:49:01,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,394 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,394 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,394 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@58f5edcb],[]>]
2025-04-05 01:49:01,395 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,395 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,395 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:49:01,395 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,395 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getWishlist executed in 9 ms
2025-04-05 01:49:01,395 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,396 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,396 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:49:01,397 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,396 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,397 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,397 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=26ms
2025-04-05 01:49:01,397 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,397 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:49:01,397 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:49:01,397 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,397 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:49:01,397 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2fef1667, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,397 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:01,397 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products/top?limit=4
2025-04-05 01:49:01,398 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,398 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,398 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getTopProducts
2025-04-05 01:49:01,398 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:49:01,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,398 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,398 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2d3d295d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,398 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,398 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products?sort=newest
2025-04-05 01:49:01,398 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,398 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,399 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=23ms
2025-04-05 01:49:01,399 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getAllProducts
2025-04-05 01:49:01,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,399 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,399 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,400 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,400 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:49:01,400 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,401 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,401 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,401 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,401 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:49:01,401 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,401 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,401 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6eb4d4cb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,401 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/recommended?limit=4
2025-04-05 01:49:01,401 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,401 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,401 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,401 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,401 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:49:01,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,402 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,403 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,403 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getTopProducts executed in 5 ms
2025-04-05 01:49:01,403 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,404 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,404 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,404 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,404 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40)],[]>]
2025-04-05 01:49:01,405 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getAllProducts executed in 6 ms
2025-04-05 01:49:01,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,405 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,406 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,405 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,405 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,407 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,407 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,407 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,407 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,408 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,408 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,408 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,408 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getRecommendedProducts executed in 7 ms
2025-04-05 01:49:01,408 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,408 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,409 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,410 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,410 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,410 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,411 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,411 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,411 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,411 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,412 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,412 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,412 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,413 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,413 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,413 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,413 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,413 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,413 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,413 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,413 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,414 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,414 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,414 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,414 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,414 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,414 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,414 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,414 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,416 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,415 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,416 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,416 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,416 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=30ms
2025-04-05 01:49:01,416 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,417 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,417 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,417 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=29ms
2025-04-05 01:49:01,417 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,417 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/top
2025-04-05 01:49:01,418 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,418 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/top?limit=4
2025-04-05 01:49:01,418 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,418 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,418 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,418 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:49:01,418 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,418 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,419 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,419 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:49:01,419 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:49:01,420 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:49:01,420 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,420 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,421 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,421 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,421 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,421 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=29ms
2025-04-05 01:49:01,421 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,422 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,423 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,423 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:49:01,424 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,424 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@17af813d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,424 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/top?limit=4
2025-04-05 01:49:01,424 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getTopProducts
2025-04-05 01:49:01,425 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,426 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,427 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,427 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,428 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,428 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,428 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,429 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,429 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getTopProducts executed in 5 ms
2025-04-05 01:49:01,430 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,430 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,432 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,432 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,433 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,433 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,435 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,435 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,435 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,436 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,436 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,439 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,439 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=22ms
2025-04-05 01:49:01,440 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/top
2025-04-05 01:49:01,441 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,441 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/top?limit=4
2025-04-05 01:49:01,441 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,441 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,441 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,442 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:49:01,442 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,442 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:49:01,442 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:49:01,442 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:49:01,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,443 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,444 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,446 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,446 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:49:01,446 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,446 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7e7fce2e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,446 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/top?limit=4
2025-04-05 01:49:01,447 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getTopProducts
2025-04-05 01:49:01,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,450 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,450 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getTopProducts executed in 3 ms
2025-04-05 01:49:01,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,452 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,453 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,453 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,454 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,454 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,455 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,456 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,456 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,457 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,457 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,457 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,458 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,458 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,459 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,460 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,460 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,461 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,461 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=21ms
2025-04-05 01:49:01,462 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products/top
2025-04-05 01:49:01,462 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,462 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products/top?limit=4
2025-04-05 01:49:01,462 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,462 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,462 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,462 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:49:01,462 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,463 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:49:01,463 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:49:01,463 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:49:01,464 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,465 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,465 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,466 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,467 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,467 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:49:01,467 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,467 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@38ebae1c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,467 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products/top?limit=4
2025-04-05 01:49:01,468 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getTopProducts
2025-04-05 01:49:01,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,469 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,469 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,470 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,470 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,472 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,472 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getTopProducts executed in 4 ms
2025-04-05 01:49:01,472 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,474 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,474 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,475 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,476 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,476 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,477 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,477 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,477 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,478 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,478 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,479 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,480 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,482 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,483 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,483 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=21ms
2025-04-05 01:49:01,484 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /products/top
2025-04-05 01:49:01,484 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,484 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /products/top?limit=4
2025-04-05 01:49:01,484 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,484 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,485 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,485 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:49:01,485 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,485 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:49:01,486 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:49:01,486 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:49:01,487 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,489 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,489 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:49:01,490 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,490 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@eebed57, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,490 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /products/top?limit=4
2025-04-05 01:49:01,490 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getTopProducts
2025-04-05 01:49:01,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,492 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,492 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,494 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,494 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,495 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,495 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,496 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,496 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getTopProducts executed in 6 ms
2025-04-05 01:49:01,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,497 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,497 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,498 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,499 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,499 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,499 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,500 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,500 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,501 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,501 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,502 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,502 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,503 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,503 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,503 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,504 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,504 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,505 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,505 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=21ms
2025-04-05 01:49:01,506 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products/top
2025-04-05 01:49:01,507 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,507 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products/top?limit=4
2025-04-05 01:49:01,507 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,507 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,507 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,507 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:49:01,507 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,508 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:49:01,508 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:49:01,508 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:49:01,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,509 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,510 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,510 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,511 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,511 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:49:01,511 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,511 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@15d445b4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,511 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products/top?limit=4
2025-04-05 01:49:01,512 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getTopProducts
2025-04-05 01:49:01,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,514 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,515 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,516 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,516 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,516 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getTopProducts executed in 4 ms
2025-04-05 01:49:01,517 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,517 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,518 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,518 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,519 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,519 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,520 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,520 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,520 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,520 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,521 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,522 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,523 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,523 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,524 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,524 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,525 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,525 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,526 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,526 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=20ms
2025-04-05 01:49:01,528 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/top
2025-04-05 01:49:01,528 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:01,528 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/top?limit=4
2025-04-05 01:49:01,528 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:01,529 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:01,529 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,529 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:49:01,529 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:01,530 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:49:01,530 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:49:01,530 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:49:01,532 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:01,532 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:01,532 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:01,533 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,534 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,534 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:49:01,535 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:01,535 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@659b610b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:01,535 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/top?limit=4
2025-04-05 01:49:01,536 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getTopProducts
2025-04-05 01:49:01,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:01,537 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,538 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,538 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:01,539 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,540 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:01,540 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getTopProducts executed in 4 ms
2025-04-05 01:49:01,540 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,541 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,541 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,542 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,543 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,543 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,544 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,545 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,545 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:01,545 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:01,546 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:01,546 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,546 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,547 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,547 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:01,548 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:01,548 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:01,549 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:01,550 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:01,550 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=22ms
2025-04-05 01:49:03,890 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /notifications/unread-count
2025-04-05 01:49:03,891 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:03,891 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /notifications/unread-count
2025-04-05 01:49:03,891 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:03,891 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:49:03,891 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:03,891 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:49:03,891 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:03,892 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:49:03,892 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:49:03,892 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:49:03,893 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:03,893 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:03,895 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:03,895 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:03,895 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:03,895 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:49:03,896 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:03,896 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2b4263fb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:03,896 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /notifications/unread-count
2025-04-05 01:49:03,897 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:03,897 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:03,898 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:49:03,898 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:49:03,898 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:03,899 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:49:03,899 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:03,900 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:49:03,900 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getUnreadCount executed in 2 ms
2025-04-05 01:49:03,900 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:03,900 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=10ms
2025-04-05 01:49:05,429 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products
2025-04-05 01:49:05,430 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,430 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products?sort=newest
2025-04-05 01:49:05,430 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /wishlist
2025-04-05 01:49:05,430 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,430 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,430 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /wishlist
2025-04-05 01:49:05,430 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,430 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products, Method: GET
2025-04-05 01:49:05,430 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,430 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:49:05,430 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:49:05,432 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/top
2025-04-05 01:49:05,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:49:05,432 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,432 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,432 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/top?limit=4
2025-04-05 01:49:05,432 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,432 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:49:05,432 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,433 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:49:05,433 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /categories
2025-04-05 01:49:05,434 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,434 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:49:05,434 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:49:05,434 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /categories
2025-04-05 01:49:05,434 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,434 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /categories, Method: GET
2025-04-05 01:49:05,434 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/recommended
2025-04-05 01:49:05,434 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,434 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,434 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:49:05,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,434 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,434 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/recommended?limit=4
2025-04-05 01:49:05,434 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,434 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,434 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,435 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,435 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,435 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:49:05,435 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:49:05,435 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,435 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:49:05,435 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,435 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,435 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,435 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:49:05,435 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:49:05,436 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:49:05,436 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:49:05,436 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,436 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,436 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:49:05,436 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:49:05,436 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@25c34c89, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1765151f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,437 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /wishlist
2025-04-05 01:49:05,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,437 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products?sort=newest
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,437 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@57190ef6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,437 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,437 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getAllProducts
2025-04-05 01:49:05,438 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/top?limit=4
2025-04-05 01:49:05,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,438 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:49:05,438 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getTopProducts
2025-04-05 01:49:05,438 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,439 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,439 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,439 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,440 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-5] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@32c782de, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:05,440 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /categories
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:49:05,440 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-5] Get wishlist request for user: 3
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@44ba1c47, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,440 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/recommended?limit=4
2025-04-05 01:49:05,440 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,440 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getAllCategories
2025-04-05 01:49:05,440 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:49:05,442 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,442 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:49:05,442 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,442 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,442 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,442 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:49:05,442 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,442 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:49:05,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,443 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,443 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40)],[]>]
2025-04-05 01:49:05,443 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,443 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,443 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getAllProducts executed in 6 ms
2025-04-05 01:49:05,443 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,444 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:49:05,444 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getAllCategories executed in 4 ms
2025-04-05 01:49:05,444 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,444 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,445 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getTopProducts executed in 7 ms
2025-04-05 01:49:05,445 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,445 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,445 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,445 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,445 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,446 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,446 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,446 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,446 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@54682869],[]>]
2025-04-05 01:49:05,446 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getWishlist executed in 6 ms
2025-04-05 01:49:05,446 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,446 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,447 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,447 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,447 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,447 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=17ms
2025-04-05 01:49:05,447 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getRecommendedProducts executed in 5 ms
2025-04-05 01:49:05,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,448 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,448 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,449 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,449 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /wishlist
2025-04-05 01:49:05,449 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,449 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,449 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /wishlist
2025-04-05 01:49:05,450 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,450 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,450 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,450 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:49:05,450 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,450 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:49:05,450 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,451 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,452 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:49:05,452 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,452 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=19ms
2025-04-05 01:49:05,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,452 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,452 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,452 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,452 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,453 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:49:05,453 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:49:05,453 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,453 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,453 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,453 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /categories
2025-04-05 01:49:05,453 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,453 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,453 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,453 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,453 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /categories
2025-04-05 01:49:05,453 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,455 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,455 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /categories, Method: GET
2025-04-05 01:49:05,455 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,455 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,455 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,455 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,455 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,456 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:49:05,456 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,456 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,457 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,457 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,457 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,457 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,457 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,457 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,457 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:49:05,457 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,458 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:49:05,458 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,458 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,458 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,458 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:49:05,458 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,458 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,459 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,459 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,459 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:49:05,459 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,459 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,460 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,460 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@59894494, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,460 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,460 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /wishlist
2025-04-05 01:49:05,460 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=31ms
2025-04-05 01:49:05,460 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,460 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,461 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,461 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,461 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,461 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,461 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,461 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=29ms
2025-04-05 01:49:05,461 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,461 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,461 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products
2025-04-05 01:49:05,462 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,462 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products?sort=newest
2025-04-05 01:49:05,462 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,462 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,462 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,462 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:05,462 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,463 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:49:05,463 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products, Method: GET
2025-04-05 01:49:05,463 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,463 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:05,463 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,463 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@67b899f3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:49:05,464 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/top
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,464 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /categories
2025-04-05 01:49:05,464 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:05,464 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,464 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-2] Get wishlist request for user: 3
2025-04-05 01:49:05,464 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=30ms
2025-04-05 01:49:05,464 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/top?limit=4
2025-04-05 01:49:05,464 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getAllCategories
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,464 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:49:05,464 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,465 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:49:05,465 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:49:05,465 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,465 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:49:05,465 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:49:05,465 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /products/recommended
2025-04-05 01:49:05,465 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:49:05,465 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:49:05,465 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,466 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /products/recommended?limit=4
2025-04-05 01:49:05,466 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,466 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,466 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,467 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:49:05,467 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:49:05,467 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,467 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,467 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,467 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:49:05,468 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:49:05,468 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,468 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getAllCategories executed in 4 ms
2025-04-05 01:49:05,469 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,468 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,470 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,470 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,470 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,470 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:49:05,470 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,470 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,472 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:49:05,472 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:49:05,472 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,472 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,472 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:49:05,472 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,472 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:49:05,472 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@73a48c83],[]>]
2025-04-05 01:49:05,473 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,473 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,473 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getWishlist executed in 9 ms
2025-04-05 01:49:05,473 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6f51700f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,473 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,473 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@7e6442af, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,473 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/top?limit=4
2025-04-05 01:49:05,473 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products?sort=newest
2025-04-05 01:49:05,473 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,473 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,473 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getAllProducts
2025-04-05 01:49:05,473 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,473 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,473 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getTopProducts
2025-04-05 01:49:05,474 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=25ms
2025-04-05 01:49:05,474 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,474 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,474 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,474 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,474 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:49:05,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:05,475 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,475 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,476 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,476 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,476 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,476 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,476 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=23ms
2025-04-05 01:49:05,476 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:49:05,476 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,477 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@42fa6171, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,477 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /products/recommended?limit=4
2025-04-05 01:49:05,477 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,477 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,477 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,477 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,478 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:49:05,478 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,478 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,478 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,478 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,480 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,481 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,481 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getTopProducts executed in 8 ms
2025-04-05 01:49:05,481 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,481 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40)],[]>]
2025-04-05 01:49:05,481 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getAllProducts executed in 8 ms
2025-04-05 01:49:05,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,481 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,482 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,483 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,483 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,483 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,483 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,484 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,484 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,485 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getRecommendedProducts executed in 7 ms
2025-04-05 01:49:05,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,485 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,485 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,487 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,488 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,488 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,489 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,489 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,489 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,489 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,490 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,490 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,490 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,490 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,491 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,491 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,491 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,491 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,491 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,491 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,491 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,492 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,492 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,492 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,492 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,492 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,493 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,493 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,493 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,493 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,493 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=29ms
2025-04-05 01:49:05,493 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=32ms
2025-04-05 01:49:05,494 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,494 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,495 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,495 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products/top
2025-04-05 01:49:05,495 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,495 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products/top?limit=4
2025-04-05 01:49:05,495 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,496 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,496 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:49:05,496 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,497 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:49:05,497 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,497 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=32ms
2025-04-05 01:49:05,497 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:49:05,497 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:49:05,498 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,499 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,500 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,500 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,502 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,502 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:49:05,502 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,502 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@27129918, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,502 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products/top?limit=4
2025-04-05 01:49:05,502 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getTopProducts
2025-04-05 01:49:05,503 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,504 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,504 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,505 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,505 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,506 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,507 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,507 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,508 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getTopProducts executed in 6 ms
2025-04-05 01:49:05,508 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,508 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,509 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,509 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,510 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,510 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,510 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,510 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,512 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,512 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,512 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,513 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,513 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,514 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,514 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,515 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,515 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,516 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,516 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,517 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=22ms
2025-04-05 01:49:05,518 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/top
2025-04-05 01:49:05,518 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,518 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/top?limit=4
2025-04-05 01:49:05,518 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,519 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,519 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,519 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:49:05,519 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,520 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:49:05,521 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:49:05,521 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:49:05,522 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,522 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,523 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,523 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,525 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,525 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:49:05,525 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,525 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@67cdaecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,525 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/top?limit=4
2025-04-05 01:49:05,526 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getTopProducts
2025-04-05 01:49:05,526 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,528 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,529 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,530 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,530 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,530 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,532 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,532 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getTopProducts executed in 6 ms
2025-04-05 01:49:05,532 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,533 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,533 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,533 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,534 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,535 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,535 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,536 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,536 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,537 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,537 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,537 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,538 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,538 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,538 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,539 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,539 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,540 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,540 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,541 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=23ms
2025-04-05 01:49:05,542 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products/top
2025-04-05 01:49:05,542 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,542 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products/top?limit=4
2025-04-05 01:49:05,542 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,542 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,542 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,543 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:49:05,543 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,543 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:49:05,543 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:49:05,544 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:49:05,544 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,545 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,545 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,545 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:49:05,546 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,547 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@d8a6ab4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,547 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products/top?limit=4
2025-04-05 01:49:05,547 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getTopProducts
2025-04-05 01:49:05,548 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,549 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,549 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,550 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,550 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,550 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,551 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,551 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getTopProducts executed in 4 ms
2025-04-05 01:49:05,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,552 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,552 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,552 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,553 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,553 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,554 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,554 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,555 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,555 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,556 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,556 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,556 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,557 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,557 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,558 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,558 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,558 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,559 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,559 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=17ms
2025-04-05 01:49:05,560 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/top
2025-04-05 01:49:05,560 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,560 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/top?limit=4
2025-04-05 01:49:05,560 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,560 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,560 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,560 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:49:05,560 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,562 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:49:05,562 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:49:05,562 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:49:05,563 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,563 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,564 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,564 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,565 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,565 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:49:05,565 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,565 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@f49947, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,565 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/top?limit=4
2025-04-05 01:49:05,566 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getTopProducts
2025-04-05 01:49:05,566 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,567 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,567 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,568 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,568 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,569 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,569 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,569 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getTopProducts executed in 3 ms
2025-04-05 01:49:05,570 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,570 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,571 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,571 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,572 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,572 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,572 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,572 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,573 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,573 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,573 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,574 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,574 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,575 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,575 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,575 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,576 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,576 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,577 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,578 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,578 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=18ms
2025-04-05 01:49:05,579 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/top
2025-04-05 01:49:05,579 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,579 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/top?limit=4
2025-04-05 01:49:05,579 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,580 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,580 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,580 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:49:05,580 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,580 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:49:05,580 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:49:05,580 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:49:05,582 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,582 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,583 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,583 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,585 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,585 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:49:05,585 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,585 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3048d61f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,585 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/top?limit=4
2025-04-05 01:49:05,586 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getTopProducts
2025-04-05 01:49:05,586 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,587 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,587 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,587 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,587 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,588 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,588 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,589 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,589 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getTopProducts executed in 3 ms
2025-04-05 01:49:05,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,590 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,590 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,592 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,593 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,593 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,594 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,594 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,595 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,595 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,596 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,596 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,597 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,597 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,598 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,598 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,598 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,599 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,599 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,600 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,600 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=21ms
2025-04-05 01:49:05,601 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products/top
2025-04-05 01:49:05,602 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:05,602 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products/top?limit=4
2025-04-05 01:49:05,602 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:05,602 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:05,602 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,602 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:49:05,602 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:05,603 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:49:05,603 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:49:05,604 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:49:05,605 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:05,605 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:05,606 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:05,606 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,607 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,607 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:49:05,607 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:05,607 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2fcf9f0d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:05,608 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products/top?limit=4
2025-04-05 01:49:05,608 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getTopProducts
2025-04-05 01:49:05,609 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:05,610 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,610 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,612 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,612 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,613 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:05,613 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,614 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:05,614 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getTopProducts executed in 6 ms
2025-04-05 01:49:05,620 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,620 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,621 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,621 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,622 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,622 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,623 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,623 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,624 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,625 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:05,625 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:05,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:05,626 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,626 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,627 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:05,627 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:05,627 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,628 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:05,628 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:05,629 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:05,629 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=28ms
2025-04-05 01:49:10,335 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /coupons/my-coupons
2025-04-05 01:49:10,335 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:10,335 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /coupons/my-coupons
2025-04-05 01:49:10,336 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:10,336 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-05 01:49:10,336 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:10,336 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:49:10,336 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:10,337 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:49:10,337 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:49:10,337 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:49:10,338 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:10,339 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:10,339 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:10,340 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:10,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:10,341 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:49:10,342 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:10,342 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@30347d1b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:10,342 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /coupons/my-coupons
2025-04-05 01:49:10,343 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:10,344 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:10,345 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:49:10,347 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:49:10,347 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:10,347 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-7] Getting coupons for user: 3
2025-04-05 01:49:10,348 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-05 01:49:10,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:10,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [2] as [BOOLEAN] - [true]
2025-04-05 01:49:10,349 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [3] as [TIMESTAMP] - [2025-04-05T01:49:10.348069200]
2025-04-05 01:49:10,350 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), Coupon(id=4, code=d, description=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=ONE_TIME, discountType=PERCENTAGE, discountValue=1.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T16:44:59, endDate=2025-05-04T16:44:59, isActive=true, createdAt=2025-04-04T23:45:10, updatedAt=2025-04-04T23:45:17, expiryDate=2025-05-04T16:44:59)],[]>]
2025-04-05 01:49:10,350 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getMyCoupons executed in 3 ms
2025-04-05 01:49:10,351 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:10,351 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=16ms
2025-04-05 01:49:10,353 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /coupons/my-coupons
2025-04-05 01:49:10,354 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:10,354 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /coupons/my-coupons
2025-04-05 01:49:10,354 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:10,355 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-05 01:49:10,355 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:10,355 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:49:10,355 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:10,355 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:49:10,356 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:49:10,356 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:49:10,357 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:10,357 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:10,358 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:10,358 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:10,359 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:10,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:49:10,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:10,360 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@3cd60b63, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:10,360 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /coupons/my-coupons
2025-04-05 01:49:10,361 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:10,361 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:10,363 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:49:10,364 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:49:10,364 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:10,364 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-8] Getting coupons for user: 3
2025-04-05 01:49:10,364 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-05 01:49:10,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:10,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [2] as [BOOLEAN] - [true]
2025-04-05 01:49:10,365 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [3] as [TIMESTAMP] - [2025-04-05T01:49:10.364122700]
2025-04-05 01:49:10,366 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), Coupon(id=4, code=d, description=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=ONE_TIME, discountType=PERCENTAGE, discountValue=1.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T16:44:59, endDate=2025-05-04T16:44:59, isActive=true, createdAt=2025-04-04T23:45:10, updatedAt=2025-04-04T23:45:17, expiryDate=2025-05-04T16:44:59)],[]>]
2025-04-05 01:49:10,366 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getMyCoupons executed in 2 ms
2025-04-05 01:49:10,367 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:10,367 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=14ms
2025-04-05 01:49:34,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /notifications/unread-count
2025-04-05 01:49:34,781 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:34,781 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /notifications/unread-count
2025-04-05 01:49:34,781 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:34,781 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:49:34,781 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:34,781 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:49:34,782 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:34,783 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:49:34,783 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:49:34,783 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:49:34,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:34,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:34,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:34,785 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:34,787 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:34,787 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:49:34,787 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:34,787 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6d5ecc6d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:34,787 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /notifications/unread-count
2025-04-05 01:49:34,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:34,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:34,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:49:34,790 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-10] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:49:34,790 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:34,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:49:34,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:34,791 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:49:34,791 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getUnreadCount executed in 1 ms
2025-04-05 01:49:34,791 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:34,791 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=11ms
2025-04-05 01:49:41,790 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /coupons/my-coupons
2025-04-05 01:49:41,791 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:41,791 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /coupons/my-coupons
2025-04-05 01:49:41,791 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:41,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /coupons/my-coupons, Method: GET
2025-04-05 01:49:41,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:41,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:49:41,791 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:41,792 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:49:41,792 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:49:41,792 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:49:41,793 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:41,794 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:41,794 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:41,795 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:41,796 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:41,796 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:49:41,796 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:41,796 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1eea4175, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:41,796 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /coupons/my-coupons
2025-04-05 01:49:41,797 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:41,798 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:41,799 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:49:41,799 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-3] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.CouponController.getMyCoupons(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.CouponController]
2025-04-05 01:49:41,799 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getMyCoupons with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:41,799 INFO com.example.tmdt.controller.CouponController [http-nio-8080-exec-3] Getting coupons for user: 3
2025-04-05 01:49:41,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        coupon0_.id as id1_1_,
        coupon0_.code as code2_1_,
        coupon0_.created_at as created_3_1_,
        coupon0_.description as descript4_1_,
        coupon0_.discount_type as discount5_1_,
        coupon0_.discount_value as discount6_1_,
        coupon0_.end_date as end_date7_1_,
        coupon0_.expiry_date as expiry_d8_1_,
        coupon0_.is_active as is_activ9_1_,
        coupon0_.min_purchase_amount as min_pur10_1_,
        coupon0_.start_date as start_d11_1_,
        coupon0_.type as type12_1_,
        coupon0_.updated_at as updated13_1_,
        coupon0_.used_count as used_co14_1_,
        coupon0_.user_id as user_id15_1_ 
    from
        coupons coupon0_ 
    where
        coupon0_.user_id=? 
        and coupon0_.is_active=? 
        and coupon0_.expiry_date>?
2025-04-05 01:49:41,800 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:41,800 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [2] as [BOOLEAN] - [true]
2025-04-05 01:49:41,800 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [3] as [TIMESTAMP] - [2025-04-05T01:49:41.799635800]
2025-04-05 01:49:41,801 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getMyCoupons with result: [<200 OK OK,[Coupon(id=3, code=c, description=a, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=GENERAL, discountType=PERCENTAGE, discountValue=12.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T15:31:38, endDate=2025-05-04T15:31:38, isActive=true, createdAt=2025-04-04T22:31:48, updatedAt=2025-04-04T22:36:57, expiryDate=2025-05-04T15:31:38), Coupon(id=4, code=d, description=1, user=User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢), type=ONE_TIME, discountType=PERCENTAGE, discountValue=1.00, minPurchaseAmount=1.00, usedCount=0, startDate=2025-04-04T16:44:59, endDate=2025-05-04T16:44:59, isActive=true, createdAt=2025-04-04T23:45:10, updatedAt=2025-04-04T23:45:17, expiryDate=2025-05-04T16:44:59)],[]>]
2025-04-05 01:49:41,802 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getMyCoupons executed in 3 ms
2025-04-05 01:49:41,803 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:41,803 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=13ms
2025-04-05 01:49:45,752 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /wishlist
2025-04-05 01:49:45,752 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products
2025-04-05 01:49:45,752 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,752 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,752 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /wishlist
2025-04-05 01:49:45,752 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products?sort=newest
2025-04-05 01:49:45,752 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,752 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,752 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products/top
2025-04-05 01:49:45,752 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,752 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products/top?limit=4
2025-04-05 01:49:45,753 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products, Method: GET
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:49:45,753 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:49:45,754 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:49:45,754 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:49:45,754 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:49:45,754 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:49:45,754 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:49:45,754 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:49:45,755 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /categories
2025-04-05 01:49:45,755 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,756 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /categories
2025-04-05 01:49:45,756 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/recommended
2025-04-05 01:49:45,756 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,756 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,756 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,757 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /categories, Method: GET
2025-04-05 01:49:45,757 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,757 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,757 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,757 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/recommended?limit=4
2025-04-05 01:49:45,757 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,757 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:49:45,757 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,757 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,758 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:49:45,758 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,758 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,758 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,758 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,758 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:49:45,758 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:49:45,758 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,758 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,758 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,759 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,759 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:49:45,759 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:49:45,759 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:49:45,759 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:49:45,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,760 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,760 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@dd122f8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@663c8d78, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,760 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@6da78a2a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,760 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,760 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products/top?limit=4
2025-04-05 01:49:45,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /wishlist
2025-04-05 01:49:45,762 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products?sort=newest
2025-04-05 01:49:45,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,762 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getAllProducts
2025-04-05 01:49:45,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,762 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getTopProducts
2025-04-05 01:49:45,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,762 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,762 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,763 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:49:45,763 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,763 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,763 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:49:45,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,763 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:49:45,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@581452a7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,765 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,765 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@69c83d44, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,765 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /categories
2025-04-05 01:49:45,765 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/recommended?limit=4
2025-04-05 01:49:45,765 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:45,766 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-6] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:45,766 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:45,766 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getAllCategories
2025-04-05 01:49:45,766 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,766 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,766 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-6] Get wishlist request for user: 3
2025-04-05 01:49:45,766 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:49:45,766 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,766 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:49:45,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,767 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:49:45,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,767 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,767 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,767 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,768 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,768 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:49:45,768 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,769 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getTopProducts executed in 7 ms
2025-04-05 01:49:45,769 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,769 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,769 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:49:45,769 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40)],[]>]
2025-04-05 01:49:45,769 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getAllCategories executed in 3 ms
2025-04-05 01:49:45,769 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getAllProducts executed in 7 ms
2025-04-05 01:49:45,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,771 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@208d795e],[]>]
2025-04-05 01:49:45,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,771 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getWishlist executed in 5 ms
2025-04-05 01:49:45,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,773 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,773 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,773 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,773 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=21ms
2025-04-05 01:49:45,773 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,773 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,774 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getRecommendedProducts executed in 8 ms
2025-04-05 01:49:45,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,774 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,774 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,774 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,774 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,774 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,775 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /wishlist
2025-04-05 01:49:45,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,775 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,775 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,775 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=20ms
2025-04-05 01:49:45,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,775 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /wishlist
2025-04-05 01:49:45,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,775 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,776 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /wishlist, Method: GET
2025-04-05 01:49:45,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,776 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,776 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,776 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:49:45,776 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /categories
2025-04-05 01:49:45,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,776 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,777 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /categories
2025-04-05 01:49:45,777 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,777 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:49:45,777 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /categories, Method: GET
2025-04-05 01:49:45,777 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:49:45,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,777 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,777 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:49:45,777 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:49:45,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,778 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,778 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:49:45,779 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:49:45,778 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,778 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,778 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,779 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:49:45,779 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,779 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,780 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,780 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,781 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,781 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,781 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:49:45,781 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,781 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@bdac27d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,781 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,782 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,782 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /wishlist
2025-04-05 01:49:45,782 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=30ms
2025-04-05 01:49:45,782 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,782 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=30ms
2025-04-05 01:49:45,782 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,782 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:49:45,782 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,782 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,782 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@17a55a98, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,783 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /categories
2025-04-05 01:49:45,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,783 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,783 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,783 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getAllCategories
2025-04-05 01:49:45,783 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /products/top
2025-04-05 01:49:45,783 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,784 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /products/top?limit=4
2025-04-05 01:49:45,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,784 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,784 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,784 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:45,784 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-2] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.WishlistController.getWishlist(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.WishlistController]
2025-04-05 01:49:45,784 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,784 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        category0_.id as id1_0_,
        category0_.created_at as created_2_0_,
        category0_.description as descript3_0_,
        category0_.display_order as display_4_0_,
        category0_.image_url as image_ur5_0_,
        category0_.is_active as is_activ6_0_,
        category0_.name as name7_0_,
        category0_.parent_id as parent_i9_0_,
        category0_.updated_at as updated_8_0_ 
    from
        categories category0_
2025-04-05 01:49:45,784 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,784 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getWishlist with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:49:45,784 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:49:45,784 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,784 INFO com.example.tmdt.controller.WishlistController [http-nio-8080-exec-2] Get wishlist request for user: 3
2025-04-05 01:49:45,785 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,785 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:49:45,785 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] REQUEST: GET /products
2025-04-05 01:49:45,785 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=29ms
2025-04-05 01:49:45,785 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        wishlist0_.id as id1_17_,
        wishlist0_.created_at as created_2_17_,
        wishlist0_.product_id as product_3_17_,
        wishlist0_.user_id as user_id4_17_ 
    from
        wishlists wishlist0_ 
    where
        wishlist0_.user_id=?
2025-04-05 01:49:45,785 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,786 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,786 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-10] Securing GET /products?sort=newest
2025-04-05 01:49:45,786 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:49:45,786 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:49:45,786 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getAllCategories with result: [<200 OK OK,[Category(id=1, name=Electronics, description=Electronic devices and accessories, imageUrl=https://example.com/electronics.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04)],[]>]
2025-04-05 01:49:45,786 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getAllCategories executed in 3 ms
2025-04-05 01:49:45,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Processing request to URL: /products, Method: GET
2025-04-05 01:49:45,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,786 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found Authorization header with Bearer token
2025-04-05 01:49:45,787 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,787 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] REQUEST: GET /products/recommended
2025-04-05 01:49:45,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,787 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,787 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] JWT token validation successful
2025-04-05 01:49:45,787 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-3] Securing GET /products/recommended?limit=4
2025-04-05 01:49:45,787 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_0_,
        product0_.average_rating as average_2_8_0_,
        product0_.category_id as categor14_8_0_,
        product0_.created_at as created_3_8_0_,
        product0_.description as descript4_8_0_,
        product0_.discount_percentage as discount5_8_0_,
        product0_.image_url as image_ur6_8_0_,
        product0_.is_featured as is_featu7_8_0_,
        product0_.name as name8_8_0_,
        product0_.price as price9_8_0_,
        product0_.review_count as review_10_8_0_,
        product0_.sold_count as sold_co11_8_0_,
        product0_.stock as stock12_8_0_,
        product0_.updated_at as updated13_8_0_,
        category1_.id as id1_0_1_,
        category1_.created_at as created_2_0_1_,
        category1_.description as descript3_0_1_,
        category1_.display_order as display_4_0_1_,
        category1_.image_url as image_ur5_0_1_,
        category1_.is_active as is_activ6_0_1_,
        category1_.name as name7_0_1_,
        category1_.parent_id as parent_i9_0_1_,
        category1_.updated_at as updated_8_0_1_ 
    from
        products product0_ 
    left outer join
        categories category1_ 
            on product0_.category_id=category1_.id 
    where
        product0_.id=?
2025-04-05 01:49:45,787 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,787 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,787 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-10] Extracted username from JWT token: a1234
2025-04-05 01:49:45,788 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Processing request to URL: /products/recommended, Method: GET
2025-04-05 01:49:45,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,788 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,788 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Valid JWT token found for user: a1234
2025-04-05 01:49:45,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,788 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found Authorization header with Bearer token
2025-04-05 01:49:45,788 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,788 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] JWT token validation successful
2025-04-05 01:49:45,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,788 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,788 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-3] Extracted username from JWT token: a1234
2025-04-05 01:49:45,788 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,789 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Valid JWT token found for user: a1234
2025-04-05 01:49:45,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,789 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,789 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:49:45,789 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,789 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@562733b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,789 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        subcategor0_.parent_id as parent_i9_0_0_,
        subcategor0_.id as id1_0_0_,
        subcategor0_.id as id1_0_1_,
        subcategor0_.created_at as created_2_0_1_,
        subcategor0_.description as descript3_0_1_,
        subcategor0_.display_order as display_4_0_1_,
        subcategor0_.image_url as image_ur5_0_1_,
        subcategor0_.is_active as is_activ6_0_1_,
        subcategor0_.name as name7_0_1_,
        subcategor0_.parent_id as parent_i9_0_1_,
        subcategor0_.updated_at as updated_8_0_1_ 
    from
        categories subcategor0_ 
    where
        subcategor0_.parent_id=?
2025-04-05 01:49:45,789 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /products/top?limit=4
2025-04-05 01:49:45,789 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,789 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getWishlist with result: [<200 OK OK,[com.example.tmdt.payload.response.ProductResponse@79fd0697],[]>]
2025-04-05 01:49:45,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,790 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getWishlist executed in 6 ms
2025-04-05 01:49:45,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,790 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getTopProducts
2025-04-05 01:49:45,790 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,790 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,790 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=14ms
2025-04-05 01:49:45,790 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,790 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=15ms
2025-04-05 01:49:45,790 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,790 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,790 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] User authorities: [ROLE_USER]
2025-04-05 01:49:45,790 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,790 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-10] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@39b1fe30, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,792 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-10] Secured GET /products?sort=newest
2025-04-05 01:49:45,792 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,792 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] ENTERING getAllProducts
2025-04-05 01:49:45,793 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,794 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,794 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_
2025-04-05 01:49:45,794 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] User authorities: [ROLE_USER]
2025-04-05 01:49:45,795 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,795 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,795 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-3] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2f72db34, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,795 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-3] Secured GET /products/recommended?limit=4
2025-04-05 01:49:45,795 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,795 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,795 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,795 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,796 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] ENTERING getRecommendedProducts with args: [4]
2025-04-05 01:49:45,796 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,796 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getTopProducts executed in 6 ms
2025-04-05 01:49:45,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,796 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,796 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,797 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,797 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,797 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,798 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,798 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,798 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,798 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,798 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] EXITING getAllProducts with result: [<200 OK OK,[Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40)],[]>]
2025-04-05 01:49:45,798 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-10] Method getAllProducts executed in 6 ms
2025-04-05 01:49:45,798 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,799 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,799 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,799 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,799 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,800 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,800 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] EXITING getRecommendedProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,800 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,800 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-3] Method getRecommendedProducts executed in 4 ms
2025-04-05 01:49:45,800 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,801 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,801 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,801 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,801 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,801 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,801 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,801 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,801 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,802 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,802 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,803 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,803 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,803 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,803 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,803 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,803 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,804 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,804 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,804 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,804 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,804 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,804 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,805 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,805 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,805 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,805 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,806 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,806 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,806 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,806 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,807 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=23ms
2025-04-05 01:49:45,807 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,807 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,807 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,808 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,808 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,808 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] REQUEST: GET /products/top
2025-04-05 01:49:45,808 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,808 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-6] Securing GET /products/top?limit=4
2025-04-05 01:49:45,808 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,809 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,808 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-10] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,809 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-10] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found Authorization header with Bearer token
2025-04-05 01:49:45,809 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,809 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] JWT token validation successful
2025-04-05 01:49:45,809 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,809 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-10] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,810 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-10] RESPONSE: Status=200, Time=24ms
2025-04-05 01:49:45,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-3] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,810 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-6] Extracted username from JWT token: a1234
2025-04-05 01:49:45,810 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Valid JWT token found for user: a1234
2025-04-05 01:49:45,810 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-3] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,810 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-3] RESPONSE: Status=200, Time=23ms
2025-04-05 01:49:45,810 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,810 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,812 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,812 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,814 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,815 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] User authorities: [ROLE_USER]
2025-04-05 01:49:45,815 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,815 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-6] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@69b1cf46, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,815 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-6] Secured GET /products/top?limit=4
2025-04-05 01:49:45,815 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] ENTERING getTopProducts
2025-04-05 01:49:45,816 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,817 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,817 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,818 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,818 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,818 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,819 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,819 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,819 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-6] Method getTopProducts executed in 4 ms
2025-04-05 01:49:45,820 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,821 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,821 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,822 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,822 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,823 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,823 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,825 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,825 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,825 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,826 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,826 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,826 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,826 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,827 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,827 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,828 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,828 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,829 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-6] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,829 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-6] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,829 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-6] RESPONSE: Status=200, Time=21ms
2025-04-05 01:49:45,831 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] REQUEST: GET /products/top
2025-04-05 01:49:45,831 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,831 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-1] Securing GET /products/top?limit=4
2025-04-05 01:49:45,831 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,831 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found Authorization header with Bearer token
2025-04-05 01:49:45,832 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,832 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] JWT token validation successful
2025-04-05 01:49:45,832 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-1] Extracted username from JWT token: a1234
2025-04-05 01:49:45,833 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Valid JWT token found for user: a1234
2025-04-05 01:49:45,833 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,834 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,834 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,835 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,836 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,836 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] User authorities: [ROLE_USER]
2025-04-05 01:49:45,836 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,837 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-1] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@1b4e8d50, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,837 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-1] Secured GET /products/top?limit=4
2025-04-05 01:49:45,837 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] ENTERING getTopProducts
2025-04-05 01:49:45,838 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,839 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,839 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,840 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,840 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,840 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,841 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,842 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,842 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-1] Method getTopProducts executed in 5 ms
2025-04-05 01:49:45,842 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,842 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,843 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,843 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,844 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,844 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,845 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,845 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,846 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,846 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,846 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,847 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,847 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,848 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,848 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,848 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,849 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,849 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,850 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,850 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-1] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,850 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-1] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,850 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-1] RESPONSE: Status=200, Time=19ms
2025-04-05 01:49:45,852 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] REQUEST: GET /products/top
2025-04-05 01:49:45,852 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,853 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-4] Securing GET /products/top?limit=4
2025-04-05 01:49:45,853 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,853 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,853 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,853 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found Authorization header with Bearer token
2025-04-05 01:49:45,853 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,854 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] JWT token validation successful
2025-04-05 01:49:45,854 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-4] Extracted username from JWT token: a1234
2025-04-05 01:49:45,854 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Valid JWT token found for user: a1234
2025-04-05 01:49:45,855 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,856 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,856 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,856 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,858 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,858 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] User authorities: [ROLE_USER]
2025-04-05 01:49:45,858 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,858 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-4] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@198aa4fd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,858 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-4] Secured GET /products/top?limit=4
2025-04-05 01:49:45,858 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] ENTERING getTopProducts
2025-04-05 01:49:45,859 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,860 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,860 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,861 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,861 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,862 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,862 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,863 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,863 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-4] Method getTopProducts executed in 5 ms
2025-04-05 01:49:45,864 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,865 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,867 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,867 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,869 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,869 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,870 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,870 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,872 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,872 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,873 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,873 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,874 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,875 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,876 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,876 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,877 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,877 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,877 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,878 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-4] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,878 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-4] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,879 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-4] RESPONSE: Status=200, Time=27ms
2025-04-05 01:49:45,880 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] REQUEST: GET /products/top
2025-04-05 01:49:45,880 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,880 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-5] Securing GET /products/top?limit=4
2025-04-05 01:49:45,880 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,880 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,880 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,880 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found Authorization header with Bearer token
2025-04-05 01:49:45,880 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,881 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] JWT token validation successful
2025-04-05 01:49:45,881 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-5] Extracted username from JWT token: a1234
2025-04-05 01:49:45,881 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Valid JWT token found for user: a1234
2025-04-05 01:49:45,882 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,882 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,883 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,883 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,885 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,885 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] User authorities: [ROLE_USER]
2025-04-05 01:49:45,885 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,885 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-5] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@47c7e602, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,885 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-5] Secured GET /products/top?limit=4
2025-04-05 01:49:45,885 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] ENTERING getTopProducts
2025-04-05 01:49:45,886 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,887 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,887 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,887 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,888 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,888 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,888 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,889 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,889 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-5] Method getTopProducts executed in 4 ms
2025-04-05 01:49:45,890 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,890 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,890 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,892 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,892 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,892 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,893 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,893 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,894 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,894 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,895 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,895 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,896 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,896 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,896 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,896 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,897 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,897 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,898 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,898 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-5] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,899 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-5] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,899 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-5] RESPONSE: Status=200, Time=19ms
2025-04-05 01:49:45,900 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /products/top
2025-04-05 01:49:45,900 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,900 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /products/top?limit=4
2025-04-05 01:49:45,900 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,900 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,900 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,900 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:49:45,900 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,902 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:49:45,902 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:49:45,902 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:49:45,903 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,903 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,904 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,904 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,906 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,906 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:49:45,906 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,906 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@59a46bbf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,906 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /products/top?limit=4
2025-04-05 01:49:45,906 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getTopProducts
2025-04-05 01:49:45,907 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,908 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,908 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,909 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,909 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,909 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,909 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,910 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,910 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getTopProducts executed in 4 ms
2025-04-05 01:49:45,911 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,911 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,912 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,912 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,912 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,913 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,913 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,913 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,914 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,914 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,915 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,915 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,915 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,915 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,916 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,916 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,916 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,917 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,917 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,918 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,918 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,919 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=19ms
2025-04-05 01:49:45,919 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] REQUEST: GET /products/top
2025-04-05 01:49:45,920 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:49:45,920 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-2] Securing GET /products/top?limit=4
2025-04-05 01:49:45,920 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:49:45,920 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Processing request to URL: /products/top, Method: GET
2025-04-05 01:49:45,920 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,920 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found Authorization header with Bearer token
2025-04-05 01:49:45,920 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:49:45,920 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] JWT token validation successful
2025-04-05 01:49:45,922 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-2] Extracted username from JWT token: a1234
2025-04-05 01:49:45,922 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Valid JWT token found for user: a1234
2025-04-05 01:49:45,922 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:49:45,923 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:49:45,923 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:49:45,923 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,925 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,925 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] User authorities: [ROLE_USER]
2025-04-05 01:49:45,925 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:49:45,925 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-2] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@2ac9153d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:49:45,925 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-2] Secured GET /products/top?limit=4
2025-04-05 01:49:45,926 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] ENTERING getTopProducts
2025-04-05 01:49:45,926 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        product0_.id as id1_8_,
        product0_.average_rating as average_2_8_,
        product0_.category_id as categor14_8_,
        product0_.created_at as created_3_8_,
        product0_.description as descript4_8_,
        product0_.discount_percentage as discount5_8_,
        product0_.image_url as image_ur6_8_,
        product0_.is_featured as is_featu7_8_,
        product0_.name as name8_8_,
        product0_.price as price9_8_,
        product0_.review_count as review_10_8_,
        product0_.sold_count as sold_co11_8_,
        product0_.stock as stock12_8_,
        product0_.updated_at as updated13_8_ 
    from
        products product0_ 
    order by
        product0_.average_rating desc limit ?
2025-04-05 01:49:45,927 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,928 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,928 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,929 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,929 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        category0_.id as id1_0_0_,
        category0_.created_at as created_2_0_0_,
        category0_.description as descript3_0_0_,
        category0_.display_order as display_4_0_0_,
        category0_.image_url as image_ur5_0_0_,
        category0_.is_active as is_activ6_0_0_,
        category0_.name as name7_0_0_,
        category0_.parent_id as parent_i9_0_0_,
        category0_.updated_at as updated_8_0_0_ 
    from
        categories category0_ 
    where
        category0_.id=?
2025-04-05 01:49:45,930 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,931 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] EXITING getTopProducts with result: [<200 OK OK,[Product(id=2, name=MacBook Pro M1, description=Powerful laptop with M1 chip, price=1299.99, stock=30, imageUrl=https://example.com/macbook.jpg, category=Category(id=3, name=Laptops, description=Portable computers, imageUrl=https://example.com/laptops.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.9, reviewCount=85, soldCount=300, isFeatured=true, discountPercentage=5.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:30:15), Product(id=1, name=iPhone 13 Pro, description=Latest iPhone model with advanced features, price=999.99, stock=50, imageUrl=https://example.com/iphone13.jpg, category=Category(id=2, name=Smartphones, description=Mobile phones and accessories, imageUrl=https://example.com/smartphones.jpg, isActive=true, displayOrder=1, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.8, reviewCount=120, soldCount=500, isFeatured=true, discountPercentage=10.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:40:01), Product(id=4, name=Summer Dress, description=Light and breezy summer dress, price=49.99, stock=150, imageUrl=https://example.com/dress.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.7, reviewCount=180, soldCount=800, isFeatured=true, discountPercentage=15.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:48:40), Product(id=3, name=Classic T-Shirt, description=Comfortable cotton t-shirt, price=29.99, stock=199, imageUrl=https://example.com/tshirt.jpg, category=Category(id=4, name=Fashion, description=Clothing and accessories, imageUrl=https://example.com/fashion.jpg, isActive=true, displayOrder=2, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-02T16:06:04), averageRating=4.5, reviewCount=250, soldCount=1000, isFeatured=false, discountPercentage=0.0, createdAt=2025-04-02T16:06:04, updatedAt=2025-04-05T01:44:15)],[]>]
2025-04-05 01:49:45,931 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-2] Method getTopProducts executed in 5 ms
2025-04-05 01:49:45,932 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,932 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,933 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,934 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,935 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,935 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,936 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,936 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,937 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,937 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [1]
2025-04-05 01:49:45,939 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:49:45,939 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [2]
2025-04-05 01:49:45,940 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,940 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,942 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,942 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [4]
2025-04-05 01:49:45,943 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        images0_.product_id as product_5_6_0_,
        images0_.id as id1_6_0_,
        images0_.id as id1_6_1_,
        images0_.created_at as created_2_6_1_,
        images0_.display_order as display_3_6_1_,
        images0_.image_url as image_ur4_6_1_,
        images0_.product_id as product_5_6_1_ 
    from
        product_images images0_ 
    where
        images0_.product_id=?
2025-04-05 01:49:45,943 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,944 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        reviews0_.product_id as product_7_11_0_,
        reviews0_.id as id1_11_0_,
        reviews0_.id as id1_11_1_,
        reviews0_.comment as comment2_11_1_,
        reviews0_.created_at as created_3_11_1_,
        reviews0_.product_id as product_7_11_1_,
        reviews0_.rating as rating4_11_1_,
        reviews0_.title as title5_11_1_,
        reviews0_.updated_at as updated_6_11_1_,
        reviews0_.user_id as user_id8_11_1_ 
    from
        reviews reviews0_ 
    where
        reviews0_.product_id=?
2025-04-05 01:49:45,944 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-2] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:49:45,945 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-2] Cleared SecurityContextHolder to complete request
2025-04-05 01:49:45,945 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-2] RESPONSE: Status=200, Time=26ms
2025-04-05 01:50:04,763 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] REQUEST: GET /notifications/unread-count
2025-04-05 01:50:04,763 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:50:04,764 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-7] Securing GET /notifications/unread-count
2025-04-05 01:50:04,764 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:50:04,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:50:04,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:50:04,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found Authorization header with Bearer token
2025-04-05 01:50:04,765 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:50:04,766 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] JWT token validation successful
2025-04-05 01:50:04,767 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-7] Extracted username from JWT token: a1234
2025-04-05 01:50:04,767 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Valid JWT token found for user: a1234
2025-04-05 01:50:04,769 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:50:04,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:50:04,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:50:04,772 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:50:04,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:50:04,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] User authorities: [ROLE_USER]
2025-04-05 01:50:04,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:50:04,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-7] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@4aa72beb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:50:04,774 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-7] Secured GET /notifications/unread-count
2025-04-05 01:50:04,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:50:04,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:50:04,777 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:50:04,777 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-7] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:50:04,778 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:50:04,778 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-7] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:50:04,778 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-7] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:50:04,779 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:50:04,779 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-7] Method getUnreadCount executed in 2 ms
2025-04-05 01:50:04,780 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-7] Cleared SecurityContextHolder to complete request
2025-04-05 01:50:04,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-7] RESPONSE: Status=200, Time=17ms
2025-04-05 01:50:34,767 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] REQUEST: GET /notifications/unread-count
2025-04-05 01:50:34,767 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:50:34,768 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-8] Securing GET /notifications/unread-count
2025-04-05 01:50:34,768 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:50:34,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:50:34,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:50:34,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found Authorization header with Bearer token
2025-04-05 01:50:34,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:50:34,769 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] JWT token validation successful
2025-04-05 01:50:34,769 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-8] Extracted username from JWT token: a1234
2025-04-05 01:50:34,769 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Valid JWT token found for user: a1234
2025-04-05 01:50:34,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:50:34,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:50:34,772 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:50:34,772 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:50:34,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:50:34,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] User authorities: [ROLE_USER]
2025-04-05 01:50:34,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:50:34,774 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-8] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@68086628, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:50:34,774 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-8] Secured GET /notifications/unread-count
2025-04-05 01:50:34,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:50:34,776 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:50:34,777 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:50:34,777 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-8] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:50:34,777 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:50:34,778 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-8] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:50:34,778 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-8] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:50:34,779 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:50:34,779 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-8] Method getUnreadCount executed in 2 ms
2025-04-05 01:50:34,780 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-8] Cleared SecurityContextHolder to complete request
2025-04-05 01:50:34,780 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-8] RESPONSE: Status=200, Time=13ms
2025-04-05 01:51:35,767 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] REQUEST: GET /notifications/unread-count
2025-04-05 01:51:35,767 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] HEADERS: host=localhost:8080, connection=keep-alive, sec-ch-ua-platform="Windows", user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0, accept=application/json, text/plain, */*, sec-ch-ua="Chromium";v="134", "Not:A-Brand";v="24", "Microsoft Edge";v="134", sec-ch-ua-mobile=?0, origin=http://localhost:3000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:3000/, accept-encoding=gzip, deflate, br, zstd, accept-language=en-GB,en;q=0.9,en-US;q=0.8, 
2025-04-05 01:51:35,767 DEBUG org.springframework.security.web.FilterChainProxy [http-nio-8080-exec-9] Securing GET /notifications/unread-count
2025-04-05 01:51:35,767 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Set SecurityContextHolder to empty SecurityContext
2025-04-05 01:51:35,767 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Processing request to URL: /notifications/unread-count, Method: GET
2025-04-05 01:51:35,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:51:35,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found Authorization header with Bearer token
2025-04-05 01:51:35,768 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Found JWT token in request: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhMTIzNCIsImlhdCI6MTc0Mzc5MjAyMiwiZXhwIjoxNzQzODc4NDIyfQ.yAYbB-UNfVsiLq6GzQ8oohkHBivCP1hdVL-1nS_MBPm7_oP9cYoUci9oM7C26Kel_9y5q7heiFFVB0s0JNb50Q
2025-04-05 01:51:35,768 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] JWT token validation successful
2025-04-05 01:51:35,769 DEBUG com.example.tmdt.security.jwt.JwtUtils [http-nio-8080-exec-9] Extracted username from JWT token: a1234
2025-04-05 01:51:35,769 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Valid JWT token found for user: a1234
2025-04-05 01:51:35,770 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_,
        user0_.address as address2_16_,
        user0_.email as email3_16_,
        user0_.full_name as full_nam4_16_,
        user0_.password as password5_16_,
        user0_.phone_number as phone_nu6_16_,
        user0_.username as username7_16_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-04-05 01:51:35,770 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [VARCHAR] - [a1234]
2025-04-05 01:51:35,771 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        roles0_.user_id as user_id1_15_0_,
        roles0_.role_id as role_id2_15_0_,
        role1_.id as id1_12_1_,
        role1_.name as name2_12_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-04-05 01:51:35,771 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:51:35,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User details loaded for: a1234, User class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:51:35,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] User authorities: [ROLE_USER]
2025-04-05 01:51:35,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Set authentication for user: a1234 with authorities: [ROLE_USER]
2025-04-05 01:51:35,773 DEBUG com.example.tmdt.security.jwt.AuthTokenFilter [http-nio-8080-exec-9] Authentication set in SecurityContext: UsernamePasswordAuthenticationToken [Principal=com.example.tmdt.security.services.UserDetailsImpl@610dee0e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Principal class: com.example.tmdt.security.services.UserDetailsImpl
2025-04-05 01:51:35,774 DEBUG org.springframework.security.web.FilterChainProxy$VirtualFilterChain [http-nio-8080-exec-9] Secured GET /notifications/unread-count
2025-04-05 01:51:35,775 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        user0_.id as id1_16_0_,
        user0_.address as address2_16_0_,
        user0_.email as email3_16_0_,
        user0_.full_name as full_nam4_16_0_,
        user0_.password as password5_16_0_,
        user0_.phone_number as phone_nu6_16_0_,
        user0_.username as username7_16_0_,
        roles1_.user_id as user_id1_15_1_,
        role2_.id as role_id2_15_1_,
        role2_.id as id1_12_2_,
        role2_.name as name2_12_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-04-05 01:51:35,775 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:51:35,776 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:51:35,776 DEBUG org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor [http-nio-8080-exec-9] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.tmdt.controller.NotificationController.getUnreadCount(com.example.tmdt.model.User); target is of class [com.example.tmdt.controller.NotificationController]
2025-04-05 01:51:35,777 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] ENTERING getUnreadCount with args: [User(id=3, username=a1234, email=leloilonglon@gmail.com, password=$2a$10$xXfAob.90H1heMq/BlCF1.ZkPx4GO/8M1VfZsFB7sddAlB4c5uD8G, fullName=sYn good72a, phoneNumber=123a, address=Ã¢)]
2025-04-05 01:51:35,777 DEBUG org.hibernate.engine.jdbc.spi.SqlStatementLogger [http-nio-8080-exec-9] 
    select
        count(notificati0_.id) as col_0_0_ 
    from
        notifications notificati0_ 
    where
        notificati0_.user_id=? 
        and notificati0_.is_read=0
2025-04-05 01:51:35,777 TRACE org.hibernate.type.descriptor.sql.BasicBinder [http-nio-8080-exec-9] binding parameter [1] as [BIGINT] - [3]
2025-04-05 01:51:35,778 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] EXITING getUnreadCount with result: [<200 OK OK,0,[]>]
2025-04-05 01:51:35,778 DEBUG com.example.tmdt.utils.LoggerUtil [http-nio-8080-exec-9] Method getUnreadCount executed in 1 ms
2025-04-05 01:51:35,779 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter [http-nio-8080-exec-9] Cleared SecurityContextHolder to complete request
2025-04-05 01:51:35,779 INFO com.example.tmdt.filter.RequestLoggingFilter [http-nio-8080-exec-9] RESPONSE: Status=200, Time=13ms
2025-04-05 01:51:57,216 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-05 01:51:57,218 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-04-05 01:51:57,247 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
